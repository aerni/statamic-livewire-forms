(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";var Q=Object.defineProperty;var K=(e,t,a)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Z=(e,t,a)=>(K(e,typeof t!="symbol"?t+"":t,a),a);/*!
 * FilePond 4.31.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const isNode=e=>e instanceof HTMLElement,createStore=(e,t=[],a=[])=>{const n={...e},l=[],r=[],s=()=>({...n}),o=()=>{const g=[...l];return l.length=0,g},c=()=>{const g=[...r];r.length=0,g.forEach(({type:E,data:T})=>{u(E,T)})},u=(g,E,T)=>{if(T&&!document.hidden){r.push({type:g,data:E});return}m[g]&&m[g](E),l.push({type:g,data:E})},d=(g,...E)=>h[g]?h[g](...E):null,p={getState:s,processActionQueue:o,processDispatchQueue:c,dispatch:u,query:d};let h={};t.forEach(g=>{h={...g(n),...h}});let m={};return a.forEach(g=>{m={...g(u,d,n),...m}}),p},defineProperty=(e,t,a)=>{if(typeof a=="function"){e[t]=a;return}Object.defineProperty(e,t,{...a})},forin=(e,t)=>{for(const a in e)e.hasOwnProperty(a)&&t(a,e[a])},createObject=e=>{const t={};return forin(e,a=>{defineProperty(t,a,e[a])}),t},attr=(e,t,a=null)=>{if(a===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,a)},ns$1="http://www.w3.org/2000/svg",svgElements=["svg","path"],isSVGElement=e=>svgElements.includes(e),createElement=(e,t,a={})=>{typeof t=="object"&&(a=t,t=null);const n=isSVGElement(e)?document.createElementNS(ns$1,e):document.createElement(e);return t&&(isSVGElement(e)?attr(n,"class",t):n.className=t),forin(a,(l,r)=>{attr(n,l,r)}),n},appendChild=e=>(t,a)=>{typeof a<"u"&&e.children[a]?e.insertBefore(t,e.children[a]):e.appendChild(t)},appendChildView=(e,t)=>(a,n)=>(typeof n<"u"?t.splice(n,0,a):t.push(a),a),removeChildView=(e,t)=>a=>(t.splice(t.indexOf(a),1),a.element.parentNode&&e.removeChild(a.element),a),IS_BROWSER=(()=>typeof window<"u"&&typeof window.document<"u")(),isBrowser$4=()=>IS_BROWSER,testElement=isBrowser$4()?createElement("svg"):{},getChildCount="children"in testElement?e=>e.children.length:e=>e.childNodes.length,getViewRect=(e,t,a,n)=>{const l=a[0]||e.left,r=a[1]||e.top,s=l+e.width,o=r+e.height*(n[1]||1),c={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:l,top:r,right:s,bottom:o}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{expandRect(c.inner,{...u.inner}),expandRect(c.outer,{...u.outer})}),calculateRectSize(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,calculateRectSize(c.outer),c},expandRect=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},calculateRectSize=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},isNumber$1=e=>typeof e=="number",thereYet=(e,t,a,n=.001)=>Math.abs(e-t)<n&&Math.abs(a)<n,spring=({stiffness:e=.5,damping:t=.75,mass:a=10}={})=>{let n=null,l=null,r=0,s=!1;const u=createObject({interpolate:(d,p)=>{if(s)return;if(!(isNumber$1(n)&&isNumber$1(l))){s=!0,r=0;return}const h=-(l-n)*e;r+=h/a,l+=r,r*=t,thereYet(l,n,r)||p?(l=n,r=0,s=!0,u.onupdate(l),u.oncomplete(l)):u.onupdate(l)},target:{set:d=>{if(isNumber$1(d)&&!isNumber$1(l)&&(l=d),n===null&&(n=d,l=d),n=d,l===n||typeof n>"u"){s=!0,r=0,u.onupdate(l),u.oncomplete(l);return}s=!1},get:()=>n},resting:{get:()=>s},onupdate:d=>{},oncomplete:d=>{}});return u},easeInOutQuad=e=>e<.5?2*e*e:-1+(4-2*e)*e,tween=({duration:e=500,easing:t=easeInOutQuad,delay:a=0}={})=>{let n=null,l,r,s=!0,o=!1,c=null;const d=createObject({interpolate:(p,h)=>{s||c===null||(n===null&&(n=p),!(p-n<a)&&(l=p-n-a,l>=e||h?(l=1,r=o?0:1,d.onupdate(r*c),d.oncomplete(r*c),s=!0):(r=l/e,d.onupdate((l>=0?t(o?1-r:r):0)*c))))},target:{get:()=>o?0:c,set:p=>{if(c===null){c=p,d.onupdate(p),d.oncomplete(p);return}p<c?(c=1,o=!0):(o=!1,c=p),s=!1,n=null}},resting:{get:()=>s},onupdate:p=>{},oncomplete:p=>{}});return d},animator={spring,tween},createAnimator=(e,t,a)=>{const n=e[t]&&typeof e[t][a]=="object"?e[t][a]:e[t]||e,l=typeof n=="string"?n:n.type,r=typeof n=="object"?{...n}:{};return animator[l]?animator[l](r):null},addGetSet=(e,t,a,n=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(l=>{e.forEach(r=>{let s=r,o=()=>a[r],c=u=>a[r]=u;typeof r=="object"&&(s=r.key,o=r.getter||o,c=r.setter||c),!(l[s]&&!n)&&(l[s]={get:o,set:c})})})},animations=({mixinConfig:e,viewProps:t,viewInternalAPI:a,viewExternalAPI:n})=>{const l={...t},r=[];return forin(e,(s,o)=>{const c=createAnimator(o);if(!c)return;c.onupdate=d=>{t[s]=d},c.target=l[s],addGetSet([{key:s,setter:d=>{c.target!==d&&(c.target=d)},getter:()=>t[s]}],[a,n],t,!0),r.push(c)}),{write:s=>{let o=document.hidden,c=!0;return r.forEach(u=>{u.resting||(c=!1),u.interpolate(s,o)}),c},destroy:()=>{}}},addEvent=e=>(t,a)=>{e.addEventListener(t,a)},removeEvent=e=>(t,a)=>{e.removeEventListener(t,a)},listeners=({mixinConfig:e,viewProps:t,viewInternalAPI:a,viewExternalAPI:n,viewState:l,view:r})=>{const s=[],o=addEvent(r.element),c=removeEvent(r.element);return n.on=(u,d)=>{s.push({type:u,fn:d}),o(u,d)},n.off=(u,d)=>{s.splice(s.findIndex(p=>p.type===u&&p.fn===d),1),c(u,d)},{write:()=>!0,destroy:()=>{s.forEach(u=>{c(u.type,u.fn)})}}},apis=({mixinConfig:e,viewProps:t,viewExternalAPI:a})=>{addGetSet(e,a,t)},isDefined$1=e=>e!=null,defaults$1={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},styles=({mixinConfig:e,viewProps:t,viewInternalAPI:a,viewExternalAPI:n,view:l})=>{const r={...t},s={};addGetSet(e,[a,n],t);const o=()=>[t.translateX||0,t.translateY||0],c=()=>[t.scaleX||0,t.scaleY||0],u=()=>l.rect?getViewRect(l.rect,l.childViews,o(),c()):null;return a.rect={get:u},n.rect={get:u},e.forEach(d=>{t[d]=typeof r[d]>"u"?defaults$1[d]:r[d]}),{write:()=>{if(propsHaveChanged(s,t))return applyStyles(l.element,t),Object.assign(s,{...t}),!0},destroy:()=>{}}},propsHaveChanged=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const a in t)if(t[a]!==e[a])return!0;return!1},applyStyles=(e,{opacity:t,perspective:a,translateX:n,translateY:l,scaleX:r,scaleY:s,rotateX:o,rotateY:c,rotateZ:u,originX:d,originY:p,width:h,height:m})=>{let g="",E="";(isDefined$1(d)||isDefined$1(p))&&(E+=`transform-origin: ${d||0}px ${p||0}px;`),isDefined$1(a)&&(g+=`perspective(${a}px) `),(isDefined$1(n)||isDefined$1(l))&&(g+=`translate3d(${n||0}px, ${l||0}px, 0) `),(isDefined$1(r)||isDefined$1(s))&&(g+=`scale3d(${isDefined$1(r)?r:1}, ${isDefined$1(s)?s:1}, 1) `),isDefined$1(u)&&(g+=`rotateZ(${u}rad) `),isDefined$1(o)&&(g+=`rotateX(${o}rad) `),isDefined$1(c)&&(g+=`rotateY(${c}rad) `),g.length&&(E+=`transform:${g};`),isDefined$1(t)&&(E+=`opacity:${t};`,t===0&&(E+="visibility:hidden;"),t<1&&(E+="pointer-events:none;")),isDefined$1(m)&&(E+=`height:${m}px;`),isDefined$1(h)&&(E+=`width:${h}px;`);const T=e.elementCurrentStyle||"";(E.length!==T.length||E!==T)&&(e.style.cssText=E,e.elementCurrentStyle=E)},Mixins={styles,listeners,animations,apis},updateRect$1=(e={},t={},a={})=>(t.layoutCalculated||(e.paddingTop=parseInt(a.paddingTop,10)||0,e.marginTop=parseInt(a.marginTop,10)||0,e.marginRight=parseInt(a.marginRight,10)||0,e.marginBottom=parseInt(a.marginBottom,10)||0,e.marginLeft=parseInt(a.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),createView=({tag:e="div",name:t=null,attributes:a={},read:n=()=>{},write:l=()=>{},create:r=()=>{},destroy:s=()=>{},filterFrameActionsForChild:o=(m,g)=>g,didCreateView:c=()=>{},didWriteView:u=()=>{},ignoreRect:d=!1,ignoreRectUpdate:p=!1,mixins:h=[]}={})=>(m,g={})=>{const E=createElement(e,`filepond--${t}`,a),T=window.getComputedStyle(E,null),I=updateRect$1();let f=null,b=!1;const S=[],R=[],A={},O={},L=[l],P=[n],D=[s],M=()=>E,z=()=>S.concat(),V=()=>A,x=B=>(G,H)=>G(B,H),k=()=>f||(f=getViewRect(I,S,[0,0],[1,1]),f),y=()=>T,F=()=>{f=null,S.forEach(H=>H._read()),!(p&&I.width&&I.height)&&updateRect$1(I,E,T);const G={root:$,props:g,rect:I};P.forEach(H=>H(G))},w=(B,G,H)=>{let q=G.length===0;return L.forEach(U=>{U({props:g,root:$,actions:G,timestamp:B,shouldOptimize:H})===!1&&(q=!1)}),R.forEach(U=>{U.write(B)===!1&&(q=!1)}),S.filter(U=>!!U.element.parentNode).forEach(U=>{U._write(B,o(U,G),H)||(q=!1)}),S.forEach((U,Y)=>{U.element.parentNode||($.appendChild(U.element,Y),U._read(),U._write(B,o(U,G),H),q=!1)}),b=q,u({props:g,root:$,actions:G,timestamp:B}),q},v=()=>{R.forEach(B=>B.destroy()),D.forEach(B=>{B({root:$,props:g})}),S.forEach(B=>B._destroy())},C={element:{get:M},style:{get:y},childViews:{get:z}},N={...C,rect:{get:k},ref:{get:V},is:B=>t===B,appendChild:appendChild(E),createChildView:x(m),linkView:B=>(S.push(B),B),unlinkView:B=>{S.splice(S.indexOf(B),1)},appendChildView:appendChildView(E,S),removeChildView:removeChildView(E,S),registerWriter:B=>L.push(B),registerReader:B=>P.push(B),registerDestroyer:B=>D.push(B),invalidateLayout:()=>E.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},W={element:{get:M},childViews:{get:z},rect:{get:k},resting:{get:()=>b},isRectIgnored:()=>d,_read:F,_write:w,_destroy:v},j={...C,rect:{get:()=>I}};Object.keys(h).sort((B,G)=>B==="styles"?1:G==="styles"?-1:0).forEach(B=>{const G=Mixins[B]({mixinConfig:h[B],viewProps:g,viewState:O,viewInternalAPI:N,viewExternalAPI:W,view:createObject(j)});G&&R.push(G)});const $=createObject(N);r({root:$,props:g});const X=getChildCount(E);return S.forEach((B,G)=>{$.appendChild(B.element,X+G)}),c($),createObject(W)},createPainter=(e,t,a=60)=>{const n="__framePainter";if(window[n]){window[n].readers.push(e),window[n].writers.push(t);return}window[n]={readers:[e],writers:[t]};const l=window[n],r=1e3/a;let s=null,o=null,c=null,u=null;const d=()=>{document.hidden?(c=()=>window.setTimeout(()=>p(performance.now()),r),u=()=>window.clearTimeout(o)):(c=()=>window.requestAnimationFrame(p),u=()=>window.cancelAnimationFrame(o))};document.addEventListener("visibilitychange",()=>{u&&u(),d(),p(performance.now())});const p=h=>{o=c(p),s||(s=h);const m=h-s;m<=r||(s=h-m%r,l.readers.forEach(g=>g()),l.writers.forEach(g=>g(h)))};return d(),p(performance.now()),{pause:()=>{u(o)}}},createRoute=(e,t)=>({root:a,props:n,actions:l=[],timestamp:r,shouldOptimize:s})=>{l.filter(o=>e[o.type]).forEach(o=>e[o.type]({root:a,props:n,action:o.data,timestamp:r,shouldOptimize:s})),t&&t({root:a,props:n,actions:l,timestamp:r,shouldOptimize:s})},insertBefore=(e,t)=>t.parentNode.insertBefore(e,t),insertAfter=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),isArray$1=e=>Array.isArray(e),isEmpty$1=e=>e==null,trim=e=>e.trim(),toString$1=e=>""+e,toArray=(e,t=",")=>isEmpty$1(e)?[]:isArray$1(e)?e:toString$1(e).split(t).map(trim).filter(a=>a.length),isBoolean=e=>typeof e=="boolean",toBoolean=e=>isBoolean(e)?e:e==="true",isString$1=e=>typeof e=="string",toNumber=e=>isNumber$1(e)?e:isString$1(e)?toString$1(e).replace(/[a-z]+/gi,""):0,toInt=e=>parseInt(toNumber(e),10),toFloat=e=>parseFloat(toNumber(e)),isInt=e=>isNumber$1(e)&&isFinite(e)&&Math.floor(e)===e,toBytes=(e,t=1e3)=>{if(isInt(e))return e;let a=toString$1(e).trim();return/MB$/i.test(a)?(a=a.replace(/MB$i/,"").trim(),toInt(a)*t*t):/KB/i.test(a)?(a=a.replace(/KB$i/,"").trim(),toInt(a)*t):toInt(a)},isFunction$2=e=>typeof e=="function",toFunctionReference=e=>{let t=self,a=e.split("."),n=null;for(;n=a.shift();)if(t=t[n],!t)return null;return t},methods={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},createServerAPI=e=>{const t={};return t.url=isString$1(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},forin(methods,a=>{t[a]=createAction(a,e[a],methods[a],t.timeout,t.headers)}),t.process=e.process||isString$1(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},createAction=(e,t,a,n,l)=>{if(t===null)return null;if(typeof t=="function")return t;const r={url:a==="GET"||a==="PATCH"?`?${e}=`:"",method:a,headers:l,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(isString$1(t))return r.url=t,r;if(Object.assign(r,t),isString$1(r.headers)){const s=r.headers.split(/:(.+)/);r.headers={header:s[0],value:s[1]}}return r.withCredentials=toBoolean(r.withCredentials),r},toServerAPI=e=>createServerAPI(e),isNull=e=>e===null,isObject$1=e=>typeof e=="object"&&e!==null,isAPI=e=>isObject$1(e)&&isString$1(e.url)&&isObject$1(e.process)&&isObject$1(e.revert)&&isObject$1(e.restore)&&isObject$1(e.fetch),getType=e=>isArray$1(e)?"array":isNull(e)?"null":isInt(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":isAPI(e)?"api":typeof e,replaceSingleQuotes=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),conversionTable={array:toArray,boolean:toBoolean,int:e=>getType(e)==="bytes"?toBytes(e):toInt(e),number:toFloat,float:toFloat,bytes:toBytes,string:e=>isFunction$2(e)?e:toString$1(e),function:e=>toFunctionReference(e),serverapi:toServerAPI,object:e=>{try{return JSON.parse(replaceSingleQuotes(e))}catch{return null}}},convertTo=(e,t)=>conversionTable[t](e),getValueByType=(e,t,a)=>{if(e===t)return e;let n=getType(e);if(n!==a){const l=convertTo(e,a);if(n=getType(l),l===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${a}"`;e=l}return e},createOption=(e,t)=>{let a=e;return{enumerable:!0,get:()=>a,set:n=>{a=getValueByType(n,e,t)}}},createOptions=e=>{const t={};return forin(e,a=>{const n=e[a];t[a]=createOption(n[0],n[1])}),createObject(t)},createInitialState=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:createOptions(e)}),fromCamels=(e,t="-")=>e.split(/(?=[A-Z])/).map(a=>a.toLowerCase()).join(t),createOptionAPI=(e,t)=>{const a={};return forin(t,n=>{a[n]={get:()=>e.getState().options[n],set:l=>{e.dispatch(`SET_${fromCamels(n,"_").toUpperCase()}`,{value:l})}}}),a},createOptionActions=e=>(t,a,n)=>{const l={};return forin(e,r=>{const s=fromCamels(r,"_").toUpperCase();l[`SET_${s}`]=o=>{try{n.options[r]=o.value}catch{}t(`DID_SET_${s}`,{value:n.options[r]})}}),l},createOptionQueries=e=>t=>{const a={};return forin(e,n=>{a[`GET_${fromCamels(n,"_").toUpperCase()}`]=l=>t.options[n]}),a},InteractionMethod={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},getUniqueId=()=>Math.random().toString(36).substring(2,11),arrayRemove=(e,t)=>e.splice(t,1),run=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},on=()=>{const e=[],t=(n,l)=>{arrayRemove(e,e.findIndex(r=>r.event===n&&(r.cb===l||!l)))},a=(n,l,r)=>{e.filter(s=>s.event===n).map(s=>s.cb).forEach(s=>run(()=>s(...l),r))};return{fireSync:(n,...l)=>{a(n,l,!0)},fire:(n,...l)=>{a(n,l,!1)},on:(n,l)=>{e.push({event:n,cb:l})},onOnce:(n,l)=>{e.push({event:n,cb:(...r)=>{t(n,l),l(...r)}})},off:t}},copyObjectPropertiesToObject=(e,t,a)=>{Object.getOwnPropertyNames(e).filter(n=>!a.includes(n)).forEach(n=>Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n)))},PRIVATE=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],createItemAPI=e=>{const t={};return copyObjectPropertiesToObject(e,t,PRIVATE),t},removeReleasedItems=e=>{e.forEach((t,a)=>{t.released&&arrayRemove(e,a)})},ItemStatus={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},FileOrigin={INPUT:1,LIMBO:2,LOCAL:3},getNonNumeric=e=>/[^0-9]+/.exec(e),getDecimalSeparator=()=>getNonNumeric(1.1.toLocaleString())[0],getThousandsSeparator=()=>{const e=getDecimalSeparator(),t=1e3.toLocaleString(),a=1e3.toString();return t!==a?getNonNumeric(t)[0]:e==="."?",":"."},Type={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},filters=[],applyFilterChain=(e,t,a)=>new Promise((n,l)=>{const r=filters.filter(o=>o.key===e).map(o=>o.cb);if(r.length===0){n(t);return}const s=r.shift();r.reduce((o,c)=>o.then(u=>c(u,a)),s(t,a)).then(o=>n(o)).catch(o=>l(o))}),applyFilters=(e,t,a)=>filters.filter(n=>n.key===e).map(n=>n.cb(t,a)),addFilter=(e,t)=>filters.push({key:e,cb:t}),extendDefaultOptions=e=>Object.assign(defaultOptions,e),getOptions=()=>({...defaultOptions}),setOptions=e=>{forin(e,(t,a)=>{defaultOptions[t]&&(defaultOptions[t][0]=getValueByType(a,defaultOptions[t][0],defaultOptions[t][1]))})},defaultOptions={id:[null,Type.STRING],name:["filepond",Type.STRING],disabled:[!1,Type.BOOLEAN],className:[null,Type.STRING],required:[!1,Type.BOOLEAN],captureMethod:[null,Type.STRING],allowSyncAcceptAttribute:[!0,Type.BOOLEAN],allowDrop:[!0,Type.BOOLEAN],allowBrowse:[!0,Type.BOOLEAN],allowPaste:[!0,Type.BOOLEAN],allowMultiple:[!1,Type.BOOLEAN],allowReplace:[!0,Type.BOOLEAN],allowRevert:[!0,Type.BOOLEAN],allowRemove:[!0,Type.BOOLEAN],allowProcess:[!0,Type.BOOLEAN],allowReorder:[!1,Type.BOOLEAN],allowDirectoriesOnly:[!1,Type.BOOLEAN],storeAsFile:[!1,Type.BOOLEAN],forceRevert:[!1,Type.BOOLEAN],maxFiles:[null,Type.INT],checkValidity:[!1,Type.BOOLEAN],itemInsertLocationFreedom:[!0,Type.BOOLEAN],itemInsertLocation:["before",Type.STRING],itemInsertInterval:[75,Type.INT],dropOnPage:[!1,Type.BOOLEAN],dropOnElement:[!0,Type.BOOLEAN],dropValidation:[!1,Type.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Type.ARRAY],instantUpload:[!0,Type.BOOLEAN],maxParallelUploads:[2,Type.INT],allowMinimumUploadDuration:[!0,Type.BOOLEAN],chunkUploads:[!1,Type.BOOLEAN],chunkForce:[!1,Type.BOOLEAN],chunkSize:[5e6,Type.INT],chunkRetryDelays:[[500,1e3,3e3],Type.ARRAY],server:[null,Type.SERVER_API],fileSizeBase:[1e3,Type.INT],labelFileSizeBytes:["bytes",Type.STRING],labelFileSizeKilobytes:["KB",Type.STRING],labelFileSizeMegabytes:["MB",Type.STRING],labelFileSizeGigabytes:["GB",Type.STRING],labelDecimalSeparator:[getDecimalSeparator(),Type.STRING],labelThousandsSeparator:[getThousandsSeparator(),Type.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Type.STRING],labelInvalidField:["Field contains invalid files",Type.STRING],labelFileWaitingForSize:["Waiting for size",Type.STRING],labelFileSizeNotAvailable:["Size not available",Type.STRING],labelFileCountSingular:["file in list",Type.STRING],labelFileCountPlural:["files in list",Type.STRING],labelFileLoading:["Loading",Type.STRING],labelFileAdded:["Added",Type.STRING],labelFileLoadError:["Error during load",Type.STRING],labelFileRemoved:["Removed",Type.STRING],labelFileRemoveError:["Error during remove",Type.STRING],labelFileProcessing:["Uploading",Type.STRING],labelFileProcessingComplete:["Upload complete",Type.STRING],labelFileProcessingAborted:["Upload cancelled",Type.STRING],labelFileProcessingError:["Error during upload",Type.STRING],labelFileProcessingRevertError:["Error during revert",Type.STRING],labelTapToCancel:["tap to cancel",Type.STRING],labelTapToRetry:["tap to retry",Type.STRING],labelTapToUndo:["tap to undo",Type.STRING],labelButtonRemoveItem:["Remove",Type.STRING],labelButtonAbortItemLoad:["Abort",Type.STRING],labelButtonRetryItemLoad:["Retry",Type.STRING],labelButtonAbortItemProcessing:["Cancel",Type.STRING],labelButtonUndoItemProcessing:["Undo",Type.STRING],labelButtonRetryItemProcessing:["Retry",Type.STRING],labelButtonProcessItem:["Upload",Type.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Type.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],oninit:[null,Type.FUNCTION],onwarning:[null,Type.FUNCTION],onerror:[null,Type.FUNCTION],onactivatefile:[null,Type.FUNCTION],oninitfile:[null,Type.FUNCTION],onaddfilestart:[null,Type.FUNCTION],onaddfileprogress:[null,Type.FUNCTION],onaddfile:[null,Type.FUNCTION],onprocessfilestart:[null,Type.FUNCTION],onprocessfileprogress:[null,Type.FUNCTION],onprocessfileabort:[null,Type.FUNCTION],onprocessfilerevert:[null,Type.FUNCTION],onprocessfile:[null,Type.FUNCTION],onprocessfiles:[null,Type.FUNCTION],onremovefile:[null,Type.FUNCTION],onpreparefile:[null,Type.FUNCTION],onupdatefiles:[null,Type.FUNCTION],onreorderfiles:[null,Type.FUNCTION],beforeDropFile:[null,Type.FUNCTION],beforeAddFile:[null,Type.FUNCTION],beforeRemoveFile:[null,Type.FUNCTION],beforePrepareFile:[null,Type.FUNCTION],stylePanelLayout:[null,Type.STRING],stylePanelAspectRatio:[null,Type.STRING],styleItemPanelAspectRatio:[null,Type.STRING],styleButtonRemoveItemPosition:["left",Type.STRING],styleButtonProcessItemPosition:["right",Type.STRING],styleLoadIndicatorPosition:["right",Type.STRING],styleProgressIndicatorPosition:["right",Type.STRING],styleButtonRemoveItemAlign:[!1,Type.BOOLEAN],files:[[],Type.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Type.ARRAY]},getItemByQuery=(e,t)=>isEmpty$1(t)?e[0]||null:isInt(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(a=>a.id===t)||null),getNumericAspectRatioFromString=e=>{if(isEmpty$1(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},getActiveItems=e=>e.filter(t=>!t.archived),Status={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let res=null;const canUpdateFileInput=()=>{if(res===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,res=t.files.length===1}catch{res=!1}return res},ITEM_ERROR=[ItemStatus.LOAD_ERROR,ItemStatus.PROCESSING_ERROR,ItemStatus.PROCESSING_REVERT_ERROR],ITEM_BUSY=[ItemStatus.LOADING,ItemStatus.PROCESSING,ItemStatus.PROCESSING_QUEUED,ItemStatus.INIT],ITEM_READY=[ItemStatus.PROCESSING_COMPLETE],isItemInErrorState=e=>ITEM_ERROR.includes(e.status),isItemInBusyState=e=>ITEM_BUSY.includes(e.status),isItemInReadyState=e=>ITEM_READY.includes(e.status),isAsync=e=>isObject$1(e.options.server)&&(isObject$1(e.options.server.process)||isFunction$2(e.options.server.process)),queries=e=>({GET_STATUS:()=>{const t=getActiveItems(e.items),{EMPTY:a,ERROR:n,BUSY:l,IDLE:r,READY:s}=Status;return t.length===0?a:t.some(isItemInErrorState)?n:t.some(isItemInBusyState)?l:t.some(isItemInReadyState)?s:r},GET_ITEM:t=>getItemByQuery(e.items,t),GET_ACTIVE_ITEM:t=>getItemByQuery(getActiveItems(e.items),t),GET_ACTIVE_ITEMS:()=>getActiveItems(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const a=getItemByQuery(e.items,t);return a?a.filename:null},GET_ITEM_SIZE:t=>{const a=getItemByQuery(e.items,t);return a?a.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:getNumericAspectRatioFromString(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>getActiveItems(e.items).filter(a=>a.status===t),GET_TOTAL_ITEMS:()=>getActiveItems(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&canUpdateFileInput()&&!isAsync(e),IS_ASYNC:()=>isAsync(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),hasRoomForItem=e=>{const t=getActiveItems(e.items).length;if(!e.options.allowMultiple)return t===0;const a=e.options.maxFiles;return a===null||t<a},limit=(e,t,a)=>Math.max(Math.min(a,e),t),arrayInsert=(e,t,a)=>e.splice(t,0,a),insertItem=(e,t,a)=>isEmpty$1(t)?null:typeof a>"u"?(e.push(t),t):(a=limit(a,0,e.length),arrayInsert(e,a,t),t),isBase64DataURI=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),getFilenameFromURL=e=>`${e}`.split("/").pop().split("?").shift(),getExtensionFromFilename=e=>e.split(".").pop(),guesstimateExtension=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},leftPad=(e,t="")=>(t+e).slice(-t.length),getDateString=(e=new Date)=>`${e.getFullYear()}-${leftPad(e.getMonth()+1,"00")}-${leftPad(e.getDate(),"00")}_${leftPad(e.getHours(),"00")}-${leftPad(e.getMinutes(),"00")}-${leftPad(e.getSeconds(),"00")}`,getFileFromBlob=(e,t,a=null,n=null)=>{const l=typeof a=="string"?e.slice(0,e.size,a):e.slice(0,e.size,e.type);return l.lastModifiedDate=new Date,e._relativePath&&(l._relativePath=e._relativePath),isString$1(t)||(t=getDateString()),t&&n===null&&getExtensionFromFilename(t)?l.name=t:(n=n||guesstimateExtension(l.type),l.name=t+(n?"."+n:"")),l},getBlobBuilder=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,createBlob=(e,t)=>{const a=getBlobBuilder();if(a){const n=new a;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},getBlobFromByteStringWithMimeType=(e,t)=>{const a=new ArrayBuffer(e.length),n=new Uint8Array(a);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return createBlob(a,t)},getMimeTypeFromBase64DataURI=e=>(/^data:(.+);/.exec(e)||[])[1]||null,getBase64DataFromBase64DataURI=e=>e.split(",")[1].replace(/\s/g,""),getByteStringFromBase64DataURI=e=>atob(getBase64DataFromBase64DataURI(e)),getBlobFromBase64DataURI=e=>{const t=getMimeTypeFromBase64DataURI(e),a=getByteStringFromBase64DataURI(e);return getBlobFromByteStringWithMimeType(a,t)},getFileFromBase64DataURI=(e,t,a)=>getFileFromBlob(getBlobFromBase64DataURI(e),t,null,a),getFileNameFromHeader=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(a=>a.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(a=>a.length);return t.length?decodeURI(t[t.length-1]):null},getFileSizeFromHeader=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},getTranfserIdFromHeader=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,getFileInfoFromHeaders=e=>{const t={source:null,name:null,size:null},a=e.split(`
`);for(let n of a){const l=getFileNameFromHeader(n);if(l){t.name=l;continue}const r=getFileSizeFromHeader(n);if(r){t.size=r;continue}const s=getTranfserIdFromHeader(n);if(s){t.source=s;continue}}return t},createFileLoader=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},a=()=>t.progress,n=()=>{t.request&&t.request.abort&&t.request.abort()},l=()=>{const o=t.source;s.fire("init",o),o instanceof File?s.fire("load",o):o instanceof Blob?s.fire("load",getFileFromBlob(o,o.name)):isBase64DataURI(o)?s.fire("load",getFileFromBase64DataURI(o)):r(o)},r=o=>{if(!e){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(o,c=>{t.duration=Date.now()-t.timestamp,t.complete=!0,c instanceof Blob&&(c=getFileFromBlob(c,c.name||getFilenameFromURL(o))),s.fire("load",c instanceof Blob?c:c?c.body:null)},c=>{s.fire("error",typeof c=="string"?{type:"error",code:0,body:c}:c)},(c,u,d)=>{if(d&&(t.size=d),t.duration=Date.now()-t.timestamp,!c){t.progress=null;return}t.progress=u/d,s.fire("progress",t.progress)},()=>{s.fire("abort")},c=>{const u=getFileInfoFromHeaders(typeof c=="string"?c:c.headers);s.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},s={...on(),setSource:o=>t.source=o,getProgress:a,abort:n,load:l};return s},isGet=e=>/GET|HEAD/.test(e),sendRequest=(e,t,a)=>{const n={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{l=!0,s.abort()}};let l=!1,r=!1;a={method:"POST",headers:{},withCredentials:!1,...a},t=encodeURI(t),isGet(a.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const s=new XMLHttpRequest,o=isGet(a.method)?s:s.upload;return o.onprogress=c=>{l||n.onprogress(c.lengthComputable,c.loaded,c.total)},s.onreadystatechange=()=>{s.readyState<2||s.readyState===4&&s.status===0||r||(r=!0,n.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?n.onload(s):n.onerror(s)},s.onerror=()=>n.onerror(s),s.onabort=()=>{l=!0,n.onabort()},s.ontimeout=()=>n.ontimeout(s),s.open(a.method,t,!0),isInt(a.timeout)&&(s.timeout=a.timeout),Object.keys(a.headers).forEach(c=>{const u=unescape(encodeURIComponent(a.headers[c]));s.setRequestHeader(c,u)}),a.responseType&&(s.responseType=a.responseType),a.withCredentials&&(s.withCredentials=!0),s.send(e),n},createResponse=(e,t,a,n)=>({type:e,code:t,body:a,headers:n}),createTimeoutResponse=e=>t=>{e(createResponse("error",0,"Timeout",t.getAllResponseHeaders()))},hasQS=e=>/\?/.test(e),buildURL=(...e)=>{let t="";return e.forEach(a=>{t+=hasQS(t)&&hasQS(a)?a.replace(/\?/,"&"):a}),t},createFetchFunction=(e="",t)=>{if(typeof t=="function")return t;if(!t||!isString$1(t.url))return null;const a=t.onload||(l=>l),n=t.onerror||(l=>null);return(l,r,s,o,c,u)=>{const d=sendRequest(l,buildURL(e,t.url),{...t,responseType:"blob"});return d.onload=p=>{const h=p.getAllResponseHeaders(),m=getFileInfoFromHeaders(h).name||getFilenameFromURL(l);r(createResponse("load",p.status,t.method==="HEAD"?null:getFileFromBlob(a(p.response),m),h))},d.onerror=p=>{s(createResponse("error",p.status,n(p.response)||p.statusText,p.getAllResponseHeaders()))},d.onheaders=p=>{u(createResponse("headers",p.status,null,p.getAllResponseHeaders()))},d.ontimeout=createTimeoutResponse(s),d.onprogress=o,d.onabort=c,d}},ChunkStatus={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},processFileChunked=(e,t,a,n,l,r,s,o,c,u,d)=>{const p=[],{chunkTransferId:h,chunkServer:m,chunkSize:g,chunkRetryDelays:E}=d,T={serverId:h,aborted:!1},I=t.ondata||(x=>x),f=t.onload||((x,k)=>k==="HEAD"?x.getResponseHeader("Upload-Offset"):x.response),b=t.onerror||(x=>null),S=x=>{const k=new FormData;isObject$1(l)&&k.append(a,JSON.stringify(l));const y=typeof t.headers=="function"?t.headers(n,l):{...t.headers,"Upload-Length":n.size},F={...t,headers:y},w=sendRequest(I(k),buildURL(e,t.url),F);w.onload=v=>x(f(v,F.method)),w.onerror=v=>s(createResponse("error",v.status,b(v.response)||v.statusText,v.getAllResponseHeaders())),w.ontimeout=createTimeoutResponse(s)},R=x=>{const k=buildURL(e,m.url,T.serverId),F={headers:typeof t.headers=="function"?t.headers(T.serverId):{...t.headers},method:"HEAD"},w=sendRequest(null,k,F);w.onload=v=>x(f(v,F.method)),w.onerror=v=>s(createResponse("error",v.status,b(v.response)||v.statusText,v.getAllResponseHeaders())),w.ontimeout=createTimeoutResponse(s)},A=Math.floor(n.size/g);for(let x=0;x<=A;x++){const k=x*g,y=n.slice(k,k+g,"application/offset+octet-stream");p[x]={index:x,size:y.size,offset:k,data:y,file:n,progress:0,retries:[...E],status:ChunkStatus.QUEUED,error:null,request:null,timeout:null}}const O=()=>r(T.serverId),L=x=>x.status===ChunkStatus.QUEUED||x.status===ChunkStatus.ERROR,P=x=>{if(T.aborted)return;if(x=x||p.find(L),!x){p.every(C=>C.status===ChunkStatus.COMPLETE)&&O();return}x.status=ChunkStatus.PROCESSING,x.progress=null;const k=m.ondata||(C=>C),y=m.onerror||(C=>null),F=buildURL(e,m.url,T.serverId),w=typeof m.headers=="function"?m.headers(x):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":x.offset,"Upload-Length":n.size,"Upload-Name":n.name},v=x.request=sendRequest(k(x.data),F,{...m,headers:w});v.onload=()=>{x.status=ChunkStatus.COMPLETE,x.request=null,z()},v.onprogress=(C,N,W)=>{x.progress=C?N:null,M()},v.onerror=C=>{x.status=ChunkStatus.ERROR,x.request=null,x.error=y(C.response)||C.statusText,D(x)||s(createResponse("error",C.status,y(C.response)||C.statusText,C.getAllResponseHeaders()))},v.ontimeout=C=>{x.status=ChunkStatus.ERROR,x.request=null,D(x)||createTimeoutResponse(s)(C)},v.onabort=()=>{x.status=ChunkStatus.QUEUED,x.request=null,c()}},D=x=>x.retries.length===0?!1:(x.status=ChunkStatus.WAITING,clearTimeout(x.timeout),x.timeout=setTimeout(()=>{P(x)},x.retries.shift()),!0),M=()=>{const x=p.reduce((y,F)=>y===null||F.progress===null?null:y+F.progress,0);if(x===null)return o(!1,0,0);const k=p.reduce((y,F)=>y+F.size,0);o(!0,x,k)},z=()=>{p.filter(k=>k.status===ChunkStatus.PROCESSING).length>=1||P()},V=()=>{p.forEach(x=>{clearTimeout(x.timeout),x.request&&x.request.abort()})};return T.serverId?R(x=>{T.aborted||(p.filter(k=>k.offset<x).forEach(k=>{k.status=ChunkStatus.COMPLETE,k.progress=k.size}),z())}):S(x=>{T.aborted||(u(x),T.serverId=x,z())}),{abort:()=>{T.aborted=!0,V()}}},createFileProcessorFunction=(e,t,a,n)=>(l,r,s,o,c,u,d)=>{if(!l)return;const p=n.chunkUploads,h=p&&l.size>n.chunkSize,m=p&&(h||n.chunkForce);if(l instanceof Blob&&m)return processFileChunked(e,t,a,l,r,s,o,c,u,d,n);const g=t.ondata||(R=>R),E=t.onload||(R=>R),T=t.onerror||(R=>null),I=typeof t.headers=="function"?t.headers(l,r)||{}:{...t.headers},f={...t,headers:I};var b=new FormData;isObject$1(r)&&b.append(a,JSON.stringify(r)),(l instanceof Blob?[{name:null,file:l}]:l).forEach(R=>{b.append(a,R.file,R.name===null?R.file.name:`${R.name}${R.file.name}`)});const S=sendRequest(g(b),buildURL(e,t.url),f);return S.onload=R=>{s(createResponse("load",R.status,E(R.response),R.getAllResponseHeaders()))},S.onerror=R=>{o(createResponse("error",R.status,T(R.response)||R.statusText,R.getAllResponseHeaders()))},S.ontimeout=createTimeoutResponse(o),S.onprogress=c,S.onabort=u,S},createProcessorFunction=(e="",t,a,n)=>typeof t=="function"?(...l)=>t(a,...l,n):!t||!isString$1(t.url)?null:createFileProcessorFunction(e,t,a,n),createRevertFunction=(e="",t)=>{if(typeof t=="function")return t;if(!t||!isString$1(t.url))return(l,r)=>r();const a=t.onload||(l=>l),n=t.onerror||(l=>null);return(l,r,s)=>{const o=sendRequest(l,e+t.url,t);return o.onload=c=>{r(createResponse("load",c.status,a(c.response),c.getAllResponseHeaders()))},o.onerror=c=>{s(createResponse("error",c.status,n(c.response)||c.statusText,c.getAllResponseHeaders()))},o.ontimeout=createTimeoutResponse(s),o}},getRandomNumber=(e=0,t=1)=>e+Math.random()*(t-e),createPerceivedPerformanceUpdater=(e,t=1e3,a=0,n=25,l=250)=>{let r=null;const s=Date.now(),o=()=>{let c=Date.now()-s,u=getRandomNumber(n,l);c+u>t&&(u=c+u-t);let d=c/t;if(d>=1||document.hidden){e(1);return}e(d),r=setTimeout(o,u)};return t>0&&o(),{clear:()=>{clearTimeout(r)}}},createFileProcessor=(e,t)=>{const a={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:n}=t,l=(d,p)=>{const h=()=>{a.duration===0||a.progress===null||u.fire("progress",u.getProgress())},m=()=>{a.complete=!0,u.fire("load-perceived",a.response.body)};u.fire("start"),a.timestamp=Date.now(),a.perceivedPerformanceUpdater=createPerceivedPerformanceUpdater(g=>{a.perceivedProgress=g,a.perceivedDuration=Date.now()-a.timestamp,h(),a.response&&a.perceivedProgress===1&&!a.complete&&m()},n?getRandomNumber(750,1500):0),a.request=e(d,p,g=>{a.response=isObject$1(g)?g:{type:"load",code:200,body:`${g}`,headers:{}},a.duration=Date.now()-a.timestamp,a.progress=1,u.fire("load",a.response.body),(!n||n&&a.perceivedProgress===1)&&m()},g=>{a.perceivedPerformanceUpdater.clear(),u.fire("error",isObject$1(g)?g:{type:"error",code:0,body:`${g}`})},(g,E,T)=>{a.duration=Date.now()-a.timestamp,a.progress=g?E/T:null,h()},()=>{a.perceivedPerformanceUpdater.clear(),u.fire("abort",a.response?a.response.body:null)},g=>{u.fire("transfer",g)})},r=()=>{a.request&&(a.perceivedPerformanceUpdater.clear(),a.request.abort&&a.request.abort(),a.complete=!0)},s=()=>{r(),a.complete=!1,a.perceivedProgress=0,a.progress=0,a.timestamp=null,a.perceivedDuration=0,a.duration=0,a.request=null,a.response=null},o=n?()=>a.progress?Math.min(a.progress,a.perceivedProgress):null:()=>a.progress||null,c=n?()=>Math.min(a.duration,a.perceivedDuration):()=>a.duration,u={...on(),process:l,abort:r,getProgress:o,getDuration:c,reset:s};return u},getFilenameWithoutExtension=e=>e.substring(0,e.lastIndexOf("."))||e,createFileStub=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||isBase64DataURI(e)?t[0]=e.name||getDateString():isBase64DataURI(e)?(t[1]=e.length,t[2]=getMimeTypeFromBase64DataURI(e)):isString$1(e)&&(t[0]=getFilenameFromURL(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},isFile=e=>!!(e instanceof File||e instanceof Blob&&e.name),deepCloneObject=e=>{if(!isObject$1(e))return e;const t=isArray$1(e)?[]:{};for(const a in e){if(!e.hasOwnProperty(a))continue;const n=e[a];t[a]=n&&isObject$1(n)?deepCloneObject(n):n}return t},createItem=(e=null,t=null,a=null)=>{const n=getUniqueId(),l={archived:!1,frozen:!1,released:!1,source:null,file:a,serverFileReference:t,transferId:null,processingAborted:!1,status:t?ItemStatus.PROCESSING_COMPLETE:ItemStatus.INIT,activeLoader:null,activeProcessor:null};let r=null;const s={},o=L=>l.status=L,c=(L,...P)=>{l.released||l.frozen||A.fire(L,...P)},u=()=>getExtensionFromFilename(l.file.name),d=()=>l.file.type,p=()=>l.file.size,h=()=>l.file,m=(L,P,D)=>{if(l.source=L,A.fireSync("init"),l.file){A.fireSync("load-skip");return}l.file=createFileStub(L),P.on("init",()=>{c("load-init")}),P.on("meta",M=>{l.file.size=M.size,l.file.filename=M.filename,M.source&&(e=FileOrigin.LIMBO,l.serverFileReference=M.source,l.status=ItemStatus.PROCESSING_COMPLETE),c("load-meta")}),P.on("progress",M=>{o(ItemStatus.LOADING),c("load-progress",M)}),P.on("error",M=>{o(ItemStatus.LOAD_ERROR),c("load-request-error",M)}),P.on("abort",()=>{o(ItemStatus.INIT),c("load-abort")}),P.on("load",M=>{l.activeLoader=null;const z=x=>{l.file=isFile(x)?x:l.file,e===FileOrigin.LIMBO&&l.serverFileReference?o(ItemStatus.PROCESSING_COMPLETE):o(ItemStatus.IDLE),c("load")},V=x=>{l.file=M,c("load-meta"),o(ItemStatus.LOAD_ERROR),c("load-file-error",x)};if(l.serverFileReference){z(M);return}D(M,z,V)}),P.setSource(L),l.activeLoader=P,P.load()},g=()=>{l.activeLoader&&l.activeLoader.load()},E=()=>{if(l.activeLoader){l.activeLoader.abort();return}o(ItemStatus.INIT),c("load-abort")},T=(L,P)=>{if(l.processingAborted){l.processingAborted=!1;return}if(o(ItemStatus.PROCESSING),r=null,!(l.file instanceof Blob)){A.on("load",()=>{T(L,P)});return}L.on("load",z=>{l.transferId=null,l.serverFileReference=z}),L.on("transfer",z=>{l.transferId=z}),L.on("load-perceived",z=>{l.activeProcessor=null,l.transferId=null,l.serverFileReference=z,o(ItemStatus.PROCESSING_COMPLETE),c("process-complete",z)}),L.on("start",()=>{c("process-start")}),L.on("error",z=>{l.activeProcessor=null,o(ItemStatus.PROCESSING_ERROR),c("process-error",z)}),L.on("abort",z=>{l.activeProcessor=null,l.serverFileReference=z,o(ItemStatus.IDLE),c("process-abort"),r&&r()}),L.on("progress",z=>{c("process-progress",z)});const D=z=>{l.archived||L.process(z,{...s})},M=console.error;P(l.file,D,M),l.activeProcessor=L},I=()=>{l.processingAborted=!1,o(ItemStatus.PROCESSING_QUEUED)},f=()=>new Promise(L=>{if(!l.activeProcessor){l.processingAborted=!0,o(ItemStatus.IDLE),c("process-abort"),L();return}r=()=>{L()},l.activeProcessor.abort()}),b=(L,P)=>new Promise((D,M)=>{const z=l.serverFileReference!==null?l.serverFileReference:l.transferId;if(z===null){D();return}L(z,()=>{l.serverFileReference=null,l.transferId=null,D()},V=>{if(!P){D();return}o(ItemStatus.PROCESSING_REVERT_ERROR),c("process-revert-error"),M(V)}),o(ItemStatus.IDLE),c("process-revert")}),S=(L,P,D)=>{const M=L.split("."),z=M[0],V=M.pop();let x=s;M.forEach(k=>x=x[k]),JSON.stringify(x[V])!==JSON.stringify(P)&&(x[V]=P,c("metadata-update",{key:z,value:s[z],silent:D}))},A={id:{get:()=>n},origin:{get:()=>e,set:L=>e=L},serverId:{get:()=>l.serverFileReference},transferId:{get:()=>l.transferId},status:{get:()=>l.status},filename:{get:()=>l.file.name},filenameWithoutExtension:{get:()=>getFilenameWithoutExtension(l.file.name)},fileExtension:{get:u},fileType:{get:d},fileSize:{get:p},file:{get:h},relativePath:{get:()=>l.file._relativePath},source:{get:()=>l.source},getMetadata:L=>deepCloneObject(L?s[L]:s),setMetadata:(L,P,D)=>{if(isObject$1(L)){const M=L;return Object.keys(M).forEach(z=>{S(z,M[z],P)}),L}return S(L,P,D),P},extend:(L,P)=>O[L]=P,abortLoad:E,retryLoad:g,requestProcessing:I,abortProcessing:f,load:m,process:T,revert:b,...on(),freeze:()=>l.frozen=!0,release:()=>l.released=!0,released:{get:()=>l.released},archive:()=>l.archived=!0,archived:{get:()=>l.archived},setFile:L=>l.file=L},O=createObject(A);return O},getItemIndexByQuery=(e,t)=>isEmpty$1(t)?0:isString$1(t)?e.findIndex(a=>a.id===t):-1,getItemById=(e,t)=>{const a=getItemIndexByQuery(e,t);if(!(a<0))return e[a]||null},fetchBlob=(e,t,a,n,l,r)=>{const s=sendRequest(null,e,{method:"GET",responseType:"blob"});return s.onload=o=>{const c=o.getAllResponseHeaders(),u=getFileInfoFromHeaders(c).name||getFilenameFromURL(e);t(createResponse("load",o.status,getFileFromBlob(o.response,u),c))},s.onerror=o=>{a(createResponse("error",o.status,o.statusText,o.getAllResponseHeaders()))},s.onheaders=o=>{r(createResponse("headers",o.status,null,o.getAllResponseHeaders()))},s.ontimeout=createTimeoutResponse(a),s.onprogress=n,s.onabort=l,s},getDomainFromURL=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),isExternalURL=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&getDomainFromURL(location.href)!==getDomainFromURL(e),dynamicLabel=e=>(...t)=>isFunction$2(e)?e(...t):e,isMockItem=e=>!isFile(e.file),listUpdated=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:getActiveItems(t.items)})},0)},optionalPromise=(e,...t)=>new Promise(a=>{if(!e)return a(!0);const n=e(...t);if(n==null)return a(!0);if(typeof n=="boolean")return a(n);typeof n.then=="function"&&n.then(a)}),sortItems=(e,t)=>{e.items.sort((a,n)=>t(createItemAPI(a),createItemAPI(n)))},getItemByQueryFromState=(e,t)=>({query:a,success:n=()=>{},failure:l=()=>{},...r}={})=>{const s=getItemByQuery(e.items,a);if(!s){l({error:createResponse("error",0,"Item not found"),file:null});return}t(s,n,l,r||{})},actions=(e,t,a)=>({ABORT_ALL:()=>{getActiveItems(a.items).forEach(n=>{n.freeze(),n.abortLoad(),n.abortProcessing()})},DID_SET_FILES:({value:n=[]})=>{const l=n.map(s=>({source:s.source?s.source:s,options:s.options}));let r=getActiveItems(a.items);r.forEach(s=>{l.find(o=>o.source===s.source||o.source===s.file)||e("REMOVE_ITEM",{query:s,remove:!1})}),r=getActiveItems(a.items),l.forEach((s,o)=>{r.find(c=>c.source===s.source||c.file===s.source)||e("ADD_ITEM",{...s,interactionMethod:InteractionMethod.NONE,index:o})})},DID_UPDATE_ITEM_METADATA:({id:n,action:l,change:r})=>{r.silent||(clearTimeout(a.itemUpdateTimeout),a.itemUpdateTimeout=setTimeout(()=>{const s=getItemById(a.items,n);if(!t("IS_ASYNC")){applyFilterChain("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:t,action:l,change:r}).then(d=>{const p=t("GET_BEFORE_PREPARE_FILE");p&&(d=p(s,d)),d&&e("REQUEST_PREPARE_OUTPUT",{query:n,item:s,success:h=>{e("DID_PREPARE_OUTPUT",{id:n,file:h})}},!0)});return}s.origin===FileOrigin.LOCAL&&e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const o=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:n})},32)},c=d=>{s.revert(createRevertFunction(a.options.server.url,a.options.server.revert),t("GET_FORCE_REVERT")).then(d?o:()=>{}).catch(()=>{})},u=d=>{s.abortProcessing().then(d?o:()=>{})};if(s.status===ItemStatus.PROCESSING_COMPLETE)return c(a.options.instantUpload);if(s.status===ItemStatus.PROCESSING)return u(a.options.instantUpload);a.options.instantUpload&&o()},0))},MOVE_ITEM:({query:n,index:l})=>{const r=getItemByQuery(a.items,n);if(!r)return;const s=a.items.indexOf(r);l=limit(l,0,a.items.length-1),s!==l&&a.items.splice(l,0,a.items.splice(s,1)[0])},SORT:({compare:n})=>{sortItems(a,n),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:n,index:l,interactionMethod:r,success:s=()=>{},failure:o=()=>{}})=>{let c=l;if(l===-1||typeof l>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),g=t("GET_TOTAL_ITEMS");c=m==="before"?0:g}const u=t("GET_IGNORED_FILES"),d=m=>isFile(m)?!u.includes(m.name.toLowerCase()):!isEmpty$1(m),h=n.filter(d).map(m=>new Promise((g,E)=>{e("ADD_ITEM",{interactionMethod:r,source:m.source||m,success:g,failure:E,index:c++,options:m.options||{}})}));Promise.all(h).then(s).catch(o)},ADD_ITEM:({source:n,index:l=-1,interactionMethod:r,success:s=()=>{},failure:o=()=>{},options:c={}})=>{if(isEmpty$1(n)){o({error:createResponse("error",0,"No source"),file:null});return}if(isFile(n)&&a.options.ignoredFiles.includes(n.name.toLowerCase()))return;if(!hasRoomForItem(a)){if(a.options.allowMultiple||!a.options.allowMultiple&&!a.options.allowReplace){const f=createResponse("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:n,error:f}),o({error:f,file:null});return}const I=getActiveItems(a.items)[0];if(I.status===ItemStatus.PROCESSING_COMPLETE||I.status===ItemStatus.PROCESSING_REVERT_ERROR){const f=t("GET_FORCE_REVERT");if(I.revert(createRevertFunction(a.options.server.url,a.options.server.revert),f).then(()=>{f&&e("ADD_ITEM",{source:n,index:l,interactionMethod:r,success:s,failure:o,options:c})}).catch(()=>{}),f)return}e("REMOVE_ITEM",{query:I.id})}const u=c.type==="local"?FileOrigin.LOCAL:c.type==="limbo"?FileOrigin.LIMBO:FileOrigin.INPUT,d=createItem(u,u===FileOrigin.INPUT?null:n,c.file);Object.keys(c.metadata||{}).forEach(I=>{d.setMetadata(I,c.metadata[I])}),applyFilters("DID_CREATE_ITEM",d,{query:t,dispatch:e});const p=t("GET_ITEM_INSERT_LOCATION");a.options.itemInsertLocationFreedom||(l=p==="before"?-1:a.items.length),insertItem(a.items,d,l),isFunction$2(p)&&n&&sortItems(a,p);const h=d.id;d.on("init",()=>{e("DID_INIT_ITEM",{id:h})}),d.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:h})}),d.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:h})}),d.on("load-progress",I=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:I})}),d.on("load-request-error",I=>{const f=dynamicLabel(a.options.labelFileLoadError)(I);if(I.code>=400&&I.code<500){e("DID_THROW_ITEM_INVALID",{id:h,error:I,status:{main:f,sub:`${I.code} (${I.body})`}}),o({error:I,file:createItemAPI(d)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:I,status:{main:f,sub:a.options.labelTapToRetry}})}),d.on("load-file-error",I=>{e("DID_THROW_ITEM_INVALID",{id:h,error:I.status,status:I.status}),o({error:I.status,file:createItemAPI(d)})}),d.on("load-abort",()=>{e("REMOVE_ITEM",{query:h})}),d.on("load-skip",()=>{d.on("metadata-update",I=>{isFile(d.file)&&e("DID_UPDATE_ITEM_METADATA",{id:h,change:I})}),e("COMPLETE_LOAD_ITEM",{query:h,item:d,data:{source:n,success:s}})}),d.on("load",()=>{const I=f=>{if(!f){e("REMOVE_ITEM",{query:h});return}d.on("metadata-update",b=>{e("DID_UPDATE_ITEM_METADATA",{id:h,change:b})}),applyFilterChain("SHOULD_PREPARE_OUTPUT",!1,{item:d,query:t}).then(b=>{const S=t("GET_BEFORE_PREPARE_FILE");S&&(b=S(d,b));const R=()=>{e("COMPLETE_LOAD_ITEM",{query:h,item:d,data:{source:n,success:s}}),listUpdated(e,a)};if(b){e("REQUEST_PREPARE_OUTPUT",{query:h,item:d,success:A=>{e("DID_PREPARE_OUTPUT",{id:h,file:A}),R()}},!0);return}R()})};applyFilterChain("DID_LOAD_ITEM",d,{query:t,dispatch:e}).then(()=>{optionalPromise(t("GET_BEFORE_ADD_FILE"),createItemAPI(d)).then(I)}).catch(f=>{if(!f||!f.error||!f.status)return I(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:f.error,status:f.status})})}),d.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:h})}),d.on("process-progress",I=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:I})}),d.on("process-error",I=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:I,status:{main:dynamicLabel(a.options.labelFileProcessingError)(I),sub:a.options.labelTapToRetry}})}),d.on("process-revert-error",I=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:I,status:{main:dynamicLabel(a.options.labelFileProcessingRevertError)(I),sub:a.options.labelTapToRetry}})}),d.on("process-complete",I=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:I}),e("DID_DEFINE_VALUE",{id:h,value:I})}),d.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:h})}),d.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})}),e("DID_ADD_ITEM",{id:h,index:l,interactionMethod:r}),listUpdated(e,a);const{url:m,load:g,restore:E,fetch:T}=a.options.server||{};d.load(n,createFileLoader(u===FileOrigin.INPUT?isString$1(n)&&isExternalURL(n)&&T?createFetchFunction(m,T):fetchBlob:u===FileOrigin.LIMBO?createFetchFunction(m,E):createFetchFunction(m,g)),(I,f,b)=>{applyFilterChain("LOAD_FILE",I,{query:t}).then(f).catch(b)})},REQUEST_PREPARE_OUTPUT:({item:n,success:l,failure:r=()=>{}})=>{const s={error:createResponse("error",0,"Item not found"),file:null};if(n.archived)return r(s);applyFilterChain("PREPARE_OUTPUT",n.file,{query:t,item:n}).then(o=>{applyFilterChain("COMPLETE_PREPARE_OUTPUT",o,{query:t,item:n}).then(c=>{if(n.archived)return r(s);l(c)})})},COMPLETE_LOAD_ITEM:({item:n,data:l})=>{const{success:r,source:s}=l,o=t("GET_ITEM_INSERT_LOCATION");if(isFunction$2(o)&&s&&sortItems(a,o),e("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===FileOrigin.INPUT?null:s}),r(createItemAPI(n)),n.origin===FileOrigin.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:n.id});return}if(n.origin===FileOrigin.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:s}),e("DID_DEFINE_VALUE",{id:n.id,value:n.serverId||s});return}t("IS_ASYNC")&&a.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:n.id})},RETRY_ITEM_LOAD:getItemByQueryFromState(a,n=>{n.retryLoad()}),REQUEST_ITEM_PREPARE:getItemByQueryFromState(a,(n,l,r)=>{e("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:s=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:s}),l({file:n,output:s})},failure:r},!0)}),REQUEST_ITEM_PROCESSING:getItemByQueryFromState(a,(n,l,r)=>{if(!(n.status===ItemStatus.IDLE||n.status===ItemStatus.PROCESSING_ERROR)){const o=()=>e("REQUEST_ITEM_PROCESSING",{query:n,success:l,failure:r}),c=()=>document.hidden?o():setTimeout(o,32);n.status===ItemStatus.PROCESSING_COMPLETE||n.status===ItemStatus.PROCESSING_REVERT_ERROR?n.revert(createRevertFunction(a.options.server.url,a.options.server.revert),t("GET_FORCE_REVERT")).then(c).catch(()=>{}):n.status===ItemStatus.PROCESSING&&n.abortProcessing().then(c);return}n.status!==ItemStatus.PROCESSING_QUEUED&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:l,failure:r},!0))}),PROCESS_ITEM:getItemByQueryFromState(a,(n,l,r)=>{const s=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",ItemStatus.PROCESSING).length===s){a.processingQueue.push({id:n.id,success:l,failure:r});return}if(n.status===ItemStatus.PROCESSING)return;const c=()=>{const d=a.processingQueue.shift();if(!d)return;const{id:p,success:h,failure:m}=d,g=getItemByQuery(a.items,p);if(!g||g.archived){c();return}e("PROCESS_ITEM",{query:p,success:h,failure:m},!0)};n.onOnce("process-complete",()=>{l(createItemAPI(n)),c();const d=a.options.server;if(a.options.instantUpload&&n.origin===FileOrigin.LOCAL&&isFunction$2(d.remove)){const m=()=>{};n.origin=FileOrigin.LIMBO,a.options.server.remove(n.source,m,m)}t("GET_ITEMS_BY_STATUS",ItemStatus.PROCESSING_COMPLETE).length===a.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),n.onOnce("process-error",d=>{r({error:d,file:createItemAPI(n)}),c()});const u=a.options;n.process(createFileProcessor(createProcessorFunction(u.server.url,u.server.process,u.name,{chunkTransferId:n.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(d,p,h)=>{applyFilterChain("PREPARE_OUTPUT",d,{query:t,item:n}).then(m=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:m}),p(m)}).catch(h)})}),RETRY_ITEM_PROCESSING:getItemByQueryFromState(a,n=>{e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:getItemByQueryFromState(a,n=>{optionalPromise(t("GET_BEFORE_REMOVE_FILE"),createItemAPI(n)).then(l=>{l&&e("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:getItemByQueryFromState(a,n=>{n.release()}),REMOVE_ITEM:getItemByQueryFromState(a,(n,l,r,s)=>{const o=()=>{const u=n.id;getItemById(a.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:n}),listUpdated(e,a),l(createItemAPI(n))},c=a.options.server;n.origin===FileOrigin.LOCAL&&c&&isFunction$2(c.remove)&&s.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:n.id}),c.remove(n.source,()=>o(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:createResponse("error",0,u,null),status:{main:dynamicLabel(a.options.labelFileRemoveError)(u),sub:a.options.labelTapToRetry}})})):((s.revert&&n.origin!==FileOrigin.LOCAL&&n.serverId!==null||a.options.chunkUploads&&n.file.size>a.options.chunkSize||a.options.chunkUploads&&a.options.chunkForce)&&n.revert(createRevertFunction(a.options.server.url,a.options.server.revert),t("GET_FORCE_REVERT")),o())}),ABORT_ITEM_LOAD:getItemByQueryFromState(a,n=>{n.abortLoad()}),ABORT_ITEM_PROCESSING:getItemByQueryFromState(a,n=>{if(n.serverId){e("REVERT_ITEM_PROCESSING",{id:n.id});return}n.abortProcessing().then(()=>{a.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:getItemByQueryFromState(a,n=>{if(!a.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:n});return}const l=o=>{o&&e("REVERT_ITEM_PROCESSING",{query:n})},r=t("GET_BEFORE_REMOVE_FILE");if(!r)return l(!0);const s=r(createItemAPI(n));if(s==null)return l(!0);if(typeof s=="boolean")return l(s);typeof s.then=="function"&&s.then(l)}),REVERT_ITEM_PROCESSING:getItemByQueryFromState(a,n=>{n.revert(createRevertFunction(a.options.server.url,a.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(a.options.instantUpload||isMockItem(n))&&e("REMOVE_ITEM",{query:n.id})}).catch(()=>{})}),SET_OPTIONS:({options:n})=>{const l=Object.keys(n),r=PrioritizedOptions.filter(o=>l.includes(o));[...r,...Object.keys(n).filter(o=>!r.includes(o))].forEach(o=>{e(`SET_${fromCamels(o,"_").toUpperCase()}`,{value:n[o]})})}}),PrioritizedOptions=["server"],formatFilename=e=>e,createElement$1=e=>document.createElement(e),text=(e,t)=>{let a=e.childNodes[0];a?t!==a.nodeValue&&(a.nodeValue=t):(a=document.createTextNode(t),e.appendChild(a))},polarToCartesian=(e,t,a,n)=>{const l=(n%360-90)*Math.PI/180;return{x:e+a*Math.cos(l),y:t+a*Math.sin(l)}},describeArc=(e,t,a,n,l,r)=>{const s=polarToCartesian(e,t,a,l),o=polarToCartesian(e,t,a,n);return["M",s.x,s.y,"A",a,a,0,r,0,o.x,o.y].join(" ")},percentageArc=(e,t,a,n,l)=>{let r=1;return l>n&&l-n<=.5&&(r=0),n>l&&n-l>=.5&&(r=0),describeArc(e,t,a,Math.min(.9999,n)*360,Math.min(.9999,l)*360,r)},create=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const a=createElement("svg");e.ref.path=createElement("path",{"stroke-width":2,"stroke-linecap":"round"}),a.appendChild(e.ref.path),e.ref.svg=a,e.appendChild(a)},write=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const a=parseInt(attr(e.ref.path,"stroke-width"),10),n=e.rect.element.width*.5;let l=0,r=0;t.spin?(l=0,r=.5):(l=0,r=t.progress);const s=percentageArc(n,n,n-a,l,r);attr(e.ref.path,"d",s),attr(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},progressIndicator=createView({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create,write,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),create$1=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},write$1=({root:e,props:t})=>{const{isDisabled:a}=t,n=e.query("GET_DISABLED")||t.opacity===0;n&&!a?(t.isDisabled=!0,attr(e.element,"disabled","disabled")):!n&&a&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},fileActionButton=createView({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:create$1,write:write$1}),toNaturalFileSize=(e,t=".",a=1e3,n={})=>{const{labelBytes:l="bytes",labelKilobytes:r="KB",labelMegabytes:s="MB",labelGigabytes:o="GB"}=n;e=Math.round(Math.abs(e));const c=a,u=a*a,d=a*a*a;return e<c?`${e} ${l}`:e<u?`${Math.floor(e/c)} ${r}`:e<d?`${removeDecimalsWhenZero(e/u,1,t)} ${s}`:`${removeDecimalsWhenZero(e/d,2,t)} ${o}`},removeDecimalsWhenZero=(e,t,a)=>e.toFixed(t).split(".").filter(n=>n!=="0").join(a),create$2=({root:e,props:t})=>{const a=createElement$1("span");a.className="filepond--file-info-main",attr(a,"aria-hidden","true"),e.appendChild(a),e.ref.fileName=a;const n=createElement$1("span");n.className="filepond--file-info-sub",e.appendChild(n),e.ref.fileSize=n,text(n,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),text(a,formatFilename(e.query("GET_ITEM_NAME",t.id)))},updateFile=({root:e,props:t})=>{text(e.ref.fileSize,toNaturalFileSize(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),text(e.ref.fileName,formatFilename(e.query("GET_ITEM_NAME",t.id)))},updateFileSizeOnError=({root:e,props:t})=>{if(isInt(e.query("GET_ITEM_SIZE",t.id))){updateFile({root:e,props:t});return}text(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},fileInfo=createView({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:createRoute({DID_LOAD_ITEM:updateFile,DID_UPDATE_ITEM_META:updateFile,DID_THROW_ITEM_LOAD_ERROR:updateFileSizeOnError,DID_THROW_ITEM_INVALID:updateFileSizeOnError}),didCreateView:e=>{applyFilters("CREATE_VIEW",{...e,view:e})},create:create$2,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),toPercentage=e=>Math.round(e*100),create$3=({root:e})=>{const t=createElement$1("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const a=createElement$1("span");a.className="filepond--file-status-sub",e.appendChild(a),e.ref.sub=a,didSetItemLoadProgress({root:e,action:{progress:null}})},didSetItemLoadProgress=({root:e,action:t})=>{const a=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${toPercentage(t.progress)}%`;text(e.ref.main,a),text(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},didSetItemProcessProgress=({root:e,action:t})=>{const a=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${toPercentage(t.progress)}%`;text(e.ref.main,a),text(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},didRequestItemProcessing=({root:e})=>{text(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),text(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},didAbortItemProcessing=({root:e})=>{text(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),text(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},didCompleteItemProcessing=({root:e})=>{text(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),text(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},clear=({root:e})=>{text(e.ref.main,""),text(e.ref.sub,"")},error=({root:e,action:t})=>{text(e.ref.main,t.status.main),text(e.ref.sub,t.status.sub)},fileStatus=createView({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:createRoute({DID_LOAD_ITEM:clear,DID_REVERT_ITEM_PROCESSING:clear,DID_REQUEST_ITEM_PROCESSING:didRequestItemProcessing,DID_ABORT_ITEM_PROCESSING:didAbortItemProcessing,DID_COMPLETE_ITEM_PROCESSING:didCompleteItemProcessing,DID_UPDATE_ITEM_PROCESS_PROGRESS:didSetItemProcessProgress,DID_UPDATE_ITEM_LOAD_PROGRESS:didSetItemLoadProgress,DID_THROW_ITEM_LOAD_ERROR:error,DID_THROW_ITEM_INVALID:error,DID_THROW_ITEM_PROCESSING_ERROR:error,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:error,DID_THROW_ITEM_REMOVE_ERROR:error}),didCreateView:e=>{applyFilters("CREATE_VIEW",{...e,view:e})},create:create$3,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Buttons={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ButtonKeys=[];forin(Buttons,e=>{ButtonKeys.push(e)});const calculateFileInfoOffset=e=>{if(getRemoveIndicatorAligment(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},calculateButtonWidth=e=>e.ref.buttonAbortItemLoad.rect.element.width,calculateFileVerticalCenterOffset=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),calculateFileHorizontalCenterOffset=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),getLoadIndicatorAlignment=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),getProcessIndicatorAlignment=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),getRemoveIndicatorAligment=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),DefaultStyle={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:getLoadIndicatorAlignment},processProgressIndicator:{opacity:0,align:getProcessIndicatorAlignment},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},IdleStyle={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{translateX:calculateFileInfoOffset}},ProcessingStyle={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},StyleMap={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{translateX:calculateFileInfoOffset,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:getRemoveIndicatorAligment},info:{translateX:calculateFileInfoOffset},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:getRemoveIndicatorAligment},buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{opacity:1,translateX:calculateFileInfoOffset}},DID_LOAD_ITEM:IdleStyle,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{translateX:calculateFileInfoOffset}},DID_START_ITEM_PROCESSING:ProcessingStyle,DID_REQUEST_ITEM_PROCESSING:ProcessingStyle,DID_UPDATE_ITEM_PROCESS_PROGRESS:ProcessingStyle,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:calculateFileInfoOffset}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:IdleStyle},processingCompleteIndicatorView=createView({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),create$4=({root:e,props:t})=>{const a=Object.keys(Buttons).reduce((g,E)=>(g[E]={...Buttons[E]},g),{}),{id:n}=t,l=e.query("GET_ALLOW_REVERT"),r=e.query("GET_ALLOW_REMOVE"),s=e.query("GET_ALLOW_PROCESS"),o=e.query("GET_INSTANT_UPLOAD"),c=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let d;c?s&&!l?d=g=>!/RevertItemProcessing/.test(g):!s&&l?d=g=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(g):!s&&!l&&(d=g=>!/Process/.test(g)):d=g=>!/Process/.test(g);const p=d?ButtonKeys.filter(d):ButtonKeys.concat();if(o&&l&&(a.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",a.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!l){const g=StyleMap.DID_COMPLETE_ITEM_PROCESSING;g.info.translateX=calculateFileHorizontalCenterOffset,g.info.translateY=calculateFileVerticalCenterOffset,g.status.translateY=calculateFileVerticalCenterOffset,g.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(g=>{StyleMap[g].status.translateY=calculateFileVerticalCenterOffset}),StyleMap.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=calculateButtonWidth),u&&l){a.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const g=StyleMap.DID_COMPLETE_ITEM_PROCESSING;g.info.translateX=calculateFileInfoOffset,g.status.translateY=calculateFileVerticalCenterOffset,g.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}r||(a.RemoveItem.disabled=!0),forin(a,(g,E)=>{const T=e.createChildView(fileActionButton,{label:e.query(E.label),icon:e.query(E.icon),opacity:0});p.includes(g)&&e.appendChildView(T),E.disabled&&(T.element.setAttribute("disabled","disabled"),T.element.setAttribute("hidden","hidden")),T.element.dataset.align=e.query(`GET_STYLE_${E.align}`),T.element.classList.add(E.className),T.on("click",I=>{I.stopPropagation(),!E.disabled&&e.dispatch(E.action,{query:n})}),e.ref[`button${g}`]=T}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(processingCompleteIndicatorView)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(fileInfo,{id:n})),e.ref.status=e.appendChildView(e.createChildView(fileStatus,{id:n}));const h=e.appendChildView(e.createChildView(progressIndicator,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=h;const m=e.appendChildView(e.createChildView(progressIndicator,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},write$2=({root:e,actions:t,props:a})=>{route({root:e,actions:t,props:a});let n=t.concat().filter(l=>/^DID_/.test(l.type)).reverse().find(l=>StyleMap[l.type]);if(n){e.ref.activeStyles=[];const l=StyleMap[n.type];forin(DefaultStyle,(r,s)=>{const o=e.ref[r];forin(s,(c,u)=>{const d=l[r]&&typeof l[r][c]<"u"?l[r][c]:u;e.ref.activeStyles.push({control:o,key:c,value:d})})})}e.ref.activeStyles.forEach(({control:l,key:r,value:s})=>{l[r]=typeof s=="function"?s(e):s})},route=createRoute({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),file=createView({create:create$4,write:write$2,didCreateView:e=>{applyFilters("CREATE_VIEW",{...e,view:e})},name:"file"}),create$5=({root:e,props:t})=>{e.ref.fileName=createElement$1("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(file,{id:t.id})),e.ref.data=!1},didLoadItem=({root:e,props:t})=>{text(e.ref.fileName,formatFilename(e.query("GET_ITEM_NAME",t.id)))},fileWrapper=createView({create:create$5,ignoreRect:!0,write:createRoute({DID_LOAD_ITEM:didLoadItem}),didCreateView:e=>{applyFilters("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),PANEL_SPRING_PROPS={type:"spring",damping:.6,mass:7},create$6=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:PANEL_SPRING_PROPS},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:PANEL_SPRING_PROPS},styles:["translateY"]}}].forEach(a=>{createSection(e,a,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},createSection=(e,t,a)=>{const n=createView({name:`panel-${t.name} filepond--${a}`,mixins:t.mixins,ignoreRectUpdate:!0}),l=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(l)},write$3=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=isBoolean(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const a=e.ref.top.rect.element,n=e.ref.bottom.rect.element,l=Math.max(a.height+n.height,t.height);e.ref.center.translateY=a.height,e.ref.center.scaleY=(l-a.height-n.height)/100,e.ref.bottom.translateY=l-n.height},panel=createView({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:write$3,create:create$6,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),createDragHelper=e=>{const t=e.map(n=>n.id);let a;return{setIndex:n=>{a=n},getIndex:()=>a,getItemIndex:n=>t.indexOf(n.id)}},ITEM_TRANSLATE_SPRING={type:"spring",stiffness:.75,damping:.45,mass:10},ITEM_SCALE_SPRING="spring",StateMap={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},create$7=({root:e,props:t})=>{if(e.ref.handleClick=n=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(fileWrapper,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(panel,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const a=n=>{if(!n.isPrimary)return;let l=!1;const r={x:n.pageX,y:n.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:n.offsetX,y:n.offsetY};const s=createDragHelper(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:s});const o=p=>{if(!p.isPrimary)return;p.stopPropagation(),p.preventDefault(),t.dragOffset={x:p.pageX-r.x,y:p.pageY-r.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!l&&(l=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:s})},c=p=>{p.isPrimary&&(t.dragOffset={x:p.pageX-r.x,y:p.pageY-r.y},d())},u=()=>{d()},d=()=>{document.removeEventListener("pointercancel",u),document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",c),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:s}),l&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",u),document.addEventListener("pointermove",o),document.addEventListener("pointerup",c)};e.element.addEventListener("pointerdown",a)},route$1=createRoute({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),write$4=createRoute({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:a,shouldOptimize:n})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let l=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>StateMap[s.type]);l&&l.type!==a.currentState&&(a.currentState=l.type,e.element.dataset.filepondItemState=StateMap[a.currentState]||"");const r=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");r?n||(e.height=e.rect.element.width*r):(route$1({root:e,actions:t,props:a}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),item=createView({create:create$7,write:write$4,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ITEM_SCALE_SPRING,scaleY:ITEM_SCALE_SPRING,translateX:ITEM_TRANSLATE_SPRING,translateY:ITEM_TRANSLATE_SPRING,opacity:{type:"tween",duration:150}}}});var getItemsPerRow=(e,t)=>Math.max(1,Math.floor((e+1)/t));const getItemIndexByPosition=(e,t,a)=>{if(!a)return;const n=e.rect.element.width,l=t.length;let r=null;if(l===0||a.top<t[0].rect.element.top)return-1;const o=t[0].rect.element,c=o.marginLeft+o.marginRight,u=o.width+c,d=getItemsPerRow(n,u);if(d===1){for(let m=0;m<l;m++){const g=t[m],E=g.rect.outer.top+g.rect.element.height*.5;if(a.top<E)return m}return l}const p=o.marginTop+o.marginBottom,h=o.height+p;for(let m=0;m<l;m++){const g=m%d,E=Math.floor(m/d),T=g*u,I=E*h,f=I-o.marginTop,b=T+u,S=I+h+o.marginBottom;if(a.top<S&&a.top>f){if(a.left<b)return m;m!==l-1?r=m:r=null}}return r!==null?r:l},dropAreaDimensions={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},create$8=({root:e})=>{attr(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},addItemView=({root:e,action:t})=>{const{id:a,index:n,interactionMethod:l}=t;e.ref.addIndex=n;const r=Date.now();let s=r,o=1;if(l!==InteractionMethod.NONE){o=0;const c=e.query("GET_ITEM_INSERT_INTERVAL"),u=r-e.ref.lastItemSpanwDate;s=u<c?r+(c-u):r}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(item,{spawnDate:s,id:a,opacity:o,interactionMethod:l}),n)},moveItem=(e,t,a,n=0,l=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=a,Date.now()>e.spawnDate&&(e.opacity===0&&introItemView(e,t,a,n,l),e.scaleX=1,e.scaleY=1,e.opacity=1))},introItemView=(e,t,a,n,l)=>{e.interactionMethod===InteractionMethod.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=a):e.interactionMethod===InteractionMethod.DROP?(e.translateX=null,e.translateX=t-n*20,e.translateY=null,e.translateY=a-l*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===InteractionMethod.BROWSE?(e.translateY=null,e.translateY=a-30):e.interactionMethod===InteractionMethod.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},removeItemView=({root:e,action:t})=>{const{id:a}=t,n=e.childViews.find(l=>l.id===a);n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},getItemHeight=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,getItemWidth=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,dragItem=({root:e,action:t})=>{const{id:a,dragState:n}=t,l=e.query("GET_ITEM",{id:a}),r=e.childViews.find(T=>T.id===a),s=e.childViews.length,o=n.getItemIndex(l);if(!r)return;const c={x:r.dragOrigin.x+r.dragOffset.x+r.dragCenter.x,y:r.dragOrigin.y+r.dragOffset.y+r.dragCenter.y},u=getItemHeight(r),d=getItemWidth(r);let p=Math.floor(e.rect.outer.width/d);p>s&&(p=s);const h=Math.floor(s/p+1);dropAreaDimensions.setHeight=u*h,dropAreaDimensions.setWidth=d*p;var m={y:Math.floor(c.y/u),x:Math.floor(c.x/d),getGridIndex:function(){return c.y>dropAreaDimensions.getHeight||c.y<0||c.x>dropAreaDimensions.getWidth||c.x<0?o:this.y*p+this.x},getColIndex:function(){const I=e.query("GET_ACTIVE_ITEMS"),f=e.childViews.filter(M=>M.rect.element.height),b=I.map(M=>f.find(z=>z.id===M.id)),S=b.findIndex(M=>M===r),R=getItemHeight(r),A=b.length;let O=A,L=0,P=0,D=0;for(let M=0;M<A;M++)if(L=getItemHeight(b[M]),D=P,P=D+L,c.y<P){if(S>M){if(c.y<D+R){O=M;break}continue}O=M;break}return O}};const g=p>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:r,index:g});const E=n.getIndex();if(E===void 0||E!==g){if(n.setIndex(g),E===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:o,target:g})}},route$2=createRoute({DID_ADD_ITEM:addItemView,DID_REMOVE_ITEM:removeItemView,DID_DRAG_ITEM:dragItem}),write$5=({root:e,props:t,actions:a,shouldOptimize:n})=>{route$2({root:e,props:t,actions:a});const{dragCoordinates:l}=t,r=e.rect.element.width,s=e.childViews.filter(b=>b.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(b=>s.find(S=>S.id===b.id)).filter(b=>b),c=l?getItemIndexByPosition(e,o,l):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let d=0,p=0,h=0;if(o.length===0)return;const m=o[0].rect.element,g=m.marginTop+m.marginBottom,E=m.marginLeft+m.marginRight,T=m.width+E,I=m.height+g,f=getItemsPerRow(r,T);if(f===1){let b=0,S=0;o.forEach((R,A)=>{if(c){let P=A-c;P===-2?S=-g*.25:P===-1?S=-g*.75:P===0?S=g*.75:P===1?S=g*.25:S=0}n&&(R.translateX=null,R.translateY=null),R.markedForRemoval||moveItem(R,0,b+S);let L=(R.rect.element.height+g)*(R.markedForRemoval?R.opacity:1);b+=L})}else{let b=0,S=0;o.forEach((R,A)=>{A===c&&(d=1),A===u&&(h+=1),R.markedForRemoval&&R.opacity<.5&&(p-=1);const O=A+h+d+p,L=O%f,P=Math.floor(O/f),D=L*T,M=P*I,z=Math.sign(D-b),V=Math.sign(M-S);b=D,S=M,!R.markedForRemoval&&(n&&(R.translateX=null,R.translateY=null),moveItem(R,D,M,z,V))})}},filterSetItemActions=(e,t)=>t.filter(a=>a.data&&a.data.id?e.id===a.data.id:!0),list=createView({create:create$8,write:write$5,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:filterSetItemActions,mixins:{apis:["dragCoordinates"]}}),create$9=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(list)),t.dragCoordinates=null,t.overflowing=!1},storeDragCoordinates=({root:e,props:t,action:a})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:a.position.scopeLeft-e.ref.list.rect.element.left,top:a.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},clearDragCoordinates=({props:e})=>{e.dragCoordinates=null},route$3=createRoute({DID_DRAG:storeDragCoordinates,DID_END_DRAG:clearDragCoordinates}),write$6=({root:e,props:t,actions:a})=>{if(route$3({root:e,props:t,actions:a}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const n=Math.round(t.overflow);n!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=n)}},listScroller=createView({create:create$9,write:write$6,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),attrToggle=(e,t,a,n="")=>{a?attr(e,t,n):e.removeAttribute(t)},resetFileInput=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=createElement$1("form"),a=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?a.insertBefore(e,n):a.appendChild(e)}}},create$a=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,attr(e.element,"name",e.query("GET_NAME")),attr(e.element,"aria-controls",`filepond--assistant-${t.id}`),attr(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),setAcceptedFileTypes({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),toggleAllowMultiple({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),toggleDirectoryFilter({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),toggleDisabled({root:e}),toggleRequired({root:e,action:{value:e.query("GET_REQUIRED")}}),setCaptureMethod({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=a=>{if(!e.element.value)return;const n=Array.from(e.element.files).map(l=>(l._relativePath=l.webkitRelativePath,l));setTimeout(()=>{t.onload(n),resetFileInput(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},setAcceptedFileTypes=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&attrToggle(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},toggleAllowMultiple=({root:e,action:t})=>{attrToggle(e.element,"multiple",t.value)},toggleDirectoryFilter=({root:e,action:t})=>{attrToggle(e.element,"webkitdirectory",t.value)},toggleDisabled=({root:e})=>{const t=e.query("GET_DISABLED"),a=e.query("GET_ALLOW_BROWSE"),n=t||!a;attrToggle(e.element,"disabled",n)},toggleRequired=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&attrToggle(e.element,"required",!0):attrToggle(e.element,"required",!1)},setCaptureMethod=({root:e,action:t})=>{attrToggle(e.element,"capture",!!t.value,t.value===!0?"":t.value)},updateRequiredStatus=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(attrToggle(t,"required",!1),attrToggle(t,"name",!1)):(attrToggle(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&attrToggle(t,"required",!0))},updateFieldValidityStatus=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},browser=createView({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:create$a,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:createRoute({DID_LOAD_ITEM:updateRequiredStatus,DID_REMOVE_ITEM:updateRequiredStatus,DID_THROW_ITEM_INVALID:updateFieldValidityStatus,DID_SET_DISABLED:toggleDisabled,DID_SET_ALLOW_BROWSE:toggleDisabled,DID_SET_ALLOW_DIRECTORIES_ONLY:toggleDirectoryFilter,DID_SET_ALLOW_MULTIPLE:toggleAllowMultiple,DID_SET_ACCEPTED_FILE_TYPES:setAcceptedFileTypes,DID_SET_CAPTURE_METHOD:setCaptureMethod,DID_SET_REQUIRED:toggleRequired})}),Key={ENTER:13,SPACE:32},create$b=({root:e,props:t})=>{const a=createElement$1("label");attr(a,"for",`filepond--browser-${t.id}`),attr(a,"id",`filepond--drop-label-${t.id}`),attr(a,"aria-hidden","true"),e.ref.handleKeyDown=n=>{(n.keyCode===Key.ENTER||n.keyCode===Key.SPACE)&&(n.preventDefault(),e.ref.label.click())},e.ref.handleClick=n=>{n.target===a||a.contains(n.target)||e.ref.label.click()},a.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),updateLabelValue(a,t.caption),e.appendChild(a),e.ref.label=a},updateLabelValue=(e,t)=>{e.innerHTML=t;const a=e.querySelector(".filepond--label-action");return a&&attr(a,"tabindex","0"),t},dropLabel=createView({name:"drop-label",ignoreRect:!0,create:create$b,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:createRoute({DID_SET_LABEL_IDLE:({root:e,action:t})=>{updateLabelValue(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),blob=createView({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),addBlob=({root:e})=>{const t=e.rect.element.width*.5,a=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(blob,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:a}))},moveBlob=({root:e,action:t})=>{if(!e.ref.blob){addBlob({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},hideBlob=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},explodeBlob=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},write$7=({root:e,props:t,actions:a})=>{route$4({root:e,props:t,actions:a});const{blob:n}=e.ref;a.length===0&&n&&n.opacity===0&&(e.removeChildView(n),e.ref.blob=null)},route$4=createRoute({DID_DRAG:moveBlob,DID_DROP:explodeBlob,DID_END_DRAG:hideBlob}),drip=createView({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:write$7}),setInputFiles=(e,t)=>{try{const a=new DataTransfer;t.forEach(n=>{n instanceof File?a.items.add(n):a.items.add(new File([n],n.name,{type:n.type}))}),e.files=a.files}catch{return!1}return!0},create$c=({root:e})=>e.ref.fields={},getField=(e,t)=>e.ref.fields[t],syncFieldPositionsWithItems=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},didReorderItems=({root:e})=>syncFieldPositionsWithItems(e),didAddItem=({root:e,action:t})=>{const l=!(e.query("GET_ITEM",t.id).origin===FileOrigin.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),r=createElement$1("input");r.type=l?"file":"hidden",r.name=e.query("GET_NAME"),r.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=r,syncFieldPositionsWithItems(e)},didLoadItem$1=({root:e,action:t})=>{const a=getField(e,t.id);if(!a||(t.serverFileReference!==null&&(a.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const n=e.query("GET_ITEM",t.id);setInputFiles(a,[n.file])},didPrepareOutput=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const a=getField(e,t.id);a&&setInputFiles(a,[t.file])},0)},didSetDisabled=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},didRemoveItem=({root:e,action:t})=>{const a=getField(e,t.id);a&&(a.parentNode&&a.parentNode.removeChild(a),delete e.ref.fields[t.id])},didDefineValue=({root:e,action:t})=>{const a=getField(e,t.id);a&&(t.value===null?a.removeAttribute("value"):a.type!="file"&&(a.value=t.value),syncFieldPositionsWithItems(e))},write$8=createRoute({DID_SET_DISABLED:didSetDisabled,DID_ADD_ITEM:didAddItem,DID_LOAD_ITEM:didLoadItem$1,DID_REMOVE_ITEM:didRemoveItem,DID_DEFINE_VALUE:didDefineValue,DID_PREPARE_OUTPUT:didPrepareOutput,DID_REORDER_ITEMS:didReorderItems,DID_SORT_ITEMS:didReorderItems}),data$1=createView({tag:"fieldset",name:"data",create:create$c,write:write$8,ignoreRect:!0}),getRootNode=e=>"getRootNode"in e?e.getRootNode():document,images=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],text$1=["css","csv","html","txt"],map$1={zip:"zip|compressed",epub:"application/epub+zip"},guesstimateMimeType=(e="")=>(e=e.toLowerCase(),images.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):text$1.includes(e)?"text/"+e:map$1[e]||""),requestDataTransferItems=e=>new Promise((t,a)=>{const n=getLinks(e);if(n.length&&!hasFiles(e))return t(n);getFiles(e).then(t)}),hasFiles=e=>e.files?e.files.length>0:!1,getFiles=e=>new Promise((t,a)=>{const n=(e.items?Array.from(e.items):[]).filter(l=>isFileSystemItem(l)).map(l=>getFilesFromItem(l));if(!n.length){t(e.files?Array.from(e.files):[]);return}Promise.all(n).then(l=>{const r=[];l.forEach(s=>{r.push.apply(r,s)}),t(r.filter(s=>s).map(s=>(s._relativePath||(s._relativePath=s.webkitRelativePath),s)))}).catch(console.error)}),isFileSystemItem=e=>{if(isEntry(e)){const t=getAsEntry(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},getFilesFromItem=e=>new Promise((t,a)=>{if(isDirectoryEntry(e)){getFilesInDirectory(getAsEntry(e)).then(t).catch(a);return}t([e.getAsFile()])}),getFilesInDirectory=e=>new Promise((t,a)=>{const n=[];let l=0,r=0;const s=()=>{r===0&&l===0&&t(n)},o=c=>{l++;const u=c.createReader(),d=()=>{u.readEntries(p=>{if(p.length===0){l--,s();return}p.forEach(h=>{h.isDirectory?o(h):(r++,h.file(m=>{const g=correctMissingFileType(m);h.fullPath&&(g._relativePath=h.fullPath),n.push(g),r--,s()}))}),d()},a)};d()};o(e)}),correctMissingFileType=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,a=e.name,n=guesstimateMimeType(getExtensionFromFilename(e.name));return n.length&&(e=e.slice(0,e.size,n),e.name=a,e.lastModifiedDate=t),e},isDirectoryEntry=e=>isEntry(e)&&(getAsEntry(e)||{}).isDirectory,isEntry=e=>"webkitGetAsEntry"in e,getAsEntry=e=>e.webkitGetAsEntry(),getLinks=e=>{let t=[];try{if(t=getLinksFromTransferMetaData(e),t.length)return t;t=getLinksFromTransferURLData(e)}catch{}return t},getLinksFromTransferURLData=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},getLinksFromTransferMetaData=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const a=t.match(/src\s*=\s*"(.+?)"/);if(a)return[a[1]]}return[]},dragNDropObservers=[],eventPosition=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),createDragNDropClient=(e,t,a)=>{const n=getDragNDropObserver(t),l={element:e,filterElement:a,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return l.destroy=n.addListener(l),l},getDragNDropObserver=e=>{const t=dragNDropObservers.find(n=>n.element===e);if(t)return t;const a=createDragNDropObserver(e);return dragNDropObservers.push(a),a},createDragNDropObserver=e=>{const t=[],a={dragenter,dragover,dragleave,drop},n={};forin(a,(r,s)=>{n[r]=s(e,t),e.addEventListener(r,n[r],!1)});const l={element:e,addListener:r=>(t.push(r),()=>{t.splice(t.indexOf(r),1),t.length===0&&(dragNDropObservers.splice(dragNDropObservers.indexOf(l),1),forin(a,s=>{e.removeEventListener(s,n[s],!1)}))})};return l},elementFromPoint=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),isEventTarget=(e,t)=>{const a=getRootNode(t),n=elementFromPoint(a,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)};let initialTarget=null;const setDropEffect=(e,t)=>{try{e.dropEffect=t}catch{}},dragenter=(e,t)=>a=>{a.preventDefault(),initialTarget=a.target,t.forEach(n=>{const{element:l,onenter:r}=n;isEventTarget(a,l)&&(n.state="enter",r(eventPosition(a)))})},dragover=(e,t)=>a=>{a.preventDefault();const n=a.dataTransfer;requestDataTransferItems(n).then(l=>{let r=!1;t.some(s=>{const{filterElement:o,element:c,onenter:u,onexit:d,ondrag:p,allowdrop:h}=s;setDropEffect(n,"copy");const m=h(l);if(!m){setDropEffect(n,"none");return}if(isEventTarget(a,c)){if(r=!0,s.state===null){s.state="enter",u(eventPosition(a));return}if(s.state="over",o&&!m){setDropEffect(n,"none");return}p(eventPosition(a))}else o&&!r&&setDropEffect(n,"none"),s.state&&(s.state=null,d(eventPosition(a)))})})},drop=(e,t)=>a=>{a.preventDefault();const n=a.dataTransfer;requestDataTransferItems(n).then(l=>{t.forEach(r=>{const{filterElement:s,element:o,ondrop:c,onexit:u,allowdrop:d}=r;if(r.state=null,!(s&&!isEventTarget(a,o))){if(!d(l))return u(eventPosition(a));c(eventPosition(a),l)}})})},dragleave=(e,t)=>a=>{initialTarget===a.target&&t.forEach(n=>{const{onexit:l}=n;n.state=null,l(eventPosition(a))})},createHopper=(e,t,a)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:n,requiresDropOnElement:l,filterItems:r=d=>d}=a,s=createDragNDropClient(e,n?document.documentElement:e,l);let o="",c="";s.allowdrop=d=>t(r(d)),s.ondrop=(d,p)=>{const h=r(p);if(!t(h)){u.ondragend(d);return}c="drag-drop",u.onload(h,d)},s.ondrag=d=>{u.ondrag(d)},s.onenter=d=>{c="drag-over",u.ondragstart(d)},s.onexit=d=>{c="drag-exit",u.ondragend(d)};const u={updateHopperState:()=>{o!==c&&(e.dataset.hopperState=c,o=c)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return u};let listening=!1;const listeners$1=[],handlePaste=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let a=!1,n=t;for(;n!==document.body;){if(n.classList.contains("filepond--root")){a=!0;break}n=n.parentNode}if(!a)return}requestDataTransferItems(e.clipboardData).then(a=>{a.length&&listeners$1.forEach(n=>n(a))})},listen=e=>{listeners$1.includes(e)||(listeners$1.push(e),!listening&&(listening=!0,document.addEventListener("paste",handlePaste)))},unlisten=e=>{arrayRemove(listeners$1,listeners$1.indexOf(e)),listeners$1.length===0&&(document.removeEventListener("paste",handlePaste),listening=!1)},createPaster=()=>{const e=a=>{t.onload(a)},t={destroy:()=>{unlisten(e)},onload:()=>{}};return listen(e),t},create$d=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,attr(e.element,"role","status"),attr(e.element,"aria-live","polite"),attr(e.element,"aria-relevant","additions")};let addFilesNotificationTimeout=null,notificationClearTimeout=null;const filenames=[],assist=(e,t)=>{e.element.textContent=t},clear$1=e=>{e.element.textContent=""},listModified=(e,t,a)=>{const n=e.query("GET_TOTAL_ITEMS");assist(e,`${a} ${t}, ${n} ${n===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(notificationClearTimeout),notificationClearTimeout=setTimeout(()=>{clear$1(e)},1500)},isUsingFilePond=e=>e.element.parentNode.contains(document.activeElement),itemAdded=({root:e,action:t})=>{if(!isUsingFilePond(e))return;e.element.textContent="";const a=e.query("GET_ITEM",t.id);filenames.push(a.filename),clearTimeout(addFilesNotificationTimeout),addFilesNotificationTimeout=setTimeout(()=>{listModified(e,filenames.join(", "),e.query("GET_LABEL_FILE_ADDED")),filenames.length=0},750)},itemRemoved=({root:e,action:t})=>{if(!isUsingFilePond(e))return;const a=t.item;listModified(e,a.filename,e.query("GET_LABEL_FILE_REMOVED"))},itemProcessed=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,l=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");assist(e,`${n} ${l}`)},itemProcessedUndo=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,l=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");assist(e,`${n} ${l}`)},itemError=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename;assist(e,`${t.status.main} ${n} ${t.status.sub}`)},assistant=createView({create:create$d,ignoreRect:!0,ignoreRectUpdate:!0,write:createRoute({DID_LOAD_ITEM:itemAdded,DID_REMOVE_ITEM:itemRemoved,DID_COMPLETE_ITEM_PROCESSING:itemProcessed,DID_ABORT_ITEM_PROCESSING:itemProcessedUndo,DID_REVERT_ITEM_PROCESSING:itemProcessedUndo,DID_THROW_ITEM_REMOVE_ERROR:itemError,DID_THROW_ITEM_LOAD_ERROR:itemError,DID_THROW_ITEM_INVALID:itemError,DID_THROW_ITEM_PROCESSING_ERROR:itemError}),tag:"span",name:"assistant"}),toCamels=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),a=>a.charAt(1).toUpperCase()),debounce=(e,t=16,a=!0)=>{let n=Date.now(),l=null;return(...r)=>{clearTimeout(l);const s=Date.now()-n,o=()=>{n=Date.now(),e(...r)};s<t?a||(l=setTimeout(o,t-s)):o()}},MAX_FILES_LIMIT=1e6,prevent=e=>e.preventDefault(),create$e=({root:e,props:t})=>{const a=e.query("GET_ID");a&&(e.element.id=a);const n=e.query("GET_CLASS_NAME");n&&n.split(" ").filter(c=>c.length).forEach(c=>{e.element.classList.add(c)}),e.ref.label=e.appendChildView(e.createChildView(dropLabel,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(listScroller,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(panel,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(assistant,{...t})),e.ref.data=e.appendChildView(e.createChildView(data$1,{...t})),e.ref.measure=createElement$1("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(c=>!isEmpty$1(c.value)).map(({name:c,value:u})=>{e.element.dataset[c]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=debounce(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const l=window.matchMedia("(pointer: fine) and (hover: hover)").matches,r="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&r&&!l&&(e.element.addEventListener("touchmove",prevent,{passive:!1}),e.element.addEventListener("gesturestart",prevent));const s=e.query("GET_CREDITS");if(s.length===2){const c=document.createElement("a");c.className="filepond--credits",c.setAttribute("aria-hidden","true"),c.href=s[0],c.tabindex=-1,c.target="_blank",c.rel="noopener noreferrer",c.textContent=s[1],e.element.appendChild(c),e.ref.credits=c}},write$9=({root:e,props:t,actions:a})=>{if(route$5({root:e,props:t,actions:a}),a.filter(A=>/^DID_SET_STYLE_/.test(A.type)).filter(A=>!isEmpty$1(A.data.value)).map(({type:A,data:O})=>{const L=toCamels(A.substring(8).toLowerCase(),"_");e.element.dataset[L]=O.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let n=e.ref.bounds;n||(n=e.ref.bounds=calculateRootBoundingBoxHeight(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:l,label:r,list:s,panel:o}=e.ref;l&&l.updateHopperState();const c=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),d=e.query("GET_TOTAL_ITEMS"),p=u?e.query("GET_MAX_FILES")||MAX_FILES_LIMIT:1,h=d===p,m=a.find(A=>A.type==="DID_ADD_ITEM");if(h&&m){const A=m.data.interactionMethod;r.opacity=0,u?r.translateY=-40:A===InteractionMethod.API?r.translateX=40:A===InteractionMethod.BROWSE?r.translateY=40:r.translateY=30}else h||(r.opacity=1,r.translateX=0,r.translateY=0);const g=calculateListItemMargin(e),E=calculateListHeight(e),T=r.rect.element.height,I=!u||h?0:T,f=h?s.rect.element.marginTop:0,b=d===0?0:s.rect.element.marginBottom,S=I+f+E.visual+b,R=I+f+E.bounds+b;if(s.translateY=Math.max(0,I-s.rect.element.marginTop)-g.top,c){const A=e.rect.element.width,O=A*c;c!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=c,e.ref.updateHistory=[]);const L=e.ref.updateHistory;L.push(A);const P=2;if(L.length>P*2){const M=L.length,z=M-10;let V=0;for(let x=M;x>=z;x--)if(L[x]===L[x-2]&&V++,V>=P)return}o.scalable=!1,o.height=O;const D=O-I-(b-g.bottom)-(h?f:0);E.visual>D?s.overflow=D:s.overflow=null,e.height=O}else if(n.fixedHeight){o.scalable=!1;const A=n.fixedHeight-I-(b-g.bottom)-(h?f:0);E.visual>A?s.overflow=A:s.overflow=null}else if(n.cappedHeight){const A=S>=n.cappedHeight,O=Math.min(n.cappedHeight,S);o.scalable=!0,o.height=A?O:O-g.top-g.bottom;const L=O-I-(b-g.bottom)-(h?f:0);S>n.cappedHeight&&E.visual>L?s.overflow=L:s.overflow=null,e.height=Math.min(n.cappedHeight,R-g.top-g.bottom)}else{const A=d>0?g.top+g.bottom:0;o.scalable=!0,o.height=Math.max(T,S-A),e.height=Math.max(T,R-A)}e.ref.credits&&o.heightCurrent&&(e.ref.credits.style.transform=`translateY(${o.heightCurrent}px)`)},calculateListItemMargin=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},calculateListHeight=e=>{let t=0,a=0;const n=e.ref.list,l=n.childViews[0],r=l.childViews.filter(f=>f.rect.element.height),s=e.query("GET_ACTIVE_ITEMS").map(f=>r.find(b=>b.id===f.id)).filter(f=>f);if(s.length===0)return{visual:t,bounds:a};const o=l.rect.element.width,c=getItemIndexByPosition(l,s,n.dragCoordinates),u=s[0].rect.element,d=u.marginTop+u.marginBottom,p=u.marginLeft+u.marginRight,h=u.width+p,m=u.height+d,g=typeof c<"u"&&c>=0?1:0,E=s.find(f=>f.markedForRemoval&&f.opacity<.45)?-1:0,T=s.length+g+E,I=getItemsPerRow(o,h);return I===1?s.forEach(f=>{const b=f.rect.element.height+d;a+=b,t+=b*f.opacity}):(a=Math.ceil(T/I)*m,t=a),{visual:t,bounds:a}},calculateRootBoundingBoxHeight=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},exceedsMaxFiles=(e,t)=>{const a=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),l=e.query("GET_TOTAL_ITEMS");let r=e.query("GET_MAX_FILES");const s=t.length;return!n&&s>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:createResponse("warning",0,"Max files")}),!0):(r=n?r:1,!n&&a?!1:isInt(r)&&l+s>r?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:createResponse("warning",0,"Max files")}),!0):!1)},getDragIndex=(e,t,a)=>{const n=e.childViews[0];return getItemIndexByPosition(n,t,{left:a.scopeLeft-n.rect.element.left,top:a.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},toggleDrop=e=>{const t=e.query("GET_ALLOW_DROP"),a=e.query("GET_DISABLED"),n=t&&!a;if(n&&!e.ref.hopper){const l=createHopper(e.element,r=>{const s=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?r.every(c=>applyFilters("ALLOW_HOPPER_ITEM",c,{query:e.query}).every(u=>u===!0)&&s(c)):!0},{filterItems:r=>{const s=e.query("GET_IGNORED_FILES");return r.filter(o=>isFile(o)?!s.includes(o.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});l.onload=(r,s)=>{const c=e.ref.list.childViews[0].childViews.filter(d=>d.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(d=>c.find(p=>p.id===d.id)).filter(d=>d);applyFilterChain("ADD_ITEMS",r,{dispatch:e.dispatch}).then(d=>{if(exceedsMaxFiles(e,d))return!1;e.dispatch("ADD_ITEMS",{items:d,index:getDragIndex(e.ref.list,u,s),interactionMethod:InteractionMethod.DROP})}),e.dispatch("DID_DROP",{position:s}),e.dispatch("DID_END_DRAG",{position:s})},l.ondragstart=r=>{e.dispatch("DID_START_DRAG",{position:r})},l.ondrag=debounce(r=>{e.dispatch("DID_DRAG",{position:r})}),l.ondragend=r=>{e.dispatch("DID_END_DRAG",{position:r})},e.ref.hopper=l,e.ref.drip=e.appendChildView(e.createChildView(drip))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},toggleBrowse=(e,t)=>{const a=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),l=a&&!n;l&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(browser,{...t,onload:r=>{applyFilterChain("ADD_ITEMS",r,{dispatch:e.dispatch}).then(s=>{if(exceedsMaxFiles(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:InteractionMethod.BROWSE})})}}),0):!l&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},togglePaste=e=>{const t=e.query("GET_ALLOW_PASTE"),a=e.query("GET_DISABLED"),n=t&&!a;n&&!e.ref.paster?(e.ref.paster=createPaster(),e.ref.paster.onload=l=>{applyFilterChain("ADD_ITEMS",l,{dispatch:e.dispatch}).then(r=>{if(exceedsMaxFiles(e,r))return!1;e.dispatch("ADD_ITEMS",{items:r,index:-1,interactionMethod:InteractionMethod.PASTE})})}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},route$5=createRoute({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{toggleBrowse(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{toggleDrop(e)},DID_SET_ALLOW_PASTE:({root:e})=>{togglePaste(e)},DID_SET_DISABLED:({root:e,props:t})=>{toggleDrop(e),togglePaste(e),toggleBrowse(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),root$1=createView({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:create$e,write:write$9,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",prevent),e.element.removeEventListener("gesturestart",prevent)},mixins:{styles:["height"]}}),createApp=(e={})=>{let t=null;const a=getOptions(),n=createStore(createInitialState(a),[queries,createOptionQueries(a)],[actions,createOptionActions(a)]);n.dispatch("SET_OPTIONS",{options:e});const l=()=>{document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",l);let r=null,s=!1,o=!1,c=null,u=null;const d=()=>{s||(s=!0),clearTimeout(r),r=setTimeout(()=>{s=!1,c=null,u=null,o&&(o=!1,n.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",d);const p=root$1(n,{id:getUniqueId()});let h=!1,m=!1;const g={_read:()=>{s&&(u=window.innerWidth,c||(c=u),!o&&u!==c&&(n.dispatch("DID_START_RESIZE"),o=!0)),m&&h&&(h=p.element.offsetParent===null),!h&&(p._read(),m=p.rect.element.hidden)},_write:y=>{const F=n.processActionQueue().filter(w=>!/^SET_/.test(w.type));h&&!F.length||(f(F),h=p._write(y,F,o),removeReleasedItems(n.query("GET_ITEMS")),h&&n.processDispatchQueue())}},E=y=>F=>{const w={type:y};if(!F)return w;if(F.hasOwnProperty("error")&&(w.error=F.error?{...F.error}:null),F.status&&(w.status={...F.status}),F.file&&(w.output=F.file),F.source)w.file=F.source;else if(F.item||F.id){const v=F.item?F.item:n.query("GET_ITEM",F.id);w.file=v?createItemAPI(v):null}return F.items&&(w.items=F.items.map(createItemAPI)),/progress/.test(y)&&(w.progress=F.progress),F.hasOwnProperty("origin")&&F.hasOwnProperty("target")&&(w.origin=F.origin,w.target=F.target),w},T={DID_DESTROY:E("destroy"),DID_INIT:E("init"),DID_THROW_MAX_FILES:E("warning"),DID_INIT_ITEM:E("initfile"),DID_START_ITEM_LOAD:E("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:E("addfileprogress"),DID_LOAD_ITEM:E("addfile"),DID_THROW_ITEM_INVALID:[E("error"),E("addfile")],DID_THROW_ITEM_LOAD_ERROR:[E("error"),E("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[E("error"),E("removefile")],DID_PREPARE_OUTPUT:E("preparefile"),DID_START_ITEM_PROCESSING:E("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:E("processfileprogress"),DID_ABORT_ITEM_PROCESSING:E("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:E("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:E("processfiles"),DID_REVERT_ITEM_PROCESSING:E("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[E("error"),E("processfile")],DID_REMOVE_ITEM:E("removefile"),DID_UPDATE_ITEMS:E("updatefiles"),DID_ACTIVATE_ITEM:E("activatefile"),DID_REORDER_ITEMS:E("reorderfiles")},I=y=>{const F={pond:k,...y};delete F.type,p.element.dispatchEvent(new CustomEvent(`FilePond:${y.type}`,{detail:F,bubbles:!0,cancelable:!0,composed:!0}));const w=[];y.hasOwnProperty("error")&&w.push(y.error),y.hasOwnProperty("file")&&w.push(y.file);const v=["type","error","file"];Object.keys(y).filter(N=>!v.includes(N)).forEach(N=>w.push(y[N])),k.fire(y.type,...w);const C=n.query(`GET_ON${y.type.toUpperCase()}`);C&&C(...w)},f=y=>{y.length&&y.filter(F=>T[F.type]).forEach(F=>{const w=T[F.type];(Array.isArray(w)?w:[w]).forEach(v=>{F.type==="DID_INIT_ITEM"?I(v(F.data)):setTimeout(()=>{I(v(F.data))},0)})})},b=y=>n.dispatch("SET_OPTIONS",{options:y}),S=y=>n.query("GET_ACTIVE_ITEM",y),R=y=>new Promise((F,w)=>{n.dispatch("REQUEST_ITEM_PREPARE",{query:y,success:v=>{F(v)},failure:v=>{w(v)}})}),A=(y,F={})=>new Promise((w,v)=>{P([{source:y,options:F}],{index:F.index}).then(C=>w(C&&C[0])).catch(v)}),O=y=>y.file&&y.id,L=(y,F)=>(typeof y=="object"&&!O(y)&&!F&&(F=y,y=void 0),n.dispatch("REMOVE_ITEM",{...F,query:y}),n.query("GET_ACTIVE_ITEM",y)===null),P=(...y)=>new Promise((F,w)=>{const v=[],C={};if(isArray$1(y[0]))v.push.apply(v,y[0]),Object.assign(C,y[1]||{});else{const N=y[y.length-1];typeof N=="object"&&!(N instanceof Blob)&&Object.assign(C,y.pop()),v.push(...y)}n.dispatch("ADD_ITEMS",{items:v,index:C.index,interactionMethod:InteractionMethod.API,success:F,failure:w})}),D=()=>n.query("GET_ACTIVE_ITEMS"),M=y=>new Promise((F,w)=>{n.dispatch("REQUEST_ITEM_PROCESSING",{query:y,success:v=>{F(v)},failure:v=>{w(v)}})}),z=(...y)=>{const F=Array.isArray(y[0])?y[0]:y,w=F.length?F:D();return Promise.all(w.map(R))},V=(...y)=>{const F=Array.isArray(y[0])?y[0]:y;if(!F.length){const w=D().filter(v=>!(v.status===ItemStatus.IDLE&&v.origin===FileOrigin.LOCAL)&&v.status!==ItemStatus.PROCESSING&&v.status!==ItemStatus.PROCESSING_COMPLETE&&v.status!==ItemStatus.PROCESSING_REVERT_ERROR);return Promise.all(w.map(M))}return Promise.all(F.map(M))},x=(...y)=>{const F=Array.isArray(y[0])?y[0]:y;let w;typeof F[F.length-1]=="object"?w=F.pop():Array.isArray(y[0])&&(w=y[1]);const v=D();return F.length?F.map(N=>isNumber$1(N)?v[N]?v[N].id:null:N).filter(N=>N).map(N=>L(N,w)):Promise.all(v.map(N=>L(N,w)))},k={...on(),...g,...createOptionAPI(n,a),setOptions:b,addFile:A,addFiles:P,getFile:S,processFile:M,prepareFile:R,removeFile:L,moveFile:(y,F)=>n.dispatch("MOVE_ITEM",{query:y,index:F}),getFiles:D,processFiles:V,removeFiles:x,prepareFiles:z,sort:y=>n.dispatch("SORT",{compare:y}),browse:()=>{var y=p.element.querySelector("input[type=file]");y&&y.click()},destroy:()=>{k.fire("destroy",p.element),n.dispatch("ABORT_ALL"),p._destroy(),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",l),n.dispatch("DID_DESTROY")},insertBefore:y=>insertBefore(p.element,y),insertAfter:y=>insertAfter(p.element,y),appendTo:y=>y.appendChild(p.element),replaceElement:y=>{insertBefore(p.element,y),y.parentNode.removeChild(y),t=y},restoreElement:()=>{t&&(insertAfter(t,p.element),p.element.parentNode.removeChild(p.element),t=null)},isAttachedTo:y=>p.element===y||t===y,element:{get:()=>p.element},status:{get:()=>n.query("GET_STATUS")}};return n.dispatch("DID_INIT"),createObject(k)},createAppObject=(e={})=>{const t={};return forin(getOptions(),(n,l)=>{t[n]=l[0]}),createApp({...t,...e})},lowerCaseFirstLetter=e=>e.charAt(0).toLowerCase()+e.slice(1),attributeNameToPropertyName=e=>toCamels(e.replace(/^data-/,"")),mapObject=(e,t)=>{forin(t,(a,n)=>{forin(e,(l,r)=>{const s=new RegExp(a);if(!s.test(l)||(delete e[l],n===!1))return;if(isString$1(n)){e[n]=r;return}const c=n.group;isObject$1(n)&&!e[c]&&(e[c]={}),e[c][lowerCaseFirstLetter(l.replace(s,""))]=r}),n.mapping&&mapObject(e[n.group],n.mapping)})},getAttributesAsObject=(e,t={})=>{const a=[];forin(e.attributes,l=>{a.push(e.attributes[l])});const n=a.filter(l=>l.name).reduce((l,r)=>{const s=attr(e,r.name);return l[attributeNameToPropertyName(r.name)]=s===r.name?!0:s,l},{});return mapObject(n,t),n},createAppAtElement=(e,t={})=>{const a={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};applyFilters("SET_ATTRIBUTE_TO_OPTION_MAP",a);const n={...t},l=getAttributesAsObject(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,a);Object.keys(l).forEach(s=>{isObject$1(l[s])?(isObject$1(n[s])||(n[s]={}),Object.assign(n[s],l[s])):n[s]=l[s]}),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(s=>({source:s.value,options:{type:s.dataset.type}})));const r=createAppObject(n);return e.files&&Array.from(e.files).forEach(s=>{r.addFile(s)}),r.replaceElement(e),r},createApp$1=(...e)=>isNode(e[0])?createAppAtElement(...e):createAppObject(...e),PRIVATE_METHODS=["fire","_read","_write"],createAppAPI=e=>{const t={};return copyObjectPropertiesToObject(e,t,PRIVATE_METHODS),t},replaceInString=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(a,n)=>t[n]),createWorker=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),a=URL.createObjectURL(t),n=new Worker(a);return{transfer:(l,r)=>{},post:(l,r,s)=>{const o=getUniqueId();n.onmessage=c=>{c.data.id===o&&r(c.data.message)},n.postMessage({id:o,message:l},s)},terminate:()=>{n.terminate(),URL.revokeObjectURL(a)}}},loadImage$1=e=>new Promise((t,a)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=l=>{a(l)},n.src=e}),renameFile=(e,t)=>{const a=e.slice(0,e.size,e.type);return a.lastModifiedDate=e.lastModifiedDate,a.name=t,a},copyFile=e=>renameFile(e,e.name),registeredPlugins=[],createAppPlugin=e=>{if(registeredPlugins.includes(e))return;registeredPlugins.push(e);const t=e({addFilter,utils:{Type,forin,isString:isString$1,isFile,toNaturalFileSize,replaceInString,getExtensionFromFilename,getFilenameWithoutExtension,guesstimateMimeType,getFileFromBlob,getFilenameFromURL,createRoute,createWorker,createView,createItemAPI,loadImage:loadImage$1,copyFile,renameFile,createBlob,applyFilterChain,text,getNumericAspectRatioFromString},views:{fileActionButton}});extendDefaultOptions(t.options)},isOperaMini=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",hasPromises=()=>"Promise"in window,hasBlobSlice=()=>"slice"in Blob.prototype,hasCreateObjectURL=()=>"URL"in window&&"createObjectURL"in window.URL,hasVisibility=()=>"visibilityState"in document,hasTiming=()=>"performance"in window,hasCSSSupports=()=>"supports"in(window.CSS||{}),isIE11=()=>/MSIE|Trident/.test(window.navigator.userAgent),supported=(()=>{const e=isBrowser$4()&&!isOperaMini()&&hasVisibility()&&hasPromises()&&hasBlobSlice()&&hasCreateObjectURL()&&hasTiming()&&(hasCSSSupports()||isIE11());return()=>e})(),state={apps:[]},name="filepond",fn=()=>{};let OptionTypes={},create$f=fn,destroy=fn,parse=fn,find=fn,registerPlugin=fn,getOptions$1=fn,setOptions$1=fn;if(supported()){createPainter(()=>{state.apps.forEach(a=>a._read())},a=>{state.apps.forEach(n=>n._write(a))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported,create:create$f,destroy,parse,find,registerPlugin,setOptions:setOptions$1}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>forin(getOptions(),(a,n)=>{OptionTypes[a]=n[1]});OptionTypes={},t(),create$f=(...a)=>{const n=createApp$1(...a);return n.on("destroy",destroy),state.apps.push(n),createAppAPI(n)},destroy=a=>{const n=state.apps.findIndex(l=>l.isAttachedTo(a));return n>=0?(state.apps.splice(n,1)[0].restoreElement(),!0):!1},parse=a=>Array.from(a.querySelectorAll(`.${name}`)).filter(r=>!state.apps.find(s=>s.isAttachedTo(r))).map(r=>create$f(r)),find=a=>{const n=state.apps.find(l=>l.isAttachedTo(a));return n?createAppAPI(n):null},registerPlugin=(...a)=>{a.forEach(createAppPlugin),t()},getOptions$1=()=>{const a={};return forin(getOptions(),(n,l)=>{a[n]=l[0]}),a},setOptions$1=a=>(isObject$1(a)&&(state.apps.forEach(n=>{n.setOptions(a)}),setOptions(a)),getOptions$1())}/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const plugin$3=({addFilter:e,utils:t})=>{const{Type:a,replaceInString:n,toNaturalFileSize:l}=t;return e("ALLOW_HOPPER_ITEM",(r,{query:s})=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const o=s("GET_MAX_FILE_SIZE");if(o!==null&&r.size>o)return!1;const c=s("GET_MIN_FILE_SIZE");return!(c!==null&&r.size<c)}),e("LOAD_FILE",(r,{query:s})=>new Promise((o,c)=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return o(r);const u=s("GET_FILE_VALIDATE_SIZE_FILTER");if(u&&!u(r))return o(r);const d=s("GET_MAX_FILE_SIZE");if(d!==null&&r.size>d){c({status:{main:s("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:n(s("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(d,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const p=s("GET_MIN_FILE_SIZE");if(p!==null&&r.size<p){c({status:{main:s("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:n(s("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(p,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const h=s("GET_MAX_TOTAL_FILE_SIZE");if(h!==null&&s("GET_ACTIVE_ITEMS").reduce((g,E)=>g+E.fileSize,0)>h){c({status:{main:s("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:n(s("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(h,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}o(r)})),{options:{allowFileSizeValidation:[!0,a.BOOLEAN],maxFileSize:[null,a.INT],minFileSize:[null,a.INT],maxTotalFileSize:[null,a.INT],fileValidateSizeFilter:[null,a.FUNCTION],labelMinFileSizeExceeded:["File is too small",a.STRING],labelMinFileSize:["Minimum file size is {filesize}",a.STRING],labelMaxFileSizeExceeded:["File is too large",a.STRING],labelMaxFileSize:["Maximum file size is {filesize}",a.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",a.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",a.STRING]}}},isBrowser$3=typeof window<"u"&&typeof window.document<"u";isBrowser$3&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:plugin$3}));/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const plugin$2=({addFilter:e,utils:t})=>{const{Type:a,isString:n,replaceInString:l,guesstimateMimeType:r,getExtensionFromFilename:s,getFilenameFromURL:o}=t,c=(m,g)=>{const E=(/^[^/]+/.exec(m)||[]).pop(),T=g.slice(0,-2);return E===T},u=(m,g)=>m.some(E=>/\*$/.test(E)?c(g,E):E===g),d=m=>{let g="";if(n(m)){const E=o(m),T=s(E);T&&(g=r(T))}else g=m.type;return g},p=(m,g,E)=>{if(g.length===0)return!0;const T=d(m);return E?new Promise((I,f)=>{E(m,T).then(b=>{u(g,b)?I():f()}).catch(f)}):u(g,T)},h=m=>g=>m[g]===null?!1:m[g]||g;return e("SET_ATTRIBUTE_TO_OPTION_MAP",m=>Object.assign(m,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(m,{query:g})=>g("GET_ALLOW_FILE_TYPE_VALIDATION")?p(m,g("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(m,{query:g})=>new Promise((E,T)=>{if(!g("GET_ALLOW_FILE_TYPE_VALIDATION")){E(m);return}const I=g("GET_ACCEPTED_FILE_TYPES"),f=g("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),b=p(m,I,f),S=()=>{const R=I.map(h(g("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(O=>O!==!1),A=R.filter((O,L)=>R.indexOf(O)===L);T({status:{main:g("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:l(g("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:A.join(", "),allButLastType:A.slice(0,-1).join(", "),lastType:A[A.length-1]})}})};if(typeof b=="boolean")return b?E(m):S();b.then(()=>{E(m)}).catch(S)})),{options:{allowFileTypeValidation:[!0,a.BOOLEAN],acceptedFileTypes:[[],a.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",a.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",a.STRING],fileValidateTypeLabelExpectedTypesMap:[{},a.OBJECT],fileValidateTypeDetectType:[null,a.FUNCTION]}}},isBrowser$2=typeof window<"u"&&typeof window.document<"u";isBrowser$2&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:plugin$2}));/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const isPreviewableImage=e=>/^image/.test(e.type),vectorMultiply=(e,t)=>createVector(e.x*t,e.y*t),vectorAdd=(e,t)=>createVector(e.x+t.x,e.y+t.y),vectorNormalize=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:createVector(e.x/t,e.y/t)},vectorRotate=(e,t,a)=>{const n=Math.cos(t),l=Math.sin(t),r=createVector(e.x-a.x,e.y-a.y);return createVector(a.x+n*r.x-l*r.y,a.y+l*r.x+n*r.y)},createVector=(e=0,t=0)=>({x:e,y:t}),getMarkupValue=(e,t,a=1,n)=>{if(typeof e=="string")return parseFloat(e)*a;if(typeof e=="number")return e*(n?t[n]:Math.min(t.width,t.height))},getMarkupStyles=(e,t,a)=>{const n=e.borderStyle||e.lineStyle||"solid",l=e.backgroundColor||e.fontColor||"transparent",r=e.borderColor||e.lineColor||"transparent",s=getMarkupValue(e.borderWidth||e.lineWidth,t,a),o=e.lineCap||"round",c=e.lineJoin||"round",u=typeof n=="string"?"":n.map(p=>getMarkupValue(p,t,a)).join(","),d=e.opacity||1;return{"stroke-linecap":o,"stroke-linejoin":c,"stroke-width":s||0,"stroke-dasharray":u,stroke:r,fill:l,opacity:d}},isDefined=e=>e!=null,getMarkupRect=(e,t,a=1)=>{let n=getMarkupValue(e.x,t,a,"width")||getMarkupValue(e.left,t,a,"width"),l=getMarkupValue(e.y,t,a,"height")||getMarkupValue(e.top,t,a,"height"),r=getMarkupValue(e.width,t,a,"width"),s=getMarkupValue(e.height,t,a,"height"),o=getMarkupValue(e.right,t,a,"width"),c=getMarkupValue(e.bottom,t,a,"height");return isDefined(l)||(isDefined(s)&&isDefined(c)?l=t.height-s-c:l=c),isDefined(n)||(isDefined(r)&&isDefined(o)?n=t.width-r-o:n=o),isDefined(r)||(isDefined(n)&&isDefined(o)?r=t.width-n-o:r=0),isDefined(s)||(isDefined(l)&&isDefined(c)?s=t.height-l-c:s=0),{x:n||0,y:l||0,width:r||0,height:s||0}},pointsToPathShape=e=>e.map((t,a)=>`${a===0?"M":"L"} ${t.x} ${t.y}`).join(" "),setAttributes=(e,t)=>Object.keys(t).forEach(a=>e.setAttribute(a,t[a])),ns="http://www.w3.org/2000/svg",svg=(e,t)=>{const a=document.createElementNS(ns,e);return t&&setAttributes(a,t),a},updateRect=e=>setAttributes(e,{...e.rect,...e.styles}),updateEllipse=e=>{const t=e.rect.x+e.rect.width*.5,a=e.rect.y+e.rect.height*.5,n=e.rect.width*.5,l=e.rect.height*.5;return setAttributes(e,{cx:t,cy:a,rx:n,ry:l,...e.styles})},IMAGE_FIT_STYLE={contain:"xMidYMid meet",cover:"xMidYMid slice"},updateImage=(e,t)=>{setAttributes(e,{...e.rect,...e.styles,preserveAspectRatio:IMAGE_FIT_STYLE[t.fit]||"none"})},TEXT_ANCHOR={left:"start",center:"middle",right:"end"},updateText=(e,t,a,n)=>{const l=getMarkupValue(t.fontSize,a,n),r=t.fontFamily||"sans-serif",s=t.fontWeight||"normal",o=TEXT_ANCHOR[t.textAlign]||"start";setAttributes(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":s,"font-size":l,"font-family":r,"text-anchor":o}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},updateLine=(e,t,a,n)=>{setAttributes(e,{...e.rect,...e.styles,fill:"none"});const l=e.childNodes[0],r=e.childNodes[1],s=e.childNodes[2],o=e.rect,c={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(setAttributes(l,{x1:o.x,y1:o.y,x2:c.x,y2:c.y}),!t.lineDecoration)return;r.style.display="none",s.style.display="none";const u=vectorNormalize({x:c.x-o.x,y:c.y-o.y}),d=getMarkupValue(.05,a,n);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const p=vectorMultiply(u,d),h=vectorAdd(o,p),m=vectorRotate(o,2,h),g=vectorRotate(o,-2,h);setAttributes(r,{style:"display:block;",d:`M${m.x},${m.y} L${o.x},${o.y} L${g.x},${g.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const p=vectorMultiply(u,-d),h=vectorAdd(c,p),m=vectorRotate(c,2,h),g=vectorRotate(c,-2,h);setAttributes(s,{style:"display:block;",d:`M${m.x},${m.y} L${c.x},${c.y} L${g.x},${g.y}`})}},updatePath=(e,t,a,n)=>{setAttributes(e,{...e.styles,fill:"none",d:pointsToPathShape(t.points.map(l=>({x:getMarkupValue(l.x,a,n,"width"),y:getMarkupValue(l.y,a,n,"height")})))})},createShape=e=>t=>svg(e,{id:t.id}),createImage=e=>{const t=svg("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},createLine=e=>{const t=svg("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),a=svg("line");t.appendChild(a);const n=svg("path");t.appendChild(n);const l=svg("path");return t.appendChild(l),t},CREATE_TYPE_ROUTES={image:createImage,rect:createShape("rect"),ellipse:createShape("ellipse"),text:createShape("text"),path:createShape("path"),line:createLine},UPDATE_TYPE_ROUTES={rect:updateRect,ellipse:updateEllipse,image:updateImage,text:updateText,path:updatePath,line:updateLine},createMarkupByType=(e,t)=>CREATE_TYPE_ROUTES[e](t),updateMarkupByType=(e,t,a,n,l)=>{t!=="path"&&(e.rect=getMarkupRect(a,n,l)),e.styles=getMarkupStyles(a,n,l),UPDATE_TYPE_ROUTES[t](e,a,n,l)},MARKUP_RECT=["x","y","left","top","right","bottom","width","height"],toOptionalFraction=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,prepareMarkup=e=>{const[t,a]=e,n=a.points?{}:MARKUP_RECT.reduce((l,r)=>(l[r]=toOptionalFraction(a[r]),l),{});return[t,{zIndex:0,...a,...n}]},sortMarkupByZIndex=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,createMarkupView=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:a})=>{if(!a.dirty)return;const{crop:n,resize:l,markup:r}=a,s=a.width,o=a.height;let c=n.width,u=n.height;if(l){const{size:m}=l;let g=m&&m.width,E=m&&m.height;const T=l.mode,I=l.upscale;g&&!E&&(E=g),E&&!g&&(g=E);const f=c<g&&u<E;if(!f||f&&I){let b=g/c,S=E/u;if(T==="force")c=g,u=E;else{let R;T==="cover"?R=Math.max(b,S):T==="contain"&&(R=Math.min(b,S)),c=c*R,u=u*R}}}const d={width:s,height:o};t.element.setAttribute("width",d.width),t.element.setAttribute("height",d.height);const p=Math.min(s/c,o/u);t.element.innerHTML="";const h=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");r.filter(h).map(prepareMarkup).sort(sortMarkupByZIndex).forEach(m=>{const[g,E]=m,T=createMarkupByType(g,E);updateMarkupByType(T,g,E,d,p),t.element.appendChild(T)})}}),createVector$1=(e,t)=>({x:e,y:t}),vectorDot=(e,t)=>e.x*t.x+e.y*t.y,vectorSubtract=(e,t)=>createVector$1(e.x-t.x,e.y-t.y),vectorDistanceSquared=(e,t)=>vectorDot(vectorSubtract(e,t),vectorSubtract(e,t)),vectorDistance=(e,t)=>Math.sqrt(vectorDistanceSquared(e,t)),getOffsetPointOnEdge=(e,t)=>{const a=e,n=1.5707963267948966,l=t,r=1.5707963267948966-t,s=Math.sin(n),o=Math.sin(l),c=Math.sin(r),u=Math.cos(r),d=a/s,p=d*o,h=d*c;return createVector$1(u*p,u*h)},getRotatedRectSize=(e,t)=>{const a=e.width,n=e.height,l=getOffsetPointOnEdge(a,t),r=getOffsetPointOnEdge(n,t),s=createVector$1(e.x+Math.abs(l.x),e.y-Math.abs(l.y)),o=createVector$1(e.x+e.width+Math.abs(r.y),e.y+Math.abs(r.x)),c=createVector$1(e.x-Math.abs(r.y),e.y+e.height-Math.abs(r.x));return{width:vectorDistance(s,o),height:vectorDistance(s,c)}},calculateCanvasSize=(e,t,a=1)=>{const n=e.height/e.width;let l=1,r=t,s=1,o=n;o>r&&(o=r,s=o/n);const c=Math.max(l/s,r/o),u=e.width/(a*c*s),d=u*t;return{width:u,height:d}},getImageRectZoomFactor=(e,t,a,n)=>{const l=n.x>.5?1-n.x:n.x,r=n.y>.5?1-n.y:n.y,s=l*2*e.width,o=r*2*e.height,c=getRotatedRectSize(t,a);return Math.max(c.width/s,c.height/o)},getCenteredCropRect=(e,t)=>{let a=e.width,n=a*t;n>e.height&&(n=e.height,a=n/t);const l=(e.width-a)*.5,r=(e.height-n)*.5;return{x:l,y:r,width:a,height:n}},getCurrentCropSize=(e,t={})=>{let{zoom:a,rotation:n,center:l,aspectRatio:r}=t;r||(r=e.height/e.width);const s=calculateCanvasSize(e,r,a),o={x:s.width*.5,y:s.height*.5},c={x:0,y:0,width:s.width,height:s.height,center:o},u=typeof t.scaleToFit>"u"||t.scaleToFit,d=getImageRectZoomFactor(e,getCenteredCropRect(c,r),n,u?l:{x:.5,y:.5}),p=a*d;return{widthFloat:s.width/p,heightFloat:s.height/p,width:Math.round(s.width/p),height:Math.round(s.height/p)}},IMAGE_SCALE_SPRING_PROPS={type:"spring",stiffness:.5,damping:.45,mass:10},createBitmapView=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:a})=>{t.appendChild(a.image)}}),createImageCanvasWrapper=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:IMAGE_SCALE_SPRING_PROPS,originY:IMAGE_SCALE_SPRING_PROPS,scaleX:IMAGE_SCALE_SPRING_PROPS,scaleY:IMAGE_SCALE_SPRING_PROPS,translateX:IMAGE_SCALE_SPRING_PROPS,translateY:IMAGE_SCALE_SPRING_PROPS,rotateZ:IMAGE_SCALE_SPRING_PROPS}},create:({root:t,props:a})=>{a.width=a.image.width,a.height=a.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(createBitmapView(e),{image:a.image}))},write:({root:t,props:a})=>{const{flip:n}=a.crop,{bitmap:l}=t.ref;l.scaleX=n.horizontal?-1:1,l.scaleY=n.vertical?-1:1}}),createClipView=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:a}){a.background&&(t.element.style.backgroundColor=a.background)},create:({root:t,props:a})=>{t.ref.image=t.appendChildView(t.createChildView(createImageCanvasWrapper(e),Object.assign({},a))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(createMarkupView(e),Object.assign({},a))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const n=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");n!==null&&(n==="grid"?t.element.dataset.transparencyIndicator=n:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:a,shouldOptimize:n})=>{const{crop:l,markup:r,resize:s,dirty:o,width:c,height:u}=a;t.ref.image.crop=l;const d={x:0,y:0,width:c,height:u,center:{x:c*.5,y:u*.5}},p={width:t.ref.image.width,height:t.ref.image.height},h={x:l.center.x*p.width,y:l.center.y*p.height},m={x:d.center.x-p.width*l.center.x,y:d.center.y-p.height*l.center.y},g=Math.PI*2+l.rotation%(Math.PI*2),E=l.aspectRatio||p.height/p.width,T=typeof l.scaleToFit>"u"||l.scaleToFit,I=getImageRectZoomFactor(p,getCenteredCropRect(d,E),g,T?l.center:{x:.5,y:.5}),f=l.zoom*I;r&&r.length?(t.ref.createMarkup(),t.ref.markup.width=c,t.ref.markup.height=u,t.ref.markup.resize=s,t.ref.markup.dirty=o,t.ref.markup.markup=r,t.ref.markup.crop=getCurrentCropSize(p,l)):t.ref.markup&&t.ref.destroyMarkup();const b=t.ref.image;if(n){b.originX=null,b.originY=null,b.translateX=null,b.translateY=null,b.rotateZ=null,b.scaleX=null,b.scaleY=null;return}b.originX=h.x,b.originY=h.y,b.translateX=m.x,b.translateY=m.y,b.rotateZ=g,b.scaleX=f,b.scaleY=f}}),createImageView=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:IMAGE_SCALE_SPRING_PROPS,scaleY:IMAGE_SCALE_SPRING_PROPS,translateY:IMAGE_SCALE_SPRING_PROPS,opacity:{type:"tween",duration:400}}},create:({root:t,props:a})=>{t.ref.clip=t.appendChildView(t.createChildView(createClipView(e),{id:a.id,image:a.image,crop:a.crop,markup:a.markup,resize:a.resize,dirty:a.dirty,background:a.background}))},write:({root:t,props:a,shouldOptimize:n})=>{const{clip:l}=t.ref,{image:r,crop:s,markup:o,resize:c,dirty:u}=a;if(l.crop=s,l.markup=o,l.resize=c,l.dirty=u,l.opacity=n?0:1,n||t.rect.element.hidden)return;const d=r.height/r.width;let p=s.aspectRatio||d;const h=t.rect.inner.width,m=t.rect.inner.height;let g=t.query("GET_IMAGE_PREVIEW_HEIGHT");const E=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),T=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),I=t.query("GET_PANEL_ASPECT_RATIO"),f=t.query("GET_ALLOW_MULTIPLE");I&&!f&&(g=h*I,p=I);let b=g!==null?g:Math.max(E,Math.min(h*p,T)),S=b/p;S>h&&(S=h,b=S*p),b>m&&(b=m,S=m/p),l.width=S,l.height=b}});let SVG_MASK=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,SVGMaskUniqueId=0;const createImageOverlayView=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:a})=>{let n=SVG_MASK;if(document.querySelector("base")){const l=new URL(window.location.href.replace(window.location.hash,"")).href;n=n.replace(/url\(\#/g,"url("+l+"#")}SVGMaskUniqueId++,t.element.classList.add(`filepond--image-preview-overlay-${a.status}`),t.element.innerHTML=n.replace(/__UID__/g,SVGMaskUniqueId)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),BitmapWorker=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},ColorMatrixWorker=function(){self.onmessage=e=>{const t=e.data.message.imageData,a=e.data.message.colorMatrix,n=t.data,l=n.length,r=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],p=a[6],h=a[7],m=a[8],g=a[9],E=a[10],T=a[11],I=a[12],f=a[13],b=a[14],S=a[15],R=a[16],A=a[17],O=a[18],L=a[19];let P=0,D=0,M=0,z=0,V=0;for(;P<l;P+=4)D=n[P]/255,M=n[P+1]/255,z=n[P+2]/255,V=n[P+3]/255,n[P]=Math.max(0,Math.min((D*r+M*s+z*o+V*c+u)*255,255)),n[P+1]=Math.max(0,Math.min((D*d+M*p+z*h+V*m+g)*255,255)),n[P+2]=Math.max(0,Math.min((D*E+M*T+z*I+V*f+b)*255,255)),n[P+3]=Math.max(0,Math.min((D*S+M*R+z*A+V*O+L)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},getImageSize$1=(e,t)=>{let a=new Image;a.onload=()=>{const n=a.naturalWidth,l=a.naturalHeight;a=null,t(n,l)},a.src=e},transforms={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},fixImageOrientation=(e,t,a,n)=>{n!==-1&&e.transform.apply(e,transforms[n](t,a))},createPreviewImage=(e,t,a,n)=>{t=Math.round(t),a=Math.round(a);const l=document.createElement("canvas");l.width=t,l.height=a;const r=l.getContext("2d");return n>=5&&n<=8&&([t,a]=[a,t]),fixImageOrientation(r,t,a,n),r.drawImage(e,0,0,t,a),l},isBitmap=e=>/^image/.test(e.type)&&!/svg/.test(e.type),MAX_WIDTH=10,MAX_HEIGHT=10,calculateAverageColor=e=>{const t=Math.min(MAX_WIDTH/e.width,MAX_HEIGHT/e.height),a=document.createElement("canvas"),n=a.getContext("2d"),l=a.width=Math.ceil(e.width*t),r=a.height=Math.ceil(e.height*t);n.drawImage(e,0,0,l,r);let s=null;try{s=n.getImageData(0,0,l,r).data}catch{return null}const o=s.length;let c=0,u=0,d=0,p=0;for(;p<o;p+=4)c+=s[p]*s[p],u+=s[p+1]*s[p+1],d+=s[p+2]*s[p+2];return c=averageColor(c,o),u=averageColor(u,o),d=averageColor(d,o),{r:c,g:u,b:d}},averageColor=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),cloneCanvas=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),cloneImageData=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},loadImage=e=>new Promise((t,a)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{t(n)},n.onerror=l=>{a(l)},n.src=e}),createImageWrapperView=e=>{const t=createImageOverlayView(e),a=createImageView(e),{createWorker:n}=e.utils,l=(f,b,S)=>new Promise(R=>{f.ref.imageData||(f.ref.imageData=S.getContext("2d").getImageData(0,0,S.width,S.height));const A=cloneImageData(f.ref.imageData);if(!b||b.length!==20)return S.getContext("2d").putImageData(A,0,0),R();const O=n(ColorMatrixWorker);O.post({imageData:A,colorMatrix:b},L=>{S.getContext("2d").putImageData(L,0,0),O.terminate(),R()},[A.data.buffer])}),r=(f,b)=>{f.removeChildView(b),b.image.width=1,b.image.height=1,b._destroy()},s=({root:f})=>{const b=f.ref.images.shift();return b.opacity=0,b.translateY=-15,f.ref.imageViewBin.push(b),b},o=({root:f,props:b,image:S})=>{const R=b.id,A=f.query("GET_ITEM",{id:R});if(!A)return;const O=A.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},L=f.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let P,D,M=!1;f.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(P=A.getMetadata("markup")||[],D=A.getMetadata("resize"),M=!0);const z=f.appendChildView(f.createChildView(a,{id:R,image:S,crop:O,resize:D,markup:P,dirty:M,background:L,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),f.childViews.length);f.ref.images.push(z),z.opacity=1,z.scaleX=1,z.scaleY=1,z.translateY=0,setTimeout(()=>{f.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:R})},250)},c=({root:f,props:b})=>{const S=f.query("GET_ITEM",{id:b.id});if(!S)return;const R=f.ref.images[f.ref.images.length-1];R.crop=S.getMetadata("crop"),R.background=f.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),f.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(R.dirty=!0,R.resize=S.getMetadata("resize"),R.markup=S.getMetadata("markup"))},u=({root:f,props:b,action:S})=>{if(!/crop|filter|markup|resize/.test(S.change.key)||!f.ref.images.length)return;const R=f.query("GET_ITEM",{id:b.id});if(R){if(/filter/.test(S.change.key)){const A=f.ref.images[f.ref.images.length-1];l(f,S.change.value,A.image);return}if(/crop|markup|resize/.test(S.change.key)){const A=R.getMetadata("crop"),O=f.ref.images[f.ref.images.length-1];if(A&&A.aspectRatio&&O.crop&&O.crop.aspectRatio&&Math.abs(A.aspectRatio-O.crop.aspectRatio)>1e-5){const L=s({root:f});o({root:f,props:b,image:cloneCanvas(L.image)})}else c({root:f,props:b})}}},d=f=>{const S=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),R=S?parseInt(S[1]):null;return R!==null&&R<=58?!1:"createImageBitmap"in window&&isBitmap(f)},p=({root:f,props:b})=>{const{id:S}=b,R=f.query("GET_ITEM",S);if(!R)return;const A=URL.createObjectURL(R.file);getImageSize$1(A,(O,L)=>{f.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:S,width:O,height:L})})},h=({root:f,props:b})=>{const{id:S}=b,R=f.query("GET_ITEM",S);if(!R)return;const A=URL.createObjectURL(R.file),O=()=>{loadImage(A).then(L)},L=P=>{URL.revokeObjectURL(A);const M=(R.getMetadata("exif")||{}).orientation||-1;let{width:z,height:V}=P;if(!z||!V)return;M>=5&&M<=8&&([z,V]=[V,z]);const x=Math.max(1,window.devicePixelRatio*.75),y=f.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*x,F=V/z,w=f.rect.element.width,v=f.rect.element.height;let C=w,N=C*F;F>1?(C=Math.min(z,w*y),N=C*F):(N=Math.min(V,v*y),C=N/F);const W=createPreviewImage(P,C,N,M),j=()=>{const X=f.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?calculateAverageColor(data):null;R.setMetadata("color",X,!0),"close"in P&&P.close(),f.ref.overlayShadow.opacity=1,o({root:f,props:b,image:W})},$=R.getMetadata("filter");$?l(f,$,W).then(j):j()};if(d(R.file)){const P=n(BitmapWorker);P.post({file:R.file},D=>{if(P.terminate(),!D){O();return}L(D)})}else O()},m=({root:f})=>{const b=f.ref.images[f.ref.images.length-1];b.translateY=0,b.scaleX=1,b.scaleY=1,b.opacity=1},g=({root:f})=>{f.ref.overlayShadow.opacity=1,f.ref.overlayError.opacity=0,f.ref.overlaySuccess.opacity=0},E=({root:f})=>{f.ref.overlayShadow.opacity=.25,f.ref.overlayError.opacity=1},T=({root:f})=>{f.ref.overlayShadow.opacity=.25,f.ref.overlaySuccess.opacity=1},I=({root:f})=>{f.ref.images=[],f.ref.imageData=null,f.ref.imageViewBin=[],f.ref.overlayShadow=f.appendChildView(f.createChildView(t,{opacity:0,status:"idle"})),f.ref.overlaySuccess=f.appendChildView(f.createChildView(t,{opacity:0,status:"success"})),f.ref.overlayError=f.appendChildView(f.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:I,styles:["height"],apis:["height"],destroy:({root:f})=>{f.ref.images.forEach(b=>{b.image.width=1,b.image.height=1})},didWriteView:({root:f})=>{f.ref.images.forEach(b=>{b.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:m,DID_IMAGE_PREVIEW_CONTAINER_CREATE:p,DID_FINISH_CALCULATE_PREVIEWSIZE:h,DID_UPDATE_ITEM_METADATA:u,DID_THROW_ITEM_LOAD_ERROR:E,DID_THROW_ITEM_PROCESSING_ERROR:E,DID_THROW_ITEM_INVALID:E,DID_COMPLETE_ITEM_PROCESSING:T,DID_START_ITEM_PROCESSING:g,DID_REVERT_ITEM_PROCESSING:g},({root:f})=>{const b=f.ref.imageViewBin.filter(S=>S.opacity===0);f.ref.imageViewBin=f.ref.imageViewBin.filter(S=>S.opacity>0),b.forEach(S=>r(f,S)),b.length=0})})},plugin$1=e=>{const{addFilter:t,utils:a}=e,{Type:n,createRoute:l,isFile:r}=a,s=createImageWrapperView(e);return t("CREATE_VIEW",o=>{const{is:c,view:u,query:d}=o;if(!c("file")||!d("GET_ALLOW_IMAGE_PREVIEW"))return;const p=({root:T,props:I})=>{const{id:f}=I,b=d("GET_ITEM",f);if(!b||!r(b.file)||b.archived)return;const S=b.file;if(!isPreviewableImage(S)||!d("GET_IMAGE_PREVIEW_FILTER_ITEM")(b))return;const R="createImageBitmap"in(window||{}),A=d("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!R&&A&&S.size>A)return;T.ref.imagePreview=u.appendChildView(u.createChildView(s,{id:f}));const O=T.query("GET_IMAGE_PREVIEW_HEIGHT");O&&T.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:b.id,height:O});const L=!R&&S.size>d("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");T.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:f},L)},h=(T,I)=>{if(!T.ref.imagePreview)return;let{id:f}=I;const b=T.query("GET_ITEM",{id:f});if(!b)return;const S=T.query("GET_PANEL_ASPECT_RATIO"),R=T.query("GET_ITEM_PANEL_ASPECT_RATIO"),A=T.query("GET_IMAGE_PREVIEW_HEIGHT");if(S||R||A)return;let{imageWidth:O,imageHeight:L}=T.ref;if(!O||!L)return;const P=T.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),D=T.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),z=(b.getMetadata("exif")||{}).orientation||-1;if(z>=5&&z<=8&&([O,L]=[L,O]),!isBitmap(b.file)||T.query("GET_IMAGE_PREVIEW_UPSCALE")){const w=2048/O;O*=w,L*=w}const V=L/O,x=(b.getMetadata("crop")||{}).aspectRatio||V;let k=Math.max(P,Math.min(L,D));const y=T.rect.element.width,F=Math.min(y*x,k);T.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:b.id,height:F})},m=({root:T})=>{T.ref.shouldRescale=!0},g=({root:T,action:I})=>{I.change.key==="crop"&&(T.ref.shouldRescale=!0)},E=({root:T,action:I})=>{T.ref.imageWidth=I.width,T.ref.imageHeight=I.height,T.ref.shouldRescale=!0,T.ref.shouldDrawPreview=!0,T.dispatch("KICK")};u.registerWriter(l({DID_RESIZE_ROOT:m,DID_STOP_RESIZE:m,DID_LOAD_ITEM:p,DID_IMAGE_PREVIEW_CALCULATE_SIZE:E,DID_UPDATE_ITEM_METADATA:g},({root:T,props:I})=>{T.ref.imagePreview&&(T.rect.element.hidden||(T.ref.shouldRescale&&(h(T,I),T.ref.shouldRescale=!1),T.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:I.id})})}),T.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,n.BOOLEAN],imagePreviewFilterItem:[()=>!0,n.FUNCTION],imagePreviewHeight:[null,n.INT],imagePreviewMinHeight:[44,n.INT],imagePreviewMaxHeight:[256,n.INT],imagePreviewMaxFileSize:[null,n.INT],imagePreviewZoomFactor:[2,n.INT],imagePreviewUpscale:[!1,n.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,n.INT],imagePreviewTransparencyIndicator:[null,n.STRING],imagePreviewCalculateAverageImageColor:[!1,n.BOOLEAN],imagePreviewMarkupShow:[!0,n.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,n.FUNCTION]}}},isBrowser$1=typeof window<"u"&&typeof window.document<"u";isBrowser$1&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:plugin$1}));/*!
 * FilePondPluginImageValidateSize 1.2.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const isImage=e=>/^image/.test(e.type),getImageSize=e=>new Promise((t,a)=>{const n=document.createElement("img");n.src=URL.createObjectURL(e),n.onerror=r=>{clearInterval(l),a(r)};const l=setInterval(()=>{n.naturalWidth&&n.naturalHeight&&(clearInterval(l),URL.revokeObjectURL(n.src),t({width:n.naturalWidth,height:n.naturalHeight}))},1)}),plugin=({addFilter:e,utils:t})=>{const{Type:a,replaceInString:n,isFile:l}=t,r=(s,o,c)=>new Promise((u,d)=>{const p=({width:h,height:m})=>{const{minWidth:g,minHeight:E,maxWidth:T,maxHeight:I,minResolution:f,maxResolution:b}=o,S=h*m;h<g||m<E?d("TOO_SMALL"):h>T||m>I?d("TOO_BIG"):f!==null&&S<f?d("TOO_LOW_RES"):b!==null&&S>b&&d("TOO_HIGH_RES"),u()};getImageSize(s).then(p).catch(()=>{if(!c){d();return}c(s,o).then(p).catch(()=>d())})});return e("LOAD_FILE",(s,{query:o})=>new Promise((c,u)=>{if(!l(s)||!isImage(s)||!o("GET_ALLOW_IMAGE_VALIDATE_SIZE")){c(s);return}const d={minWidth:o("GET_IMAGE_VALIDATE_SIZE_MIN_WIDTH"),minHeight:o("GET_IMAGE_VALIDATE_SIZE_MIN_HEIGHT"),maxWidth:o("GET_IMAGE_VALIDATE_SIZE_MAX_WIDTH"),maxHeight:o("GET_IMAGE_VALIDATE_SIZE_MAX_HEIGHT"),minResolution:o("GET_IMAGE_VALIDATE_SIZE_MIN_RESOLUTION"),maxResolution:o("GET_IMAGE_VALIDATE_SIZE_MAX_RESOLUTION")},p=o("GET_IMAGE_VALIDATE_SIZE_MEASURE");r(s,d,p).then(()=>{c(s)}).catch(h=>{const m=h?{TOO_SMALL:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_SMALL"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_SIZE")},TOO_BIG:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_BIG"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_SIZE")},TOO_LOW_RES:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_LOW"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_RESOLUTION")},TOO_HIGH_RES:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_HIGH"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_RESOLUTION")}}[h]:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_FORMAT_ERROR"),details:s.type};u({status:{main:m.label,sub:h?n(m.details,d):m.details}})})})),{options:{allowImageValidateSize:[!0,a.BOOLEAN],imageValidateSizeLabelFormatError:["Image type not supported",a.STRING],imageValidateSizeMeasure:[null,a.FUNCTION],imageValidateSizeMinResolution:[null,a.INT],imageValidateSizeMaxResolution:[null,a.INT],imageValidateSizeLabelImageResolutionTooLow:["Resolution is too low",a.STRING],imageValidateSizeLabelImageResolutionTooHigh:["Resolution is too high",a.STRING],imageValidateSizeLabelExpectedMinResolution:["Minimum resolution is {minResolution}",a.STRING],imageValidateSizeLabelExpectedMaxResolution:["Maximum resolution is {maxResolution}",a.STRING],imageValidateSizeMinWidth:[1,a.INT],imageValidateSizeMinHeight:[1,a.INT],imageValidateSizeMaxWidth:[65535,a.INT],imageValidateSizeMaxHeight:[65535,a.INT],imageValidateSizeLabelImageSizeTooSmall:["Image is too small",a.STRING],imageValidateSizeLabelImageSizeTooBig:["Image is too big",a.STRING],imageValidateSizeLabelExpectedMinSize:["Minimum size is {minWidth} × {minHeight}",a.STRING],imageValidateSizeLabelExpectedMaxSize:["Maximum size is {maxWidth} × {maxHeight}",a.STRING]}}},isBrowser=typeof window<"u"&&typeof window.document<"u";isBrowser&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:plugin}));const ar_AR={labelIdle:'اسحب و ادرج ملفاتك أو <span class="filepond--label-action"> تصفح </span>',labelInvalidField:"الحقل يحتوي على ملفات غير صالحة",labelFileWaitingForSize:"بانتظار الحجم",labelFileSizeNotAvailable:"الحجم غير متاح",labelFileLoading:"بالإنتظار",labelFileLoadError:"حدث خطأ أثناء التحميل",labelFileProcessing:"يتم الرفع",labelFileProcessingComplete:"تم الرفع",labelFileProcessingAborted:"تم إلغاء الرفع",labelFileProcessingError:"حدث خطأ أثناء الرفع",labelFileProcessingRevertError:"حدث خطأ أثناء التراجع",labelFileRemoveError:"حدث خطأ أثناء الحذف",labelTapToCancel:"انقر للإلغاء",labelTapToRetry:"انقر لإعادة المحاولة",labelTapToUndo:"انقر للتراجع",labelButtonRemoveItem:"مسح",labelButtonAbortItemLoad:"إلغاء",labelButtonRetryItemLoad:"إعادة",labelButtonAbortItemProcessing:"إلغاء",labelButtonUndoItemProcessing:"تراجع",labelButtonRetryItemProcessing:"إعادة",labelButtonProcessItem:"رفع",labelMaxFileSizeExceeded:"الملف كبير جدا",labelMaxFileSize:"حجم الملف الأقصى: {filesize}",labelMaxTotalFileSizeExceeded:"تم تجاوز الحد الأقصى للحجم الإجمالي",labelMaxTotalFileSize:"الحد الأقصى لحجم الملف: {filesize}",labelFileTypeNotAllowed:"ملف من نوع غير صالح",fileValidateTypeLabelExpectedTypes:"تتوقع {allButLastType} من {lastType}",imageValidateSizeLabelFormatError:"نوع الصورة غير مدعوم",imageValidateSizeLabelImageSizeTooSmall:"الصورة صغير جدا",imageValidateSizeLabelImageSizeTooBig:"الصورة كبيرة جدا",imageValidateSizeLabelExpectedMinSize:"الحد الأدنى للأبعاد هو: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"الحد الأقصى للأبعاد هو: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"الدقة ضعيفة جدا",imageValidateSizeLabelImageResolutionTooHigh:"الدقة مرتفعة جدا",imageValidateSizeLabelExpectedMinResolution:"أقل دقة: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"أقصى دقة: {maxResolution}"},az_AZ={labelIdle:'Faylınızı Sürüşdürün & Buraxın ya da <span class="filepond--label-action"> Seçin </span>',labelInvalidField:"Sahədə etibarsız fayllar var",labelFileWaitingForSize:"Ölçü hesablanır",labelFileSizeNotAvailable:"Ölçü mövcud deyil",labelFileLoading:"Yüklənir",labelFileLoadError:"Yükləmə əsnasında xəta baş verdi",labelFileProcessing:"Yüklənir",labelFileProcessingComplete:"Yükləmə tamamlandı",labelFileProcessingAborted:"Yükləmə ləğv edildi",labelFileProcessingError:"Yükəyərkən xəta baş verdi",labelFileProcessingRevertError:"Geri çəkərkən xəta baş verdi",labelFileRemoveError:"Çıxararkən xəta baş verdi",labelTapToCancel:"İmtina etmək üçün klikləyin",labelTapToRetry:"Təkrar yoxlamaq üçün klikləyin",labelTapToUndo:"Geri almaq üçün klikləyin",labelButtonRemoveItem:"Çıxar",labelButtonAbortItemLoad:"İmtina Et",labelButtonRetryItemLoad:"Təkrar yoxla",labelButtonAbortItemProcessing:"İmtina et",labelButtonUndoItemProcessing:"Geri Al",labelButtonRetryItemProcessing:"Təkrar yoxla",labelButtonProcessItem:"Yüklə",labelMaxFileSizeExceeded:"Fayl çox böyükdür",labelMaxFileSize:"Ən böyük fayl ölçüsü: {filesize}",labelMaxTotalFileSizeExceeded:"Maksimum ölçü keçildi",labelMaxTotalFileSize:"Maksimum fayl ölçüsü :{filesize}",labelFileTypeNotAllowed:"Etibarsız fayl tipi",fileValidateTypeLabelExpectedTypes:"Bu {allButLastType} ya da bu fayl olması lazımdır: {lastType}",imageValidateSizeLabelFormatError:"Şəkil tipi dəstəklənmir",imageValidateSizeLabelImageSizeTooSmall:"Şəkil çox kiçik",imageValidateSizeLabelImageSizeTooBig:"Şəkil çox böyük",imageValidateSizeLabelExpectedMinSize:"Minimum ölçü {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimum ölçü {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Görüntü imkanı çox aşağı",imageValidateSizeLabelImageResolutionTooHigh:"Görüntü imkanı çox yüksək",imageValidateSizeLabelExpectedMinResolution:"Minimum görüntü imkanı {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum görüntü imkanı {maxResolution}"},cs_CZ={labelIdle:'Přetáhněte soubor sem (drag&drop) nebo <span class="filepond--label-action"> Vyhledat </span>',labelInvalidField:"Pole obsahuje chybné soubory",labelFileWaitingForSize:"Zjišťuje se velikost",labelFileSizeNotAvailable:"Velikost není známá",labelFileLoading:"Přenáší se",labelFileLoadError:"Chyba při přenosu",labelFileProcessing:"Probíhá upload",labelFileProcessingComplete:"Upload dokončen",labelFileProcessingAborted:"Upload stornován",labelFileProcessingError:"Chyba při uploadu",labelFileProcessingRevertError:"Chyba při obnově",labelFileRemoveError:"Chyba při odstranění",labelTapToCancel:"klepněte pro storno",labelTapToRetry:"klepněte pro opakování",labelTapToUndo:"klepněte pro vrácení",labelButtonRemoveItem:"Odstranit",labelButtonAbortItemLoad:"Storno",labelButtonRetryItemLoad:"Opakovat",labelButtonAbortItemProcessing:"Zpět",labelButtonUndoItemProcessing:"Vrátit",labelButtonRetryItemProcessing:"Opakovat",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Soubor je příliš velký",labelMaxFileSize:"Největší velikost souboru je {filesize}",labelMaxTotalFileSizeExceeded:"Překročena maximální celková velikost souboru",labelMaxTotalFileSize:"Maximální celková velikost souboru je {filesize}",labelFileTypeNotAllowed:"Soubor je nesprávného typu",fileValidateTypeLabelExpectedTypes:"Očekává se {allButLastType} nebo {lastType}",imageValidateSizeLabelFormatError:"Obrázek tohoto typu není podporován",imageValidateSizeLabelImageSizeTooSmall:"Obrázek je příliš malý",imageValidateSizeLabelImageSizeTooBig:"Obrázek je příliš velký",imageValidateSizeLabelExpectedMinSize:"Minimální rozměr je {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximální rozměr je {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozlišení je příliš malé",imageValidateSizeLabelImageResolutionTooHigh:"Rozlišení je příliš velké",imageValidateSizeLabelExpectedMinResolution:"Minimální rozlišení je {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximální rozlišení je {maxResolution}"},da_DK={labelIdle:'Træk & slip filer eller <span class = "filepond - label-action"> Gennemse </span>',labelInvalidField:"Felt indeholder ugyldige filer",labelFileWaitingForSize:"Venter på størrelse",labelFileSizeNotAvailable:"Størrelse ikke tilgængelig",labelFileLoading:"Loader",labelFileLoadError:"Load fejlede",labelFileProcessing:"Uploader",labelFileProcessingComplete:"Upload færdig",labelFileProcessingAborted:"Upload annulleret",labelFileProcessingError:"Upload fejlede",labelFileProcessingRevertError:"Fortryd fejlede",labelFileRemoveError:"Fjern fejlede",labelTapToCancel:"tryk for at annullere",labelTapToRetry:"tryk for at prøve igen",labelTapToUndo:"tryk for at fortryde",labelButtonRemoveItem:"Fjern",labelButtonAbortItemLoad:"Annuller",labelButtonRetryItemLoad:"Forsøg igen",labelButtonAbortItemProcessing:"Annuller",labelButtonUndoItemProcessing:"Fortryd",labelButtonRetryItemProcessing:"Prøv igen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Filen er for stor",labelMaxFileSize:"Maksimal filstørrelse er {filesize}",labelMaxTotalFileSizeExceeded:"Maksimal totalstørrelse overskredet",labelMaxTotalFileSize:"Maksimal total filstørrelse er {filesize}",labelFileTypeNotAllowed:"Ugyldig filtype",fileValidateTypeLabelExpectedTypes:"Forventer {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Ugyldigt format",imageValidateSizeLabelImageSizeTooSmall:"Billedet er for lille",imageValidateSizeLabelImageSizeTooBig:"Billedet er for stort",imageValidateSizeLabelExpectedMinSize:"Minimum størrelse er {minBredde} × {minHøjde}",imageValidateSizeLabelExpectedMaxSize:"Maksimal størrelse er {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"For lav opløsning",imageValidateSizeLabelImageResolutionTooHigh:"For høj opløsning",imageValidateSizeLabelExpectedMinResolution:"Minimum opløsning er {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimal opløsning er {maxResolution}"},de_DE={labelIdle:'Dateien ablegen oder <span class="filepond--label-action"> auswählen </span>',labelInvalidField:"Feld beinhaltet ungültige Dateien",labelFileWaitingForSize:"Dateigröße berechnen",labelFileSizeNotAvailable:"Dateigröße nicht verfügbar",labelFileLoading:"Laden",labelFileLoadError:"Fehler beim Laden",labelFileProcessing:"Upload läuft",labelFileProcessingComplete:"Upload abgeschlossen",labelFileProcessingAborted:"Upload abgebrochen",labelFileProcessingError:"Fehler beim Upload",labelFileProcessingRevertError:"Fehler beim Wiederherstellen",labelFileRemoveError:"Fehler beim Löschen",labelTapToCancel:"abbrechen",labelTapToRetry:"erneut versuchen",labelTapToUndo:"rückgängig",labelButtonRemoveItem:"Entfernen",labelButtonAbortItemLoad:"Verwerfen",labelButtonRetryItemLoad:"Erneut versuchen",labelButtonAbortItemProcessing:"Abbrechen",labelButtonUndoItemProcessing:"Rückgängig",labelButtonRetryItemProcessing:"Erneut versuchen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Datei ist zu groß",labelMaxFileSize:"Maximale Dateigröße: {filesize}",labelMaxTotalFileSizeExceeded:"Maximale gesamte Dateigröße überschritten",labelMaxTotalFileSize:"Maximale gesamte Dateigröße: {filesize}",labelFileTypeNotAllowed:"Dateityp ungültig",fileValidateTypeLabelExpectedTypes:"Erwartet {allButLastType} oder {lastType}",imageValidateSizeLabelFormatError:"Bildtyp nicht unterstützt",imageValidateSizeLabelImageSizeTooSmall:"Bild ist zu klein",imageValidateSizeLabelImageSizeTooBig:"Bild ist zu groß",imageValidateSizeLabelExpectedMinSize:"Mindestgröße: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximale Größe: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Auflösung ist zu niedrig",imageValidateSizeLabelImageResolutionTooHigh:"Auflösung ist zu hoch",imageValidateSizeLabelExpectedMinResolution:"Mindestauflösung: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximale Auflösung: {maxResolution}"},el_EL={labelIdle:'Σύρετε τα αρχεία σας στο πλαίσιο ή <span class="filepond--label-action"> Επιλέξτε </span>',labelInvalidField:"Το πεδίο περιέχει μη έγκυρα αρχεία",labelFileWaitingForSize:"Σε αναμονή για το μέγεθος",labelFileSizeNotAvailable:"Μέγεθος μη διαθέσιμο",labelFileLoading:"Φόρτωση σε εξέλιξη",labelFileLoadError:"Σφάλμα κατά τη φόρτωση",labelFileProcessing:"Επεξεργασία",labelFileProcessingComplete:"Η επεξεργασία ολοκληρώθηκε",labelFileProcessingAborted:"Η επεξεργασία ακυρώθηκε",labelFileProcessingError:"Σφάλμα κατά την επεξεργασία",labelFileProcessingRevertError:"Σφάλμα κατά την επαναφορά",labelFileRemoveError:"Σφάλμα κατά την διαγραφή",labelTapToCancel:"πατήστε για ακύρωση",labelTapToRetry:"πατήστε για επανάληψη",labelTapToUndo:"πατήστε για αναίρεση",labelButtonRemoveItem:"Αφαίρεση",labelButtonAbortItemLoad:"Ακύρωση",labelButtonRetryItemLoad:"Επανάληψη",labelButtonAbortItemProcessing:"Ακύρωση",labelButtonUndoItemProcessing:"Αναίρεση",labelButtonRetryItemProcessing:"Επανάληψη",labelButtonProcessItem:"Μεταφόρτωση",labelMaxFileSizeExceeded:"Το αρχείο είναι πολύ μεγάλο",labelMaxFileSize:"Το μέγιστο μέγεθος αρχείου είναι {filesize}",labelMaxTotalFileSizeExceeded:"Υπέρβαση του μέγιστου συνολικού μεγέθους",labelMaxTotalFileSize:"Το μέγιστο συνολικό μέγεθος αρχείων είναι {filesize}",labelFileTypeNotAllowed:"Μη έγκυρος τύπος αρχείου",fileValidateTypeLabelExpectedTypes:"Τα αποδεκτά αρχεία είναι {allButLastType} ή {lastType}",imageValidateSizeLabelFormatError:"Ο τύπος της εικόνας δεν υποστηρίζεται",imageValidateSizeLabelImageSizeTooSmall:"Η εικόνα είναι πολύ μικρή",imageValidateSizeLabelImageSizeTooBig:"Η εικόνα είναι πολύ μεγάλη",imageValidateSizeLabelExpectedMinSize:"Το ελάχιστο αποδεκτό μέγεθος είναι {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Το μέγιστο αποδεκτό μέγεθος είναι {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Η ανάλυση της εικόνας είναι πολύ χαμηλή",imageValidateSizeLabelImageResolutionTooHigh:"Η ανάλυση της εικόνας είναι πολύ υψηλή",imageValidateSizeLabelExpectedMinResolution:"Η ελάχιστη αποδεκτή ανάλυση είναι {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Η μέγιστη αποδεκτή ανάλυση είναι {maxResolution}"},en_EN={labelIdle:'Drag & Drop your files or <span class="filepond--label-action"> Browse </span>',labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"Size not available",labelFileLoading:"Loading",labelFileLoadError:"Error during load",labelFileProcessing:"Uploading",labelFileProcessingComplete:"Upload complete",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelFileRemoveError:"Error during remove",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Remove",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Cancel",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is {filesize}",labelMaxTotalFileSizeExceeded:"Maximum total size exceeded",labelMaxTotalFileSize:"Maximum total file size is {filesize}",labelFileTypeNotAllowed:"File of invalid type",fileValidateTypeLabelExpectedTypes:"Expects {allButLastType} or {lastType}",imageValidateSizeLabelFormatError:"Image type not supported",imageValidateSizeLabelImageSizeTooSmall:"Image is too small",imageValidateSizeLabelImageSizeTooBig:"Image is too big",imageValidateSizeLabelExpectedMinSize:"Minimum size is {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum size is {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolution is too low",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimum resolution is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum resolution is {maxResolution}"},es_ES={labelIdle:'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examina <span>',labelInvalidField:"El campo contiene archivos inválidos",labelFileWaitingForSize:"Esperando tamaño",labelFileSizeNotAvailable:"Tamaño no disponible",labelFileLoading:"Cargando",labelFileLoadError:"Error durante la carga",labelFileProcessing:"Subiendo",labelFileProcessingComplete:"Subida completa",labelFileProcessingAborted:"Subida cancelada",labelFileProcessingError:"Error durante la subida",labelFileProcessingRevertError:"Error durante la reversión",labelFileRemoveError:"Error durante la eliminación",labelTapToCancel:"toca para cancelar",labelTapToRetry:"tocar para reintentar",labelTapToUndo:"tocar para deshacer",labelButtonRemoveItem:"Eliminar",labelButtonAbortItemLoad:"Cancelar",labelButtonRetryItemLoad:"Reintentar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Deshacer",labelButtonRetryItemProcessing:"Reintentar",labelButtonProcessItem:"Subir",labelMaxFileSizeExceeded:"El archivo es demasiado grande",labelMaxFileSize:"El tamaño máximo del archivo es {filesize}",labelMaxTotalFileSizeExceeded:"Tamaño total máximo excedido",labelMaxTotalFileSize:"El tamaño total máximo del archivo es {filesize}",labelFileTypeNotAllowed:"Archivo de tipo inválido",fileValidateTypeLabelExpectedTypes:"Espera {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagen no soportada",imageValidateSizeLabelImageSizeTooSmall:"La imagen es demasiado pequeña",imageValidateSizeLabelImageSizeTooBig:"La imagen es demasiado grande",imageValidateSizeLabelExpectedMinSize:"El tamaño mínimo es {minWidth} x {minHeight}",imageValidateSizeLabelExpectedMaxSize:"El tamaño máximo es {maxWidth} x {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La resolución es demasiado baja",imageValidateSizeLabelImageResolutionTooHigh:"La resolución es demasiado alta",imageValidateSizeLabelExpectedMinResolution:"La resolución mínima es {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La resolución máxima es {maxResolution}"},fa_IR={labelIdle:'فایل را اینجا بکشید و رها کنید، یا <span class="filepond--label-action"> جستجو کنید </span>',labelInvalidField:"فیلد دارای فایل های نامعتبر است",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"حجم فایل مجاز نیست",labelFileLoading:"درحال بارگذاری",labelFileLoadError:"خطا در زمان اجرا",labelFileProcessing:"درحال بارگذاری",labelFileProcessingComplete:"بارگذاری کامل شد",labelFileProcessingAborted:"بارگذاری لغو شد",labelFileProcessingError:"خطا در زمان بارگذاری",labelFileProcessingRevertError:"خطا در زمان حذف",labelFileRemoveError:"خطا در زمان حذف",labelTapToCancel:"برای لغو ضربه بزنید",labelTapToRetry:"برای تکرار کلیک کنید",labelTapToUndo:"برای برگشت کلیک کنید",labelButtonRemoveItem:"حذف",labelButtonAbortItemLoad:"لغو",labelButtonRetryItemLoad:"تکرار",labelButtonAbortItemProcessing:"لغو",labelButtonUndoItemProcessing:"برگشت",labelButtonRetryItemProcessing:"تکرار",labelButtonProcessItem:"بارگذاری",labelMaxFileSizeExceeded:"فایل بسیار حجیم است",labelMaxFileSize:"حداکثر مجاز فایل {filesize} است",labelMaxTotalFileSizeExceeded:"از حداکثر حجم فایل بیشتر شد",labelMaxTotalFileSize:"حداکثر حجم فایل {filesize} است",labelFileTypeNotAllowed:"نوع فایل نامعتبر است",fileValidateTypeLabelExpectedTypes:"در انتظار {allButLastType} یا {lastType}",imageValidateSizeLabelFormatError:"فرمت تصویر پشتیبانی نمی شود",imageValidateSizeLabelImageSizeTooSmall:"تصویر بسیار کوچک است",imageValidateSizeLabelImageSizeTooBig:"تصویر بسیار بزرگ است",imageValidateSizeLabelExpectedMinSize:"حداقل اندازه {minWidth} × {minHeight} است",imageValidateSizeLabelExpectedMaxSize:"حداکثر اندازه {maxWidth} × {maxHeight} است",imageValidateSizeLabelImageResolutionTooLow:"وضوح تصویر بسیار کم است",imageValidateSizeLabelImageResolutionTooHigh:"وضوع تصویر بسیار زیاد است",imageValidateSizeLabelExpectedMinResolution:"حداقل وضوح تصویر {minResolution} است",imageValidateSizeLabelExpectedMaxResolution:"حداکثر وضوح تصویر {maxResolution} است"},fi_FI={labelIdle:'Vedä ja pudota tiedostoja tai <span class="filepond--label-action"> Selaa </span>',labelInvalidField:"Kentässä on virheellisiä tiedostoja",labelFileWaitingForSize:"Odotetaan kokoa",labelFileSizeNotAvailable:"Kokoa ei saatavilla",labelFileLoading:"Ladataan",labelFileLoadError:"Virhe latauksessa",labelFileProcessing:"Lähetetään",labelFileProcessingComplete:"Lähetys valmis",labelFileProcessingAborted:"Lähetys peruttu",labelFileProcessingError:"Virhe lähetyksessä",labelFileProcessingRevertError:"Virhe palautuksessa",labelFileRemoveError:"Virhe poistamisessa",labelTapToCancel:"peruuta napauttamalla",labelTapToRetry:"yritä uudelleen napauttamalla",labelTapToUndo:"kumoa napauttamalla",labelButtonRemoveItem:"Poista",labelButtonAbortItemLoad:"Keskeytä",labelButtonRetryItemLoad:"Yritä uudelleen",labelButtonAbortItemProcessing:"Peruuta",labelButtonUndoItemProcessing:"Kumoa",labelButtonRetryItemProcessing:"Yritä uudelleen",labelButtonProcessItem:"Lähetä",labelMaxFileSizeExceeded:"Tiedoston koko on liian suuri",labelMaxFileSize:"Tiedoston maksimikoko on {filesize}",labelMaxTotalFileSizeExceeded:"Tiedostojen yhdistetty maksimikoko ylitetty",labelMaxTotalFileSize:"Tiedostojen yhdistetty maksimikoko on {filesize}",labelFileTypeNotAllowed:"Tiedostotyyppiä ei sallita",fileValidateTypeLabelExpectedTypes:"Sallitaan {allButLastType} tai {lastType}",imageValidateSizeLabelFormatError:"Kuvatyyppiä ei tueta",imageValidateSizeLabelImageSizeTooSmall:"Kuva on liian pieni",imageValidateSizeLabelImageSizeTooBig:"Kuva on liian suuri",imageValidateSizeLabelExpectedMinSize:"Minimikoko on {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimikoko on {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resoluutio on liian pieni",imageValidateSizeLabelImageResolutionTooHigh:"Resoluutio on liian suuri",imageValidateSizeLabelExpectedMinResolution:"Minimiresoluutio on {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimiresoluutio on {maxResolution}"},fr_FR={labelIdle:'Faites glisser vos fichiers ou <span class = "filepond--label-action"> Parcourir </span>',labelInvalidField:"Le champ contient des fichiers invalides",labelFileWaitingForSize:"En attente de taille",labelFileSizeNotAvailable:"Taille non disponible",labelFileLoading:"Chargement",labelFileLoadError:"Erreur durant le chargement",labelFileProcessing:"Traitement",labelFileProcessingComplete:"Traitement effectué",labelFileProcessingAborted:"Traitement interrompu",labelFileProcessingError:"Erreur durant le traitement",labelFileProcessingRevertError:"Erreur durant la restauration",labelFileRemoveError:"Erreur durant la suppression",labelTapToCancel:"appuyer pour annuler",labelTapToRetry:"appuyer pour réessayer",labelTapToUndo:"appuyer pour revenir en arrière",labelButtonRemoveItem:"Retirer",labelButtonAbortItemLoad:"Annuler",labelButtonRetryItemLoad:"Recommencer",labelButtonAbortItemProcessing:"Annuler",labelButtonUndoItemProcessing:"Revenir en arrière",labelButtonRetryItemProcessing:"Recommencer",labelButtonProcessItem:"Transférer",labelMaxFileSizeExceeded:"Le fichier est trop volumineux",labelMaxFileSize:"La taille maximale de fichier est {filesize}",labelMaxTotalFileSizeExceeded:"Taille totale maximale dépassée",labelMaxTotalFileSize:"La taille totale maximale des fichiers est {filesize}",labelFileTypeNotAllowed:"Fichier non valide",fileValidateTypeLabelExpectedTypes:"Attendu {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Type d'image non pris en charge",imageValidateSizeLabelImageSizeTooSmall:"L'image est trop petite",imageValidateSizeLabelImageSizeTooBig:"L'image est trop grande",imageValidateSizeLabelExpectedMinSize:"La taille minimale est {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"La taille maximale est {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La résolution est trop faible",imageValidateSizeLabelImageResolutionTooHigh:"La résolution est trop élevée",imageValidateSizeLabelExpectedMinResolution:"La résolution minimale est {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La résolution maximale est {maxResolution}"},he_HE={labelIdle:'גרור ושחרר את הקבצים כאן או <span class="filepond--label-action"> לחץ כאן לבחירה </span>',labelInvalidField:"קובץ לא חוקי",labelFileWaitingForSize:"מחשב את גודל הקבצים",labelFileSizeNotAvailable:"לא ניתן לקבוע את גודל הקבצים",labelFileLoading:"טוען...",labelFileLoadError:"שגיאה ארעה בעת טעינת הקבצים",labelFileProcessing:"מעלה את הקבצים",labelFileProcessingComplete:"העלאת הקבצים הסתיימה",labelFileProcessingAborted:"העלאת הקבצים בוטלה",labelFileProcessingError:"שגיאה ארעה בעת העלאת הקבצים",labelFileProcessingRevertError:"שגיאה ארעה בעת שחזור הקבצים",labelFileRemoveError:"שגיאה ארעה בעת הסרת הקובץ",labelTapToCancel:"הקלק לביטול",labelTapToRetry:"הקלק לנסות שנית",labelTapToUndo:"הקלק לשחזר",labelButtonRemoveItem:"הסר",labelButtonAbortItemLoad:"בטל",labelButtonRetryItemLoad:"טען שנית",labelButtonAbortItemProcessing:"בטל",labelButtonUndoItemProcessing:"שחזר",labelButtonRetryItemProcessing:"נסה שנית",labelButtonProcessItem:"העלה קובץ",labelMaxFileSizeExceeded:"הקובץ גדול מדי",labelMaxFileSize:"גודל המירבי המותר הוא: {filesize}",labelMaxTotalFileSizeExceeded:"גודל הקבצים חורג מהכמות המותרת",labelMaxTotalFileSize:"הגודל המירבי של סך הקבצים: {filesize}",labelFileTypeNotAllowed:"קובץ מסוג זה אינו מותר",fileValidateTypeLabelExpectedTypes:"הקבצים המותרים הם {allButLastType} או {lastType}",imageValidateSizeLabelFormatError:"תמונה בפורמט זה אינה נתמכת",imageValidateSizeLabelImageSizeTooSmall:"תמונה זו קטנה מדי",imageValidateSizeLabelImageSizeTooBig:"תמונה זו גדולה מדי",imageValidateSizeLabelExpectedMinSize:"הגודל צריך להיות לפחות: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"הגודל המרבי המותר: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"הרזולוציה של תמונה זו נמוכה מדי",imageValidateSizeLabelImageResolutionTooHigh:"הרזולוציה של תמונה זו גבוהה מדי",imageValidateSizeLabelExpectedMinResolution:"הרזולוציה צריכה להיות לפחות: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"הרזולוציה המירבית המותרת היא: {maxResolution}"},hr_HR={labelIdle:'Ovdje "ispusti" datoteku ili <span class="filepond--label-action"> Pretraži </span>',labelInvalidField:"Polje sadrži neispravne datoteke",labelFileWaitingForSize:"Čekanje na veličinu datoteke",labelFileSizeNotAvailable:"Veličina datoteke nije dostupna",labelFileLoading:"Učitavanje",labelFileLoadError:"Greška tijekom učitavanja",labelFileProcessing:"Prijenos",labelFileProcessingComplete:"Prijenos završen",labelFileProcessingAborted:"Prijenos otkazan",labelFileProcessingError:"Greška tijekom prijenosa",labelFileProcessingRevertError:"Greška tijekom vraćanja",labelFileRemoveError:"Greška tijekom uklananja datoteke",labelTapToCancel:"Dodirni za prekid",labelTapToRetry:"Dodirni za ponovno",labelTapToUndo:"Dodirni za vraćanje",labelButtonRemoveItem:"Ukloni",labelButtonAbortItemLoad:"Odbaci",labelButtonRetryItemLoad:"Ponovi",labelButtonAbortItemProcessing:"Prekini",labelButtonUndoItemProcessing:"Vrati",labelButtonRetryItemProcessing:"Ponovi",labelButtonProcessItem:"Prijenos",labelMaxFileSizeExceeded:"Datoteka je prevelika",labelMaxFileSize:"Maksimalna veličina datoteke je {filesize}",labelMaxTotalFileSizeExceeded:"Maksimalna ukupna veličina datoteke prekoračena",labelMaxTotalFileSize:"Maksimalna ukupna veličina datoteke je {filesize}",labelFileTypeNotAllowed:"Tip datoteke nije podržan",fileValidateTypeLabelExpectedTypes:"Očekivan {allButLastType} ili {lastType}",imageValidateSizeLabelFormatError:"Tip slike nije podržan",imageValidateSizeLabelImageSizeTooSmall:"Slika je premala",imageValidateSizeLabelImageSizeTooBig:"Slika je prevelika",imageValidateSizeLabelExpectedMinSize:"Minimalna veličina je {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimalna veličina je {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rezolucija je preniska",imageValidateSizeLabelImageResolutionTooHigh:"Rezolucija je previsoka",imageValidateSizeLabelExpectedMinResolution:"Minimalna rezolucija je {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimalna rezolucija je {maxResolution}"},hu_HU={labelIdle:'Mozgasd ide a fájlt a feltöltéshez, vagy <span class="filepond--label-action"> tallózás </span>',labelInvalidField:"A mező érvénytelen fájlokat tartalmaz",labelFileWaitingForSize:"Fáljméret kiszámolása",labelFileSizeNotAvailable:"A fájlméret nem elérhető",labelFileLoading:"Töltés",labelFileLoadError:"Hiba a betöltés során",labelFileProcessing:"Feltöltés",labelFileProcessingComplete:"Sikeres feltöltés",labelFileProcessingAborted:"A feltöltés megszakítva",labelFileProcessingError:"Hiba történt a feltöltés során",labelFileProcessingRevertError:"Hiba a visszaállítás során",labelFileRemoveError:"Hiba történt az eltávolítás során",labelTapToCancel:"koppints a törléshez",labelTapToRetry:"koppints az újrakezdéshez",labelTapToUndo:"koppints a visszavonáshoz",labelButtonRemoveItem:"Eltávolítás",labelButtonAbortItemLoad:"Megszakítás",labelButtonRetryItemLoad:"Újrapróbálkozás",labelButtonAbortItemProcessing:"Megszakítás",labelButtonUndoItemProcessing:"Visszavonás",labelButtonRetryItemProcessing:"Újrapróbálkozás",labelButtonProcessItem:"Feltöltés",labelMaxFileSizeExceeded:"A fájl túllépte a maximális méretet",labelMaxFileSize:"Maximális fájlméret: {filesize}",labelMaxTotalFileSizeExceeded:"Túllépte a maximális teljes méretet",labelMaxTotalFileSize:"A maximáis teljes fájlméret: {filesize}",labelFileTypeNotAllowed:"Érvénytelen típusú fájl",fileValidateTypeLabelExpectedTypes:"Engedélyezett típusok {allButLastType} vagy {lastType}",imageValidateSizeLabelFormatError:"A képtípus nem támogatott",imageValidateSizeLabelImageSizeTooSmall:"A kép túl kicsi",imageValidateSizeLabelImageSizeTooBig:"A kép túl nagy",imageValidateSizeLabelExpectedMinSize:"Minimum méret: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum méret: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"A felbontás túl alacsony",imageValidateSizeLabelImageResolutionTooHigh:"A felbontás túl magas",imageValidateSizeLabelExpectedMinResolution:"Minimáis felbontás: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximális felbontás: {maxResolution}"},id_ID={labelIdle:'Seret & Jatuhkan berkas Anda atau <span class="filepond--label-action">Jelajahi</span>',labelInvalidField:"Isian berisi berkas yang tidak valid",labelFileWaitingForSize:"Menunggu ukuran berkas",labelFileSizeNotAvailable:"Ukuran berkas tidak tersedia",labelFileLoading:"Memuat",labelFileLoadError:"Kesalahan saat memuat",labelFileProcessing:"Mengunggah",labelFileProcessingComplete:"Pengunggahan selesai",labelFileProcessingAborted:"Pengunggahan dibatalkan",labelFileProcessingError:"Kesalahan saat pengunggahan",labelFileProcessingRevertError:"Kesalahan saat pemulihan",labelFileRemoveError:"Kesalahan saat penghapusan",labelTapToCancel:"ketuk untuk membatalkan",labelTapToRetry:"ketuk untuk mencoba lagi",labelTapToUndo:"ketuk untuk mengurungkan",labelButtonRemoveItem:"Hapus",labelButtonAbortItemLoad:"Batalkan",labelButtonRetryItemLoad:"Coba Kembali",labelButtonAbortItemProcessing:"Batalkan",labelButtonUndoItemProcessing:"Urungkan",labelButtonRetryItemProcessing:"Coba Kembali",labelButtonProcessItem:"Unggah",labelMaxFileSizeExceeded:"Berkas terlalu besar",labelMaxFileSize:"Ukuran berkas maksimum adalah {filesize}",labelMaxTotalFileSizeExceeded:"Jumlah berkas maksimum terlampaui",labelMaxTotalFileSize:"Jumlah berkas maksimum adalah {filesize}",labelFileTypeNotAllowed:"Jenis berkas tidak valid",fileValidateTypeLabelExpectedTypes:"Mengharapkan {allButLastType} atau {lastType}",imageValidateSizeLabelFormatError:"Jenis citra tidak didukung",imageValidateSizeLabelImageSizeTooSmall:"Citra terlalu kecil",imageValidateSizeLabelImageSizeTooBig:"Citra terlalu besar",imageValidateSizeLabelExpectedMinSize:"Ukuran minimum adalah {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Ukuran maksimum adalah {minWidth} × {minHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolusi terlalu rendah",imageValidateSizeLabelImageResolutionTooHigh:"Resolusi terlalu tinggi",imageValidateSizeLabelExpectedMinResolution:"Resolusi minimum adalah {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Resolusi maksimum adalah {maxResolution}"},it_IT={labelIdle:'Trascina e rilascia i tuoi file oppure <span class = "filepond--label-action"> Carica <span>',labelInvalidField:"Il campo contiene dei file non validi",labelFileWaitingForSize:"Aspettando le dimensioni",labelFileSizeNotAvailable:"Dimensioni non disponibili",labelFileLoading:"Caricamento",labelFileLoadError:"Errore durante il caricamento",labelFileProcessing:"Caricamento",labelFileProcessingComplete:"Caricamento completato",labelFileProcessingAborted:"Caricamento cancellato",labelFileProcessingError:"Errore durante il caricamento",labelFileProcessingRevertError:"Errore durante il ripristino",labelFileRemoveError:"Errore durante l'eliminazione",labelTapToCancel:"tocca per cancellare",labelTapToRetry:"tocca per riprovare",labelTapToUndo:"tocca per ripristinare",labelButtonRemoveItem:"Elimina",labelButtonAbortItemLoad:"Cancella",labelButtonRetryItemLoad:"Ritenta",labelButtonAbortItemProcessing:"Camcella",labelButtonUndoItemProcessing:"Indietro",labelButtonRetryItemProcessing:"Ritenta",labelButtonProcessItem:"Carica",labelMaxFileSizeExceeded:"Il peso del file è eccessivo",labelMaxFileSize:"Il peso massimo del file è {filesize}",labelMaxTotalFileSizeExceeded:"Dimensione totale massima superata",labelMaxTotalFileSize:"La dimensione massima totale del file è {filesize}",labelFileTypeNotAllowed:"File non supportato",fileValidateTypeLabelExpectedTypes:"Aspetta {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo di immagine non compatibile",imageValidateSizeLabelImageSizeTooSmall:"L'immagine è troppo piccola",imageValidateSizeLabelImageSizeTooBig:"L'immagine è troppo grande",imageValidateSizeLabelExpectedMinSize:"La dimensione minima è {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"La dimensione massima è {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La risoluzione è troppo bassa",imageValidateSizeLabelImageResolutionTooHigh:"La risoluzione è troppo alta",imageValidateSizeLabelExpectedMinResolution:"La risoluzione minima è {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La risoluzione massima è {maxResolution}"},ja_JA={labelIdle:'ファイルをドラッグ&ドロップ又は<span class="filepond--label-action">ファイル選択</span>',labelInvalidField:"アップロードできないファイルが含まれています",labelFileWaitingForSize:"ファイルサイズを待っています",labelFileSizeNotAvailable:"ファイルサイズがみつかりません",labelFileLoading:"読込中...",labelFileLoadError:"読込中にエラーが発生",labelFileProcessing:"読込中...",labelFileProcessingComplete:"アップロード完了",labelFileProcessingAborted:"アップロードがキャンセルされました",labelFileProcessingError:"アップロード中にエラーが発生",labelFileProcessingRevertError:"ロールバック中にエラーが発生",labelFileRemoveError:"削除中にエラーが発生",labelTapToCancel:"クリックしてキャンセル",labelTapToRetry:"クリックしてもう一度お試し下さい",labelTapToUndo:"元に戻すにはタップします",labelButtonRemoveItem:"削除",labelButtonAbortItemLoad:"中断",labelButtonRetryItemLoad:"もう一度実行",labelButtonAbortItemProcessing:"キャンセル",labelButtonUndoItemProcessing:"元に戻す",labelButtonRetryItemProcessing:"もう一度実行",labelButtonProcessItem:"アップロード",labelMaxFileSizeExceeded:"ファイルサイズが大きすぎます",labelMaxFileSize:"最大ファイルサイズは {filesize} です",labelMaxTotalFileSizeExceeded:"最大合計サイズを超えました",labelMaxTotalFileSize:"最大合計ファイルサイズは {filesize} です",labelFileTypeNotAllowed:"無効なファイルです",fileValidateTypeLabelExpectedTypes:"サポートしているファイルは {allButLastType} 又は {lastType} です",imageValidateSizeLabelFormatError:"サポートしていない画像です",imageValidateSizeLabelImageSizeTooSmall:"画像が小さすぎます",imageValidateSizeLabelImageSizeTooBig:"画像が大きすぎます",imageValidateSizeLabelExpectedMinSize:"画像の最小サイズは{minWidth}×{minHeight}です",imageValidateSizeLabelExpectedMaxSize:"画像の最大サイズは{maxWidth} × {maxHeight}です",imageValidateSizeLabelImageResolutionTooLow:"画像の解像度が低すぎます",imageValidateSizeLabelImageResolutionTooHigh:"画像の解像度が高すぎます",imageValidateSizeLabelExpectedMinResolution:"画像の最小解像度は{minResolution}です",imageValidateSizeLabelExpectedMaxResolution:"画像の最大解像度は{maxResolution}です"},km_KM={labelIdle:'ទាញ&ដាក់ហ្វាល់ឯកសាររបស់អ្នក ឬ <span class="filepond--label-action"> ស្វែងរក </span>',labelInvalidField:"ចន្លោះមានឯកសារមិនត្រឹមត្រូវ",labelFileWaitingForSize:"កំពុងរង់ចាំទំហំ",labelFileSizeNotAvailable:"ទំហំមិនអាចប្រើបាន",labelFileLoading:"កំពុងដំណើរការ",labelFileLoadError:"មានបញ្ហាកំឡុងពេលដំណើរការ",labelFileProcessing:"កំពុងផ្ទុកឡើង",labelFileProcessingComplete:"ការផ្ទុកឡើងពេញលេញ",labelFileProcessingAborted:"ការបង្ហោះត្រូវបានបោះបង់",labelFileProcessingError:"មានបញ្ហាកំឡុងពេលកំពុងផ្ទុកឡើង",labelFileProcessingRevertError:"មានបញ្ហាកំឡុងពេលត្រឡប់",labelFileRemoveError:"មានបញ្ហាកំឡុងពេលដកចេញ",labelTapToCancel:"ចុចដើម្បីបោះបង់",labelTapToRetry:"ចុចដើម្បីព្យាយាមម្តងទៀត",labelTapToUndo:"ចុចដើម្បីមិនធ្វើវិញ",labelButtonRemoveItem:"យកចេញ",labelButtonAbortItemLoad:"បោះបង់",labelButtonRetryItemLoad:"ព្យាយាមម្តងទៀត",labelButtonAbortItemProcessing:"បោះបង់",labelButtonUndoItemProcessing:"មិនធ្វើវិញ",labelButtonRetryItemProcessing:"ព្យាយាមម្តងទៀត",labelButtonProcessItem:"ផ្ទុកឡើង",labelMaxFileSizeExceeded:"ឯកសារធំពេក",labelMaxFileSize:"ទំហំឯកសារអតិបរមាគឺ {filesize}",labelMaxTotalFileSizeExceeded:"លើសទំហំសរុបអតិបរមា",labelMaxTotalFileSize:"ទំហំឯកសារសរុបអតិបរមាគឺ {filesize}",labelFileTypeNotAllowed:"ប្រភេទឯកសារមិនត្រឹមត្រូវ",fileValidateTypeLabelExpectedTypes:"រំពឹងថា {allButLastType} ឬ {lastType}",imageValidateSizeLabelFormatError:"ប្រភេទរូបភាពមិនត្រឹមត្រូវ",imageValidateSizeLabelImageSizeTooSmall:"រូបភាពតូចពេក",imageValidateSizeLabelImageSizeTooBig:"រូបភាពធំពេក",imageValidateSizeLabelExpectedMinSize:"ទំហំអប្បបរមាគឺ {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"ទំហំអតិបរមាគឺ {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"គុណភាពបង្ហាញទាបពេក",imageValidateSizeLabelImageResolutionTooHigh:"គុណភាពបង្ហាញខ្ពស់ពេក",imageValidateSizeLabelExpectedMinResolution:"គុណភាពបង្ហាញអប្បបរមាគឺ {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"គុណភាពបង្ហាញអតិបរមាគឺ {maxResolution}"},lt_LT={labelIdle:'Įdėkite failus čia arba <span class="filepond--label-action"> Ieškokite </span>',labelInvalidField:"Laukelis talpina netinkamus failus",labelFileWaitingForSize:"Laukiama dydžio",labelFileSizeNotAvailable:"Dydis nežinomas",labelFileLoading:"Kraunama",labelFileLoadError:"Klaida įkeliant",labelFileProcessing:"Įkeliama",labelFileProcessingComplete:"Įkėlimas sėkmingas",labelFileProcessingAborted:"Įkėlimas atšauktas",labelFileProcessingError:"Įkeliant įvyko klaida",labelFileProcessingRevertError:"Atšaukiant įvyko klaida",labelFileRemoveError:"Ištrinant įvyko klaida",labelTapToCancel:"Palieskite norėdami atšaukti",labelTapToRetry:"Palieskite norėdami pakartoti",labelTapToUndo:"Palieskite norėdami atšaukti",labelButtonRemoveItem:"Ištrinti",labelButtonAbortItemLoad:"Sustabdyti",labelButtonRetryItemLoad:"Pakartoti",labelButtonAbortItemProcessing:"Atšaukti",labelButtonUndoItemProcessing:"Atšaukti",labelButtonRetryItemProcessing:"Pakartoti",labelButtonProcessItem:"Įkelti",labelMaxFileSizeExceeded:"Failas per didelis",labelMaxFileSize:"Maksimalus failo dydis yra {filesize}",labelMaxTotalFileSizeExceeded:"Viršijote maksimalų leistiną dydį",labelMaxTotalFileSize:"Maksimalus leistinas dydis yra {filesize}",labelFileTypeNotAllowed:"Netinkamas failas",fileValidateTypeLabelExpectedTypes:"Tikisi {allButLastType} arba {lastType}",imageValidateSizeLabelFormatError:"Nuotraukos formatas nepalaikomas",imageValidateSizeLabelImageSizeTooSmall:"Nuotrauka per maža",imageValidateSizeLabelImageSizeTooBig:"Nuotrauka per didelė",imageValidateSizeLabelExpectedMinSize:"Minimalus dydis yra {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimalus dydis yra {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rezoliucija per maža",imageValidateSizeLabelImageResolutionTooHigh:"Rezoliucija per didelė",imageValidateSizeLabelExpectedMinResolution:"Minimali rezoliucija yra {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimali rezoliucija yra {maxResolution}"},nl_NL={labelIdle:'Drag & Drop je bestanden of <span class="filepond--label-action"> Bladeren </span>',labelInvalidField:"Veld bevat ongeldige bestanden",labelFileWaitingForSize:"Wachten op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileLoading:"Laden",labelFileLoadError:"Fout tijdens laden",labelFileProcessing:"Uploaden",labelFileProcessingComplete:"Upload afgerond",labelFileProcessingAborted:"Upload geannuleerd",labelFileProcessingError:"Fout tijdens upload",labelFileProcessingRevertError:"Fout bij herstellen",labelFileRemoveError:"Fout bij verwijderen",labelTapToCancel:"tik om te annuleren",labelTapToRetry:"tik om opnieuw te proberen",labelTapToUndo:"tik om ongedaan te maken",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Afbreken",labelButtonRetryItemLoad:"Opnieuw proberen",labelButtonAbortItemProcessing:"Annuleren",labelButtonUndoItemProcessing:"Ongedaan maken",labelButtonRetryItemProcessing:"Opnieuw proberen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Bestand is te groot",labelMaxFileSize:"Maximale bestandsgrootte is {filesize}",labelMaxTotalFileSizeExceeded:"Maximale totale grootte overschreden",labelMaxTotalFileSize:"Maximale totale bestandsgrootte is {filesize}",labelFileTypeNotAllowed:"Ongeldig bestandstype",fileValidateTypeLabelExpectedTypes:"Verwacht {allButLastType} of {lastType}",imageValidateSizeLabelFormatError:"Afbeeldingstype niet ondersteund",imageValidateSizeLabelImageSizeTooSmall:"Afbeelding is te klein",imageValidateSizeLabelImageSizeTooBig:"Afbeelding is te groot",imageValidateSizeLabelExpectedMinSize:"Minimale afmeting is {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximale afmeting is {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolutie is te laag",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimale resolutie is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximale resolutie is {maxResolution}"},no_NB={labelIdle:'Dra og slipp filene dine, eller <span class="filepond--label-action"> Bla gjennom... </span>',labelInvalidField:"Feltet inneholder ugyldige filer",labelFileWaitingForSize:"Venter på størrelse",labelFileSizeNotAvailable:"Størrelse ikke tilgjengelig",labelFileLoading:"Laster",labelFileLoadError:"Feil under lasting",labelFileProcessing:"Laster opp",labelFileProcessingComplete:"Opplasting ferdig",labelFileProcessingAborted:"Opplasting avbrutt",labelFileProcessingError:"Feil under opplasting",labelFileProcessingRevertError:"Feil under reversering",labelFileRemoveError:"Feil under flytting",labelTapToCancel:"klikk for å avbryte",labelTapToRetry:"klikk for å prøve på nytt",labelTapToUndo:"klikk for å angre",labelButtonRemoveItem:"Fjern",labelButtonAbortItemLoad:"Avbryt",labelButtonRetryItemLoad:"Prøv på nytt",labelButtonAbortItemProcessing:"Avbryt",labelButtonUndoItemProcessing:"Angre",labelButtonRetryItemProcessing:"Prøv på nytt",labelButtonProcessItem:"Last opp",labelMaxFileSizeExceeded:"Filen er for stor",labelMaxFileSize:"Maksimal filstørrelse er {filesize}",labelMaxTotalFileSizeExceeded:"Maksimal total størrelse oversteget",labelMaxTotalFileSize:"Maksimal total størrelse er {filesize}",labelFileTypeNotAllowed:"Ugyldig filtype",fileValidateTypeLabelExpectedTypes:"Forventer {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Bildeformat ikke støttet",imageValidateSizeLabelImageSizeTooSmall:"Bildet er for lite",imageValidateSizeLabelImageSizeTooBig:"Bildet er for stort",imageValidateSizeLabelExpectedMinSize:"Minimumsstørrelse er {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimumsstørrelse er {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Oppløsningen er for lav",imageValidateSizeLabelImageResolutionTooHigh:"Oppløsningen er for høy",imageValidateSizeLabelExpectedMinResolution:"Minimum oppløsning er {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimal oppløsning er {maxResolution}"},pl_PL={labelIdle:'Przeciągnij i upuść lub <span class="filepond--label-action">wybierz</span> pliki',labelInvalidField:"Nieprawidłowe pliki",labelFileWaitingForSize:"Pobieranie rozmiaru",labelFileSizeNotAvailable:"Nieznany rozmiar",labelFileLoading:"Wczytywanie",labelFileLoadError:"Błąd wczytywania",labelFileProcessing:"Przesyłanie",labelFileProcessingComplete:"Przesłano",labelFileProcessingAborted:"Przerwano",labelFileProcessingError:"Przesyłanie nie powiodło się",labelFileProcessingRevertError:"Coś poszło nie tak",labelFileRemoveError:"Nieudane usunięcie",labelTapToCancel:"Anuluj",labelTapToRetry:"Ponów",labelTapToUndo:"Cofnij",labelButtonRemoveItem:"Usuń",labelButtonAbortItemLoad:"Przerwij",labelButtonRetryItemLoad:"Ponów",labelButtonAbortItemProcessing:"Anuluj",labelButtonUndoItemProcessing:"Cofnij",labelButtonRetryItemProcessing:"Ponów",labelButtonProcessItem:"Prześlij",labelMaxFileSizeExceeded:"Plik jest zbyt duży",labelMaxFileSize:"Dopuszczalna wielkość pliku to {filesize}",labelMaxTotalFileSizeExceeded:"Przekroczono łączny rozmiar plików",labelMaxTotalFileSize:"Łączny rozmiar plików nie może przekroczyć {filesize}",labelFileTypeNotAllowed:"Niedozwolony rodzaj pliku",fileValidateTypeLabelExpectedTypes:"Oczekiwano {allButLastType} lub {lastType}",imageValidateSizeLabelFormatError:"Nieobsługiwany format obrazu",imageValidateSizeLabelImageSizeTooSmall:"Obraz jest zbyt mały",imageValidateSizeLabelImageSizeTooBig:"Obraz jest zbyt duży",imageValidateSizeLabelExpectedMinSize:"Minimalne wymiary obrazu to {minWidth}×{minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksymalna wymiary obrazu to {maxWidth}×{maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozdzielczość jest zbyt niska",imageValidateSizeLabelImageResolutionTooHigh:"Rozdzielczość jest zbyt wysoka",imageValidateSizeLabelExpectedMinResolution:"Minimalna rozdzielczość to {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksymalna rozdzielczość to {maxResolution}"},pt_BR={labelIdle:'Arraste e solte os arquivos ou <span class="filepond--label-action"> Clique aqui </span>',labelInvalidField:"Arquivos inválidos",labelFileWaitingForSize:"Calculando o tamanho do arquivo",labelFileSizeNotAvailable:"Tamanho do arquivo indisponível",labelFileLoading:"Carregando",labelFileLoadError:"Erro durante o carregamento",labelFileProcessing:"Enviando",labelFileProcessingComplete:"Envio finalizado",labelFileProcessingAborted:"Envio cancelado",labelFileProcessingError:"Erro durante o envio",labelFileProcessingRevertError:"Erro ao reverter o envio",labelFileRemoveError:"Erro ao remover o arquivo",labelTapToCancel:"clique para cancelar",labelTapToRetry:"clique para reenviar",labelTapToUndo:"clique para desfazer",labelButtonRemoveItem:"Remover",labelButtonAbortItemLoad:"Abortar",labelButtonRetryItemLoad:"Reenviar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Desfazer",labelButtonRetryItemProcessing:"Reenviar",labelButtonProcessItem:"Enviar",labelMaxFileSizeExceeded:"Arquivo é muito grande",labelMaxFileSize:"O tamanho máximo permitido: {filesize}",labelMaxTotalFileSizeExceeded:"Tamanho total dos arquivos excedido",labelMaxTotalFileSize:"Tamanho total permitido: {filesize}",labelFileTypeNotAllowed:"Tipo de arquivo inválido",fileValidateTypeLabelExpectedTypes:"Tipos de arquivo suportados são {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagem inválida",imageValidateSizeLabelImageSizeTooSmall:"Imagem muito pequena",imageValidateSizeLabelImageSizeTooBig:"Imagem muito grande",imageValidateSizeLabelExpectedMinSize:"Tamanho mínimo permitida: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Tamanho máximo permitido: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolução muito baixa",imageValidateSizeLabelImageResolutionTooHigh:"Resolução muito alta",imageValidateSizeLabelExpectedMinResolution:"Resolução mínima permitida: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Resolução máxima permitida: {maxResolution}"},pt_PT={labelIdle:'Arraste & Largue os ficheiros ou <span class="filepond--label-action"> Seleccione </span>',labelInvalidField:"O campo contém ficheiros inválidos",labelFileWaitingForSize:"A aguardar tamanho",labelFileSizeNotAvailable:"Tamanho não disponível",labelFileLoading:"A carregar",labelFileLoadError:"Erro ao carregar",labelFileProcessing:"A carregar",labelFileProcessingComplete:"Carregamento completo",labelFileProcessingAborted:"Carregamento cancelado",labelFileProcessingError:"Erro ao carregar",labelFileProcessingRevertError:"Erro ao reverter",labelFileRemoveError:"Erro ao remover",labelTapToCancel:"carregue para cancelar",labelTapToRetry:"carregue para tentar novamente",labelTapToUndo:"carregue para desfazer",labelButtonRemoveItem:"Remover",labelButtonAbortItemLoad:"Abortar",labelButtonRetryItemLoad:"Tentar novamente",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Desfazer",labelButtonRetryItemProcessing:"Tentar novamente",labelButtonProcessItem:"Carregar",labelMaxFileSizeExceeded:"Ficheiro demasiado grande",labelMaxFileSize:"O tamanho máximo do ficheiro é de {filesize}",labelMaxTotalFileSizeExceeded:"Tamanho máximo total excedido",labelMaxTotalFileSize:"O tamanho máximo total do ficheiro é de {filesize}",labelFileTypeNotAllowed:"Tipo de ficheiro inválido",fileValidateTypeLabelExpectedTypes:"É esperado {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagem não suportada",imageValidateSizeLabelImageSizeTooSmall:"A imagem é demasiado pequena",imageValidateSizeLabelImageSizeTooBig:"A imagem é demasiado grande",imageValidateSizeLabelExpectedMinSize:"O tamanho mínimo é de {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"O tamanho máximo é de {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"A resolução é demasiado baixa",imageValidateSizeLabelImageResolutionTooHigh:"A resolução é demasiado grande",imageValidateSizeLabelExpectedMinResolution:"A resolução mínima é de {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"A resolução máxima é de {maxResolution}"},ro_RO={labelIdle:'Trage și plasează fișiere sau <span class="filepond--label-action"> Caută-le </span>',labelInvalidField:"Câmpul conține fișiere care nu sunt valide",labelFileWaitingForSize:"În așteptarea dimensiunii",labelFileSizeNotAvailable:"Dimensiunea nu este diponibilă",labelFileLoading:"Se încarcă",labelFileLoadError:"Eroare la încărcare",labelFileProcessing:"Se încarcă",labelFileProcessingComplete:"Încărcare finalizată",labelFileProcessingAborted:"Încărcare anulată",labelFileProcessingError:"Eroare la încărcare",labelFileProcessingRevertError:"Eroare la anulare",labelFileRemoveError:"Eroare la ştergere",labelTapToCancel:"apasă pentru a anula",labelTapToRetry:"apasă pentru a reîncerca",labelTapToUndo:"apasă pentru a anula",labelButtonRemoveItem:"Şterge",labelButtonAbortItemLoad:"Anulează",labelButtonRetryItemLoad:"Reîncearcă",labelButtonAbortItemProcessing:"Anulează",labelButtonUndoItemProcessing:"Anulează",labelButtonRetryItemProcessing:"Reîncearcă",labelButtonProcessItem:"Încarcă",labelMaxFileSizeExceeded:"Fișierul este prea mare",labelMaxFileSize:"Dimensiunea maximă a unui fișier este de {filesize}",labelMaxTotalFileSizeExceeded:"Dimensiunea totală maximă a fost depășită",labelMaxTotalFileSize:"Dimensiunea totală maximă a fișierelor este de {filesize}",labelFileTypeNotAllowed:"Tipul fișierului nu este valid",fileValidateTypeLabelExpectedTypes:"Se așteaptă {allButLastType} sau {lastType}",imageValidateSizeLabelFormatError:"Formatul imaginii nu este acceptat",imageValidateSizeLabelImageSizeTooSmall:"Imaginea este prea mică",imageValidateSizeLabelImageSizeTooBig:"Imaginea este prea mare",imageValidateSizeLabelExpectedMinSize:"Mărimea minimă este de {maxWidth} x {maxHeight}",imageValidateSizeLabelExpectedMaxSize:"Mărimea maximă este de {maxWidth} x {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rezoluția este prea mică",imageValidateSizeLabelImageResolutionTooHigh:"Rezoluția este prea mare",imageValidateSizeLabelExpectedMinResolution:"Rezoluția minimă este de {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Rezoluția maximă este de {maxResolution}"},ru_RU={labelIdle:'Перетащите файлы или <span class="filepond--label-action"> выберите </span>',labelInvalidField:"Поле содержит недопустимые файлы",labelFileWaitingForSize:"Укажите размер",labelFileSizeNotAvailable:"Размер не поддерживается",labelFileLoading:"Ожидание",labelFileLoadError:"Ошибка при ожидании",labelFileProcessing:"Загрузка",labelFileProcessingComplete:"Загрузка завершена",labelFileProcessingAborted:"Загрузка отменена",labelFileProcessingError:"Ошибка при загрузке",labelFileProcessingRevertError:"Ошибка при возврате",labelFileRemoveError:"Ошибка при удалении",labelTapToCancel:"нажмите для отмены",labelTapToRetry:"нажмите, чтобы повторить попытку",labelTapToUndo:"нажмите для отмены последнего действия",labelButtonRemoveItem:"Удалить",labelButtonAbortItemLoad:"Прекращено",labelButtonRetryItemLoad:"Повторите попытку",labelButtonAbortItemProcessing:"Отмена",labelButtonUndoItemProcessing:"Отмена последнего действия",labelButtonRetryItemProcessing:"Повторите попытку",labelButtonProcessItem:"Загрузка",labelMaxFileSizeExceeded:"Файл слишком большой",labelMaxFileSize:"Максимальный размер файла: {filesize}",labelMaxTotalFileSizeExceeded:"Превышен максимальный размер",labelMaxTotalFileSize:"Максимальный размер файла: {filesize}",labelFileTypeNotAllowed:"Файл неверного типа",fileValidateTypeLabelExpectedTypes:"Ожидается {allButLastType} или {lastType}",imageValidateSizeLabelFormatError:"Тип изображения не поддерживается",imageValidateSizeLabelImageSizeTooSmall:"Изображение слишком маленькое",imageValidateSizeLabelImageSizeTooBig:"Изображение слишком большое",imageValidateSizeLabelExpectedMinSize:"Минимальный размер: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальный размер: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Разрешение слишком низкое",imageValidateSizeLabelImageResolutionTooHigh:"Разрешение слишком высокое",imageValidateSizeLabelExpectedMinResolution:"Минимальное разрешение: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальное разрешение: {maxResolution}"},sk_SK={labelIdle:'Natiahnúť súbor (drag&drop) alebo <span class="filepond--label-action"> Vyhľadať </span>',labelInvalidField:"Pole obsahuje chybné súbory",labelFileWaitingForSize:"Zisťuje sa veľkosť",labelFileSizeNotAvailable:"Neznáma veľkosť",labelFileLoading:"Prenáša sa",labelFileLoadError:"Chyba pri prenose",labelFileProcessing:"Prebieha upload",labelFileProcessingComplete:"Upload dokončený",labelFileProcessingAborted:"Upload stornovaný",labelFileProcessingError:"Chyba pri uploade",labelFileProcessingRevertError:"Chyba pri obnove",labelFileRemoveError:"Chyba pri odstránení",labelTapToCancel:"Kliknite pre storno",labelTapToRetry:"Kliknite pre opakovanie",labelTapToUndo:"Kliknite pre vrátenie",labelButtonRemoveItem:"Odstrániť",labelButtonAbortItemLoad:"Storno",labelButtonRetryItemLoad:"Opakovať",labelButtonAbortItemProcessing:"Späť",labelButtonUndoItemProcessing:"Vrátiť",labelButtonRetryItemProcessing:"Opakovať",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Súbor je príliš veľký",labelMaxFileSize:"Najväčšia veľkosť súboru je {filesize}",labelMaxTotalFileSizeExceeded:"Prekročená maximálna celková veľkosť súboru",labelMaxTotalFileSize:"Maximálna celková veľkosť súboru je {filesize}",labelFileTypeNotAllowed:"Súbor je nesprávneho typu",fileValidateTypeLabelExpectedTypes:"Očakáva sa {allButLastType} alebo {lastType}",imageValidateSizeLabelFormatError:"Obrázok tohto typu nie je podporovaný",imageValidateSizeLabelImageSizeTooSmall:"Obrázok je príliš malý",imageValidateSizeLabelImageSizeTooBig:"Obrázok je príliš veľký",imageValidateSizeLabelExpectedMinSize:"Minimálny rozmer je {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximálny rozmer je {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozlíšenie je príliš malé",imageValidateSizeLabelImageResolutionTooHigh:"Rozlišenie je príliš veľké",imageValidateSizeLabelExpectedMinResolution:"Minimálne rozlíšenie je {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximálne rozlíšenie je {maxResolution}"},sv_SE={labelIdle:'Drag och släpp dina filer eller <span class="filepond--label-action"> Bläddra </span>',labelInvalidField:"Fältet innehåller felaktiga filer",labelFileWaitingForSize:"Väntar på storlek",labelFileSizeNotAvailable:"Storleken finns inte tillgänglig",labelFileLoading:"Laddar",labelFileLoadError:"Fel under laddning",labelFileProcessing:"Laddar upp",labelFileProcessingComplete:"Uppladdning klar",labelFileProcessingAborted:"Uppladdning avbruten",labelFileProcessingError:"Fel under uppladdning",labelFileProcessingRevertError:"Fel under återställning",labelFileRemoveError:"Fel under borttagning",labelTapToCancel:"tryck för att avbryta",labelTapToRetry:"tryck för att försöka igen",labelTapToUndo:"tryck för att ångra",labelButtonRemoveItem:"Tabort",labelButtonAbortItemLoad:"Avbryt",labelButtonRetryItemLoad:"Försök igen",labelButtonAbortItemProcessing:"Avbryt",labelButtonUndoItemProcessing:"Ångra",labelButtonRetryItemProcessing:"Försök igen",labelButtonProcessItem:"Ladda upp",labelMaxFileSizeExceeded:"Filen är för stor",labelMaxFileSize:"Största tillåtna filstorlek är {filesize}",labelMaxTotalFileSizeExceeded:"Maximal uppladdningsstorlek uppnåd",labelMaxTotalFileSize:"Maximal uppladdningsstorlek är {filesize}",labelFileTypeNotAllowed:"Felaktig filtyp",fileValidateTypeLabelExpectedTypes:"Godkända filtyper {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Bildtypen saknar stöd",imageValidateSizeLabelImageSizeTooSmall:"Bilden är för liten",imageValidateSizeLabelImageSizeTooBig:"Bilden är för stor",imageValidateSizeLabelExpectedMinSize:"Minimal storlek är {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximal storlek är {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Upplösningen är för låg",imageValidateSizeLabelImageResolutionTooHigh:"Upplösningen är för hög",imageValidateSizeLabelExpectedMinResolution:"Minsta tillåtna upplösning är {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Högsta tillåtna upplösning är {maxResolution}"},tr_TR={labelIdle:'Dosyanızı Sürükleyin & Bırakın ya da <span class="filepond--label-action"> Seçin </span>',labelInvalidField:"Alan geçersiz dosyalar içeriyor",labelFileWaitingForSize:"Boyut hesaplanıyor",labelFileSizeNotAvailable:"Boyut mevcut değil",labelFileLoading:"Yükleniyor",labelFileLoadError:"Yükleme sırasında hata oluştu",labelFileProcessing:"Yükleniyor",labelFileProcessingComplete:"Yükleme tamamlandı",labelFileProcessingAborted:"Yükleme iptal edildi",labelFileProcessingError:"Yüklerken hata oluştu",labelFileProcessingRevertError:"Geri çekerken hata oluştu",labelFileRemoveError:"Kaldırırken hata oluştu",labelTapToCancel:"İptal etmek için tıklayın",labelTapToRetry:"Tekrar denemek için tıklayın",labelTapToUndo:"Geri almak için tıklayın",labelButtonRemoveItem:"Kaldır",labelButtonAbortItemLoad:"İptal Et",labelButtonRetryItemLoad:"Tekrar dene",labelButtonAbortItemProcessing:"İptal et",labelButtonUndoItemProcessing:"Geri Al",labelButtonRetryItemProcessing:"Tekrar dene",labelButtonProcessItem:"Yükle",labelMaxFileSizeExceeded:"Dosya çok büyük",labelMaxFileSize:"En fazla dosya boyutu: {filesize}",labelMaxTotalFileSizeExceeded:"Maximum boyut aşıldı",labelMaxTotalFileSize:"Maximum dosya boyutu :{filesize}",labelFileTypeNotAllowed:"Geçersiz dosya tipi",fileValidateTypeLabelExpectedTypes:"Şu {allButLastType} ya da şu dosya olması gerekir: {lastType}",imageValidateSizeLabelFormatError:"Resim tipi desteklenmiyor",imageValidateSizeLabelImageSizeTooSmall:"Resim çok küçük",imageValidateSizeLabelImageSizeTooBig:"Resim çok büyük",imageValidateSizeLabelExpectedMinSize:"Minimum boyut {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum boyut {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Çözünürlük çok düşük",imageValidateSizeLabelImageResolutionTooHigh:"Çözünürlük çok yüksek",imageValidateSizeLabelExpectedMinResolution:"Minimum çözünürlük {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum çözünürlük {maxResolution}"},uk_UA={labelIdle:'Перетягніть файли або <span class="filepond--label-action"> виберіть </span>',labelInvalidField:"Поле містить недопустимі файли",labelFileWaitingForSize:"Вкажіть розмір",labelFileSizeNotAvailable:"Розмір не доступний",labelFileLoading:"Очікування",labelFileLoadError:"Помилка при очікуванні",labelFileProcessing:"Завантаження",labelFileProcessingComplete:"Завантаження завершено",labelFileProcessingAborted:"Завантаження скасовано",labelFileProcessingError:"Помилка при завантаженні",labelFileProcessingRevertError:"Помилка при відновленні",labelFileRemoveError:"Помилка при видаленні",labelTapToCancel:"Відмінити",labelTapToRetry:"Натисніть, щоб повторити спробу",labelTapToUndo:"Натисніть, щоб відмінити останню дію",labelButtonRemoveItem:"Видалити",labelButtonAbortItemLoad:"Відмінити",labelButtonRetryItemLoad:"Повторити спробу",labelButtonAbortItemProcessing:"Відмінити",labelButtonUndoItemProcessing:"Відмінити останню дію",labelButtonRetryItemProcessing:"Повторити спробу",labelButtonProcessItem:"Завантаження",labelMaxFileSizeExceeded:"Файл занадто великий",labelMaxFileSize:"Максимальний розмір файлу: {filesize}",labelMaxTotalFileSizeExceeded:"Перевищено максимальний загальний розмір",labelMaxTotalFileSize:"Максимальний загальний розмір: {filesize}",labelFileTypeNotAllowed:"Формат файлу не підтримується",fileValidateTypeLabelExpectedTypes:"Очікується {allButLastType} або {lastType}",imageValidateSizeLabelFormatError:"Формат зображення не підтримується",imageValidateSizeLabelImageSizeTooSmall:"Зображення занадто маленьке",imageValidateSizeLabelImageSizeTooBig:"Зображення занадто велике",imageValidateSizeLabelExpectedMinSize:"Мінімальний розмір: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальний розмір: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Розміри зображення занадто маленькі",imageValidateSizeLabelImageResolutionTooHigh:"Розміри зображення занадто великі",imageValidateSizeLabelExpectedMinResolution:"Мінімальні розміри: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальні розміри: {maxResolution}"},vi_VI={labelIdle:'Kéo thả tệp của bạn hoặc <span class="filepond--label-action"> Tìm kiếm </span>',labelInvalidField:"Trường chứa các tệp không hợp lệ",labelFileWaitingForSize:"Đang chờ kích thước",labelFileSizeNotAvailable:"Kích thước không có sẵn",labelFileLoading:"Đang tải",labelFileLoadError:"Lỗi khi tải",labelFileProcessing:"Đang tải lên",labelFileProcessingComplete:"Tải lên thành công",labelFileProcessingAborted:"Đã huỷ tải lên",labelFileProcessingError:"Lỗi khi tải lên",labelFileProcessingRevertError:"Lỗi khi hoàn nguyên",labelFileRemoveError:"Lỗi khi xóa",labelTapToCancel:"nhấn để hủy",labelTapToRetry:"nhấn để thử lại",labelTapToUndo:"nhấn để hoàn tác",labelButtonRemoveItem:"Xoá",labelButtonAbortItemLoad:"Huỷ bỏ",labelButtonRetryItemLoad:"Thử lại",labelButtonAbortItemProcessing:"Hủy bỏ",labelButtonUndoItemProcessing:"Hoàn tác",labelButtonRetryItemProcessing:"Thử lại",labelButtonProcessItem:"Tải lên",labelMaxFileSizeExceeded:"Tập tin quá lớn",labelMaxFileSize:"Kích thước tệp tối đa là {filesize}",labelMaxTotalFileSizeExceeded:"Đã vượt quá tổng kích thước tối đa",labelMaxTotalFileSize:"Tổng kích thước tệp tối đa là {filesize}",labelFileTypeNotAllowed:"Tệp thuộc loại không hợp lệ",fileValidateTypeLabelExpectedTypes:"Kiểu tệp hợp lệ là {allButLastType} hoặc {lastType}",imageValidateSizeLabelFormatError:"Loại hình ảnh không được hỗ trợ",imageValidateSizeLabelImageSizeTooSmall:"Hình ảnh quá nhỏ",imageValidateSizeLabelImageSizeTooBig:"Hình ảnh quá lớn",imageValidateSizeLabelExpectedMinSize:"Kích thước tối thiểu là {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Kích thước tối đa là {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Độ phân giải quá thấp",imageValidateSizeLabelImageResolutionTooHigh:"Độ phân giải quá cao",imageValidateSizeLabelExpectedMinResolution:"Độ phân giải tối thiểu là {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Độ phân giải tối đa là {maxResolution}"},zh_CN={labelIdle:'拖放文件，或者 <span class="filepond--label-action"> 浏览 </span>',labelInvalidField:"字段包含无效文件",labelFileWaitingForSize:"计算文件大小",labelFileSizeNotAvailable:"文件大小不可用",labelFileLoading:"加载",labelFileLoadError:"加载错误",labelFileProcessing:"上传",labelFileProcessingComplete:"已上传",labelFileProcessingAborted:"上传已取消",labelFileProcessingError:"上传出错",labelFileProcessingRevertError:"还原出错",labelFileRemoveError:"删除出错",labelTapToCancel:"点击取消",labelTapToRetry:"点击重试",labelTapToUndo:"点击撤消",labelButtonRemoveItem:"删除",labelButtonAbortItemLoad:"中止",labelButtonRetryItemLoad:"重试",labelButtonAbortItemProcessing:"取消",labelButtonUndoItemProcessing:"撤消",labelButtonRetryItemProcessing:"重试",labelButtonProcessItem:"上传",labelMaxFileSizeExceeded:"文件太大",labelMaxFileSize:"最大值: {filesize}",labelMaxTotalFileSizeExceeded:"超过最大文件大小",labelMaxTotalFileSize:"最大文件大小：{filesize}",labelFileTypeNotAllowed:"文件类型无效",fileValidateTypeLabelExpectedTypes:"应为 {allButLastType} 或 {lastType}",imageValidateSizeLabelFormatError:"不支持图像类型",imageValidateSizeLabelImageSizeTooSmall:"图像太小",imageValidateSizeLabelImageSizeTooBig:"图像太大",imageValidateSizeLabelExpectedMinSize:"最小值: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"最大值: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"分辨率太低",imageValidateSizeLabelImageResolutionTooHigh:"分辨率太高",imageValidateSizeLabelExpectedMinResolution:"最小分辨率：{minResolution}",imageValidateSizeLabelExpectedMaxResolution:"最大分辨率：{maxResolution}"},zh_TW={labelIdle:'拖放檔案，或者 <span class="filepond--label-action"> 瀏覽 </span>',labelInvalidField:"不支援此檔案",labelFileWaitingForSize:"正在計算檔案大小",labelFileSizeNotAvailable:"檔案大小不符",labelFileLoading:"讀取中",labelFileLoadError:"讀取錯誤",labelFileProcessing:"上傳",labelFileProcessingComplete:"已上傳",labelFileProcessingAborted:"上傳已取消",labelFileProcessingError:"上傳發生錯誤",labelFileProcessingRevertError:"還原錯誤",labelFileRemoveError:"刪除錯誤",labelTapToCancel:"點擊取消",labelTapToRetry:"點擊重試",labelTapToUndo:"點擊還原",labelButtonRemoveItem:"刪除",labelButtonAbortItemLoad:"停止",labelButtonRetryItemLoad:"重試",labelButtonAbortItemProcessing:"取消",labelButtonUndoItemProcessing:"取消",labelButtonRetryItemProcessing:"重試",labelButtonProcessItem:"上傳",labelMaxFileSizeExceeded:"檔案過大",labelMaxFileSize:"最大值：{filesize}",labelMaxTotalFileSizeExceeded:"超過最大可上傳大小",labelMaxTotalFileSize:"最大可上傳大小：{filesize}",labelFileTypeNotAllowed:"不支援此類型檔案",fileValidateTypeLabelExpectedTypes:"應為 {allButLastType} 或 {lastType}",imageValidateSizeLabelFormatError:"不支持此類圖片類型",imageValidateSizeLabelImageSizeTooSmall:"圖片過小",imageValidateSizeLabelImageSizeTooBig:"圖片過大",imageValidateSizeLabelExpectedMinSize:"最小尺寸：{minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"最大尺寸：{maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"解析度過低",imageValidateSizeLabelImageResolutionTooHigh:"解析度過高",imageValidateSizeLabelExpectedMinResolution:"最低解析度：{minResolution}",imageValidateSizeLabelExpectedMaxResolution:"最高解析度：{maxResolution}"},locales={"ar-ar":ar_AR,"az-az":az_AZ,"cs-cz":cs_CZ,"da-dk":da_DK,"de-de":de_DE,"el-el":el_EL,"en-en":en_EN,"es-es":es_ES,"fa-ir":fa_IR,"fi-fi":fi_FI,"fr-fr":fr_FR,"he-he":he_HE,"hr-hr":hr_HR,"hu-hu":hu_HU,"id-id":id_ID,"it-it":it_IT,"ja-ja":ja_JA,"km-km":km_KM,"lt-lt":lt_LT,"nl-nl":nl_NL,"no-nb":no_NB,"pl-pl":pl_PL,"pt-br":pt_BR,"pt-pt":pt_PT,"ro-ro":ro_RO,"ru-ru":ru_RU,"sk-sk":sk_SK,"sv-se":sv_SE,"tr-tr":tr_TR,"uk-ua":uk_UA,"vi-vi":vi_VI,"zh-cn":zh_CN,"zh-tw":zh_TW},filepond=e=>({init(){registerPlugin(plugin$3),registerPlugin(plugin$2),registerPlugin(plugin$1),registerPlugin(plugin);const t=this.$wire.fields[e.field].properties;create$f(this.$refs.input,{allowMultiple:t.multiple,minFileSize:t.file_size.min?`${t.file_size.min}KB`:null,maxFileSize:t.file_size.max?`${t.file_size.max}KB`:null,acceptedFileTypes:t.file_types,imageValidateSizeMinWidth:t.dimensions.min_width??1,imageValidateSizeMinHeight:t.dimensions.min_height??1,imageValidateSizeMaxWidth:t.dimensions.max_width??65535,imageValidateSizeMaxHeight:t.dimensions.max_height??65535,credits:!1,server:{process:(a,n,l,r,s,o,c,u,d)=>{this.$wire.upload(t.key,n,r,s,o)},revert:(a,n)=>{this.$wire.removeUpload(t.key,a,n)}},...locales[e.locale]})},reset(t){t===this.$wire.id&&find(this.$el.querySelector(".filepond--root")).removeFiles()}}),KEYS=["if","if_any","show_when","show_when_any","unless","unless_any","hide_when","hide_when_any"],OPERATORS=["equals","not","contains","contains_any","===","!==",">",">=","<","<=","custom"],ALIASES={is:"equals","==":"equals",isnt:"not","!=":"not",includes:"contains",includes_any:"contains_any"};var VERSION="1.13.6",root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,_isNaN=isNaN,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function _(e){if(e instanceof _)return e;if(!(this instanceof _))return new _(e);this._wrapped=e}_.VERSION=VERSION,_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)};function identity(e){return e}function tagTester(e){var t="[object "+e+"]";return function(a){return toString.call(a)===t}}var isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof nodelist!="function"&&(isFunction=function(e){return typeof e=="function"||!1});const isFunction$1=isFunction;function isObject(e){var t=typeof e;return t==="function"||t==="object"&&!!e}const isArray=nativeIsArray||tagTester("Array");function createAssigner(e,t){return function(a){var n=arguments.length;if(t&&(a=Object(a)),n<2||a==null)return a;for(var l=1;l<n;l++)for(var r=arguments[l],s=e(r),o=s.length,c=0;c<o;c++){var u=s[c];(!t||a[u]===void 0)&&(a[u]=r[u])}return a}}function has(e,t){return e!=null&&hasOwnProperty.call(e,t)}function emulatedSet(e){for(var t={},a=e.length,n=0;n<a;++n)t[e[n]]=!0;return{contains:function(l){return t[l]===!0},push:function(l){return t[l]=!0,e.push(l)}}}function collectNonEnumProps(e,t){t=emulatedSet(t);var a=nonEnumerableProps.length,n=e.constructor,l=isFunction$1(n)&&n.prototype||ObjProto,r="constructor";for(has(e,r)&&!t.contains(r)&&t.push(r);a--;)r=nonEnumerableProps[a],r in e&&e[r]!==l[r]&&!t.contains(r)&&t.push(r)}function keys(e){if(!isObject(e))return[];if(nativeKeys)return nativeKeys(e);var t=[];for(var a in e)has(e,a)&&t.push(a);return hasEnumBug&&collectNonEnumProps(e,t),t}const extendOwn=createAssigner(keys);function isMatch(e,t){var a=keys(t),n=a.length;if(e==null)return!n;for(var l=Object(e),r=0;r<n;r++){var s=a[r];if(t[s]!==l[s]||!(s in l))return!1}return!0}function matcher(e){return e=extendOwn({},e),function(t){return isMatch(t,e)}}function deepGet(e,t){for(var a=t.length,n=0;n<a;n++){if(e==null)return;e=e[t[n]]}return a?e:void 0}function toPath$1(e){return isArray(e)?e:[e]}_.toPath=toPath$1;function toPath(e){return _.toPath(e)}function property(e){return e=toPath(e),function(t){return deepGet(t,e)}}function optimizeCb(e,t,a){if(t===void 0)return e;switch(a??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,l,r){return e.call(t,n,l,r)};case 4:return function(n,l,r,s){return e.call(t,n,l,r,s)}}return function(){return e.apply(t,arguments)}}function baseIteratee(e,t,a){return e==null?identity:isFunction$1(e)?optimizeCb(e,t,a):isObject(e)&&!isArray(e)?matcher(e):property(e)}function iteratee(e,t){return baseIteratee(e,t,1/0)}_.iteratee=iteratee;function cb(e,t,a){return _.iteratee!==iteratee?_.iteratee(e,t):baseIteratee(e,t,a)}function createSizePropertyCheck(e){return function(t){var a=e(t);return typeof a=="number"&&a>=0&&a<=MAX_ARRAY_INDEX}}function shallowProperty(e){return function(t){return t==null?void 0:t[e]}}const getLength=shallowProperty("length"),isArrayLike=createSizePropertyCheck(getLength);function map(e,t,a){t=cb(t,a);for(var n=!isArrayLike(e)&&keys(e),l=(n||e).length,r=Array(l),s=0;s<l;s++){var o=n?n[s]:s;r[s]=t(e[o],o,e)}return r}function each(e,t,a){t=optimizeCb(t,a);var n,l;if(isArrayLike(e))for(n=0,l=e.length;n<l;n++)t(e[n],n,e);else{var r=keys(e);for(n=0,l=r.length;n<l;n++)t(e[r[n]],r[n],e)}return e}function filter(e,t,a){var n=[];return t=cb(t,a),each(e,function(l,r,s){t(l,r,s)&&n.push(l)}),n}function chain(e){var t=_(e);return t._chain=!0,t}function functions(e){var t=[];for(var a in e)isFunction$1(e[a])&&t.push(a);return t.sort()}function chainResult(e,t){return e._chain?_(t).chain():t}function mixin(e){return each(functions(e),function(t){var a=_[t]=e[t];_.prototype[t]=function(){var n=[this._wrapped];return push.apply(n,arguments),chainResult(this,a.apply(_,n))}}),_}mixin({chain,filter,each});class Converter{fromBlueprint(t,a=null){return map(t,(n,l)=>this.splitRhs(l,n,a))}toBlueprint(t){let a={};return each(t,n=>{a[n.field]=this.combineRhs(n)}),a}splitRhs(t,a,n=null){return{field:this.getScopedFieldHandle(t,n),operator:this.getOperatorFromRhs(a),value:this.getValueFromRhs(a)}}getScopedFieldHandle(t,a){return t.startsWith("root.")||!a?t:a+t}getOperatorFromRhs(t){let a="==";return chain(this.getOperatorsAndAliases()).filter(n=>new RegExp(`^${n} [^=]`).test(this.normalizeConditionString(t))).each(n=>a=n),this.normalizeOperator(a)}normalizeOperator(t){return ALIASES[t]?ALIASES[t]:t}getValueFromRhs(t){let a=this.normalizeConditionString(t);return chain(this.getOperatorsAndAliases()).filter(n=>new RegExp(`^${n} [^=]`).test(a)).each(n=>a=a.replace(new RegExp(`^${n}[ ]*`),"")),a}combineRhs(t){let a=t.operator?t.operator.trim():"",n=t.value.trim();return`${a} ${n}`.trim()}getOperatorsAndAliases(){return OPERATORS.concat(Object.keys(ALIASES))}normalizeConditionString(t){return t===null?"null":t===""?"empty":t.toString()}}function getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let defaults=getDefaults();function changeDefaults(e){defaults=e}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>escapeReplacements[e];function escape(e,t){if(t){if(escapeTest.test(e))return e.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(e))return e.replace(escapeReplaceNoEncode,getEscapeReplacement);return e}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(e){return e.replace(unescapeTest,(t,a)=>(a=a.toLowerCase(),a==="colon"?":":a.charAt(0)==="#"?a.charAt(1)==="x"?String.fromCharCode(parseInt(a.substring(2),16)):String.fromCharCode(+a.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(e,t){e=typeof e=="string"?e:e.source,t=t||"";const a={replace:(n,l)=>(l=l.source||l,l=l.replace(caret,"$1"),e=e.replace(n,l),a),getRegex:()=>new RegExp(e,t)};return a}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(e,t,a){if(e){let n;try{n=decodeURIComponent(unescape$1(a)).replace(nonWordAndColonTest,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}t&&!originIndependentUrl.test(a)&&(a=resolveUrl(t,a));try{a=encodeURI(a).replace(/%25/g,"%")}catch{return null}return a}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(e,t){baseUrls[" "+e]||(justDomain.test(e)?baseUrls[" "+e]=e+"/":baseUrls[" "+e]=rtrim(e,"/",!0)),e=baseUrls[" "+e];const a=e.indexOf(":")===-1;return t.substring(0,2)==="//"?a?t:e.replace(protocol,"$1")+t:t.charAt(0)==="/"?a?t:e.replace(domain,"$1")+t:e+t}const noopTest={exec:function(){}};function splitCells(e,t){const a=e.replace(/\|/g,(r,s,o)=>{let c=!1,u=s;for(;--u>=0&&o[u]==="\\";)c=!c;return c?"|":" |"}),n=a.split(/ \|/);let l=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;l<n.length;l++)n[l]=n[l].trim().replace(/\\\|/g,"|");return n}function rtrim(e,t,a){const n=e.length;if(n===0)return"";let l=0;for(;l<n;){const r=e.charAt(n-l-1);if(r===t&&!a)l++;else if(r!==t&&a)l++;else break}return e.slice(0,n-l)}function findClosingBracket(e,t){if(e.indexOf(t[1])===-1)return-1;const a=e.length;let n=0,l=0;for(;l<a;l++)if(e[l]==="\\")l++;else if(e[l]===t[0])n++;else if(e[l]===t[1]&&(n--,n<0))return l;return-1}function checkSanitizeDeprecation(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function repeatString(e,t){if(t<1)return"";let a="";for(;t>1;)t&1&&(a+=e),t>>=1,e+=e;return a+e}function outputLink(e,t,a,n){const l=t.href,r=t.title?escape(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:a,href:l,title:r,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:a,href:l,title:r,text:escape(s)}}function indentCodeCompensation(e,t){const a=e.match(/^(\s+)(?:```)/);if(a===null)return t;const n=a[1];return t.split(`
`).map(l=>{const r=l.match(/^\s+/);if(r===null)return l;const[s]=r;return s.length>=n.length?l.slice(n.length):l}).join(`
`)}class Tokenizer{constructor(t){this.options=t||defaults}space(t){const a=this.rules.block.newline.exec(t);if(a&&a[0].length>0)return{type:"space",raw:a[0]}}code(t){const a=this.rules.block.code.exec(t);if(a){const n=a[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:a[0],codeBlockStyle:"indented",text:this.options.pedantic?n:rtrim(n,`
`)}}}fences(t){const a=this.rules.block.fences.exec(t);if(a){const n=a[0],l=indentCodeCompensation(n,a[3]||"");return{type:"code",raw:n,lang:a[2]?a[2].trim().replace(this.rules.inline._escapes,"$1"):a[2],text:l}}}heading(t){const a=this.rules.block.heading.exec(t);if(a){let n=a[2].trim();if(/#$/.test(n)){const l=rtrim(n,"#");(this.options.pedantic||!l||/ $/.test(l))&&(n=l.trim())}return{type:"heading",raw:a[0],depth:a[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const a=this.rules.block.hr.exec(t);if(a)return{type:"hr",raw:a[0]}}blockquote(t){const a=this.rules.block.blockquote.exec(t);if(a){const n=a[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=l,{type:"blockquote",raw:a[0],tokens:r,text:n}}}list(t){let a=this.rules.block.list.exec(t);if(a){let n,l,r,s,o,c,u,d,p,h,m,g,E=a[1].trim();const T=E.length>1,I={type:"list",raw:"",ordered:T,start:T?+E.slice(0,-1):"",loose:!1,items:[]};E=T?`\\d{1,9}\\${E.slice(-1)}`:`\\${E}`,this.options.pedantic&&(E=T?E:"[*+-]");const f=new RegExp(`^( {0,3}${E})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(g=!1,!(!(a=f.exec(t))||this.rules.block.hr.test(t)));){if(n=a[0],t=t.substring(n.length),d=a[2].split(`
`,1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),p=t.split(`
`,1)[0],this.options.pedantic?(s=2,m=d.trimLeft()):(s=a[2].search(/[^ ]/),s=s>4?1:s,m=d.slice(s),s+=a[1].length),c=!1,!d&&/^ *$/.test(p)&&(n+=p+`
`,t=t.substring(p.length+1),g=!0),!g){const S=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),R=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),A=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),O=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;t&&(h=t.split(`
`,1)[0],p=h,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(A.test(p)||O.test(p)||S.test(p)||R.test(t)));){if(p.search(/[^ ]/)>=s||!p.trim())m+=`
`+p.slice(s);else{if(c||d.search(/[^ ]/)>=4||A.test(d)||O.test(d)||R.test(d))break;m+=`
`+p}!c&&!p.trim()&&(c=!0),n+=h+`
`,t=t.substring(h.length+1),d=p.slice(s)}}I.loose||(u?I.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(l=/^\[[ xX]\] /.exec(m),l&&(r=l[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),I.items.push({type:"list_item",raw:n,task:!!l,checked:r,loose:!1,text:m}),I.raw+=n}I.items[I.items.length-1].raw=n.trimRight(),I.items[I.items.length-1].text=m.trimRight(),I.raw=I.raw.trimRight();const b=I.items.length;for(o=0;o<b;o++)if(this.lexer.state.top=!1,I.items[o].tokens=this.lexer.blockTokens(I.items[o].text,[]),!I.loose){const S=I.items[o].tokens.filter(A=>A.type==="space"),R=S.length>0&&S.some(A=>/\n.*\n/.test(A.raw));I.loose=R}if(I.loose)for(o=0;o<b;o++)I.items[o].loose=!0;return I}}html(t){const a=this.rules.block.html.exec(t);if(a){const n={type:"html",raw:a[0],pre:!this.options.sanitizer&&(a[1]==="pre"||a[1]==="script"||a[1]==="style"),text:a[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(a[0]):escape(a[0]);n.type="paragraph",n.text=l,n.tokens=this.lexer.inline(l)}return n}}def(t){const a=this.rules.block.def.exec(t);if(a){const n=a[1].toLowerCase().replace(/\s+/g," "),l=a[2]?a[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=a[3]?a[3].substring(1,a[3].length-1).replace(this.rules.inline._escapes,"$1"):a[3];return{type:"def",tag:n,raw:a[0],href:l,title:r}}}table(t){const a=this.rules.block.table.exec(t);if(a){const n={type:"table",header:splitCells(a[1]).map(l=>({text:l})),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:a[3]&&a[3].trim()?a[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=a[0];let l=n.align.length,r,s,o,c;for(r=0;r<l;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(l=n.rows.length,r=0;r<l;r++)n.rows[r]=splitCells(n.rows[r],n.header.length).map(u=>({text:u}));for(l=n.header.length,s=0;s<l;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(l=n.rows.length,s=0;s<l;s++)for(c=n.rows[s],o=0;o<c.length;o++)c[o].tokens=this.lexer.inline(c[o].text);return n}}}lheading(t){const a=this.rules.block.lheading.exec(t);if(a)return{type:"heading",raw:a[0],depth:a[2].charAt(0)==="="?1:2,text:a[1],tokens:this.lexer.inline(a[1])}}paragraph(t){const a=this.rules.block.paragraph.exec(t);if(a){const n=a[1].charAt(a[1].length-1)===`
`?a[1].slice(0,-1):a[1];return{type:"paragraph",raw:a[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const a=this.rules.block.text.exec(t);if(a)return{type:"text",raw:a[0],text:a[0],tokens:this.lexer.inline(a[0])}}escape(t){const a=this.rules.inline.escape.exec(t);if(a)return{type:"escape",raw:a[0],text:escape(a[1])}}tag(t){const a=this.rules.inline.tag.exec(t);if(a)return!this.lexer.state.inLink&&/^<a /i.test(a[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(a[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:a[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):escape(a[0]):a[0]}}link(t){const a=this.rules.inline.link.exec(t);if(a){const n=a[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=rtrim(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=findClosingBracket(a[2],"()");if(s>-1){const c=(a[0].indexOf("!")===0?5:4)+a[1].length+s;a[2]=a[2].substring(0,s),a[0]=a[0].substring(0,c).trim(),a[3]=""}}let l=a[2],r="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],r=s[3])}else r=a[3]?a[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(n)?l=l.slice(1):l=l.slice(1,-1)),outputLink(a,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},a[0],this.lexer)}}reflink(t,a){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let l=(n[2]||n[1]).replace(/\s+/g," ");if(l=a[l.toLowerCase()],!l){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return outputLink(n,l,n[0],this.lexer)}}emStrong(t,a,n=""){let l=this.rules.inline.emStrong.lDelim.exec(t);if(!l||l[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=l[1]||l[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const s=l[0].length-1;let o,c,u=s,d=0;const p=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,a=a.slice(-1*t.length+s);(l=p.exec(a))!=null;){if(o=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!o)continue;if(c=o.length,l[3]||l[4]){u+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+d);const h=t.slice(0,s+l.index+(l[0].length-o.length)+c);if(Math.min(s,c)%2){const g=h.slice(1,-1);return{type:"em",raw:h,text:g,tokens:this.lexer.inlineTokens(g)}}const m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(t){const a=this.rules.inline.code.exec(t);if(a){let n=a[2].replace(/\n/g," ");const l=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return l&&r&&(n=n.substring(1,n.length-1)),n=escape(n,!0),{type:"codespan",raw:a[0],text:n}}}br(t){const a=this.rules.inline.br.exec(t);if(a)return{type:"br",raw:a[0]}}del(t){const a=this.rules.inline.del.exec(t);if(a)return{type:"del",raw:a[0],text:a[2],tokens:this.lexer.inlineTokens(a[2])}}autolink(t,a){const n=this.rules.inline.autolink.exec(t);if(n){let l,r;return n[2]==="@"?(l=escape(this.options.mangle?a(n[1]):n[1]),r="mailto:"+l):(l=escape(n[1]),r=l),{type:"link",raw:n[0],text:l,href:r,tokens:[{type:"text",raw:l,text:l}]}}}url(t,a){let n;if(n=this.rules.inline.url.exec(t)){let l,r;if(n[2]==="@")l=escape(this.options.mangle?a(n[0]):n[0]),r="mailto:"+l;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(s!==n[0]);l=escape(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:l,href:r,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(t,a){const n=this.rules.inline.text.exec(t);if(n){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):escape(n[0]):n[0]:l=escape(this.options.smartypants?a(n[0]):n[0]),{type:"text",raw:n[0],text:l}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}[.)])/,block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex(),block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal={...block},block.gfm={...block.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.pedantic={...block.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};inline._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",inline.punctuation=edit(inline.punctuation).replace(/punctuation/g,inline._punctuation).getRegex(),inline.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,inline.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,inline._comment=edit(block._comment).replace("(?:-->|$)","-->").getRegex(),inline.emStrong.lDelim=edit(inline.emStrong.lDelim).replace(/punct/g,inline._punctuation).getRegex(),inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"g").replace(/punct/g,inline._punctuation).getRegex(),inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"g").replace(/punct/g,inline._punctuation).getRegex(),inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex(),inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex(),inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex(),inline.normal={...inline},inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()},inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function smartypants(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(e){let t="",a,n;const l=e.length;for(a=0;a<l;a++)n=e.charCodeAt(a),Math.random()>.5&&(n="x"+n.toString(16)),t+="&#"+n+";";return t}class Lexer{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||defaults,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const a={block:block.normal,inline:inline.normal};this.options.pedantic?(a.block=block.pedantic,a.inline=inline.pedantic):this.options.gfm&&(a.block=block.gfm,this.options.breaks?a.inline=inline.breaks:a.inline=inline.gfm),this.tokenizer.rules=a}static get rules(){return{block,inline}}static lex(t,a){return new Lexer(a).lex(t)}static lexInline(t,a){return new Lexer(a).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let a;for(;a=this.inlineQueue.shift();)this.inlineTokens(a.src,a.tokens);return this.tokens}blockTokens(t,a=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(o,c,u)=>c+"    ".repeat(u.length));let n,l,r,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},t,a))?(t=t.substring(n.raw.length),a.push(n),!0):!1))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),n.raw.length===1&&a.length>0?a[a.length-1].raw+=`
`:a.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),l=a[a.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):a.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),l=a[a.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+n.raw,l.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),a.push(n);continue}if(r=t,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const c=t.slice(1);let u;this.options.extensions.startBlock.forEach(function(d){u=d.call({lexer:this},c),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(r=t.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){l=a[a.length-1],s&&l.type==="paragraph"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):a.push(n),s=r.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),l=a[a.length-1],l&&l.type==="text"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):a.push(n);continue}if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,a}inline(t,a=[]){return this.inlineQueue.push({src:t,tokens:a}),a}inlineTokens(t,a=[]){let n,l,r,s=t,o,c,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+repeatString("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+repeatString("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,o.index+o[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(n=d.call({lexer:this},t,a))?(t=t.substring(n.raw.length),a.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),l=a[a.length-1],l&&n.type==="text"&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):a.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),l=a[a.length-1],l&&n.type==="text"&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):a.push(n);continue}if(n=this.tokenizer.emStrong(t,s,u)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),a.push(n);continue}if(n=this.tokenizer.autolink(t,mangle)){t=t.substring(n.raw.length),a.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t,mangle))){t=t.substring(n.raw.length),a.push(n);continue}if(r=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=t.slice(1);let h;this.options.extensions.startInline.forEach(function(m){h=m.call({lexer:this},p),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(r=t.substring(0,d+1))}if(n=this.tokenizer.inlineText(r,smartypants)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),c=!0,l=a[a.length-1],l&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):a.push(n);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return a}}class Renderer{constructor(t){this.options=t||defaults}code(t,a,n){const l=(a||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(t,l);r!=null&&r!==t&&(n=!0,t=r)}return t=t.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+escape(l)+'">'+(n?t:escape(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:escape(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,a,n,l){if(this.options.headerIds){const r=this.options.headerPrefix+l.slug(n);return`<h${a} id="${r}">${t}</h${a}>
`}return`<h${a}>${t}</h${a}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,a,n){const l=a?"ol":"ul",r=a&&n!==1?' start="'+n+'"':"";return"<"+l+r+`>
`+t+"</"+l+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,a){return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+a+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,a){const n=a.header?"th":"td";return(a.align?`<${n} align="${a.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,a,n){if(t=cleanUrl(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let l='<a href="'+t+'"';return a&&(l+=' title="'+a+'"'),l+=">"+n+"</a>",l}image(t,a,n){if(t=cleanUrl(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let l=`<img src="${t}" alt="${n}"`;return a&&(l+=` title="${a}"`),l+=this.options.xhtml?"/>":">",l}text(t){return t}}class TextRenderer{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,a,n){return""+n}image(t,a,n){return""+n}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,a){let n=t,l=0;if(this.seen.hasOwnProperty(n)){l=this.seen[t];do l++,n=t+"-"+l;while(this.seen.hasOwnProperty(n))}return a||(this.seen[t]=l,this.seen[n]=0),n}slug(t,a={}){const n=this.serialize(t);return this.getNextSafeSlug(n,a.dryrun)}}class Parser{constructor(t){this.options=t||defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(t,a){return new Parser(a).parse(t)}static parseInline(t,a){return new Parser(a).parseInline(t)}parse(t,a=!0){let n="",l,r,s,o,c,u,d,p,h,m,g,E,T,I,f,b,S,R,A;const O=t.length;for(l=0;l<O;l++){if(m=t[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(A=this.options.extensions.renderers[m.type].call({parser:this},m),A!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){n+=A||"";continue}switch(m.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(m.tokens),m.depth,unescape$1(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(p="",d="",o=m.header.length,r=0;r<o;r++)d+=this.renderer.tablecell(this.parseInline(m.header[r].tokens),{header:!0,align:m.align[r]});for(p+=this.renderer.tablerow(d),h="",o=m.rows.length,r=0;r<o;r++){for(u=m.rows[r],d="",c=u.length,s=0;s<c;s++)d+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:m.align[s]});h+=this.renderer.tablerow(d)}n+=this.renderer.table(p,h);continue}case"blockquote":{h=this.parse(m.tokens),n+=this.renderer.blockquote(h);continue}case"list":{for(g=m.ordered,E=m.start,T=m.loose,o=m.items.length,h="",r=0;r<o;r++)f=m.items[r],b=f.checked,S=f.task,I="",f.task&&(R=this.renderer.checkbox(b),T?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=R+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=R+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:R}):I+=R),I+=this.parse(f.tokens,T),h+=this.renderer.listitem(I,S,b);n+=this.renderer.list(h,g,E);continue}case"html":{n+=this.renderer.html(m.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(h=m.tokens?this.parseInline(m.tokens):m.text;l+1<O&&t[l+1].type==="text";)m=t[++l],h+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);n+=a?this.renderer.paragraph(h):h;continue}default:{const L='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error(L);return}else throw new Error(L)}}}return n}parseInline(t,a){a=a||this.renderer;let n="",l,r,s;const o=t.length;for(l=0;l<o;l++){if(r=t[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(s=this.options.extensions.renderers[r.type].call({parser:this},r),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=s||"";continue}switch(r.type){case"escape":{n+=a.text(r.text);break}case"html":{n+=a.html(r.text);break}case"link":{n+=a.link(r.href,r.title,this.parseInline(r.tokens,a));break}case"image":{n+=a.image(r.href,r.title,r.text);break}case"strong":{n+=a.strong(this.parseInline(r.tokens,a));break}case"em":{n+=a.em(this.parseInline(r.tokens,a));break}case"codespan":{n+=a.codespan(r.text);break}case"br":{n+=a.br();break}case"del":{n+=a.del(this.parseInline(r.tokens,a));break}case"text":{n+=a.text(r.text);break}default:{const c='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return n}}class Hooks{constructor(t){this.options=t||defaults}preprocess(t){return t}postprocess(t){return t}}Z(Hooks,"passThroughHooks",new Set(["preprocess","postprocess"]));function onError(e,t,a){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+escape(n.message+"",!0)+"</pre>";if(t)return Promise.resolve(l);if(a){a(null,l);return}return l}if(t)return Promise.reject(n);if(a){a(n);return}throw n}}function parseMarkdown(e,t){return(a,n,l)=>{typeof n=="function"&&(l=n,n=null);const r={...n};n={...marked.defaults,...r};const s=onError(n.silent,n.async,l);if(typeof a>"u"||a===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof a!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected"));if(checkSanitizeDeprecation(n),n.hooks&&(n.hooks.options=n),l){const o=n.highlight;let c;try{n.hooks&&(a=n.hooks.preprocess(a)),c=e(a,n)}catch(p){return s(p)}const u=function(p){let h;if(!p)try{n.walkTokens&&marked.walkTokens(c,n.walkTokens),h=t(c,n),n.hooks&&(h=n.hooks.postprocess(h))}catch(m){p=m}return n.highlight=o,p?s(p):l(null,h)};if(!o||o.length<3||(delete n.highlight,!c.length))return u();let d=0;marked.walkTokens(c,function(p){p.type==="code"&&(d++,setTimeout(()=>{o(p.text,p.lang,function(h,m){if(h)return u(h);m!=null&&m!==p.text&&(p.text=m,p.escaped=!0),d--,d===0&&u()})},0))}),d===0&&u();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(a):a).then(o=>e(o,n)).then(o=>n.walkTokens?Promise.all(marked.walkTokens(o,n.walkTokens)).then(()=>o):o).then(o=>t(o,n)).then(o=>n.hooks?n.hooks.postprocess(o):o).catch(s);try{n.hooks&&(a=n.hooks.preprocess(a));const o=e(a,n);n.walkTokens&&marked.walkTokens(o,n.walkTokens);let c=t(o,n);return n.hooks&&(c=n.hooks.postprocess(c)),c}catch(o){return s(o)}}}function marked(e,t,a){return parseMarkdown(Lexer.lex,Parser.parse)(e,t,a)}marked.options=marked.setOptions=function(e){return marked.defaults={...marked.defaults,...e},changeDefaults(marked.defaults),marked},marked.getDefaults=getDefaults,marked.defaults=defaults,marked.use=function(...e){const t=marked.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(a=>{const n={...a};if(n.async=marked.defaults.async||n.async||!1,a.extensions&&(a.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){const r=t.renderers[l.name];r?t.renderers[l.name]=function(...s){let o=l.renderer.apply(this,s);return o===!1&&(o=r.apply(this,s)),o}:t.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[l.level]?t[l.level].unshift(l.tokenizer):t[l.level]=[l.tokenizer],l.start&&(l.level==="block"?t.startBlock?t.startBlock.push(l.start):t.startBlock=[l.start]:l.level==="inline"&&(t.startInline?t.startInline.push(l.start):t.startInline=[l.start]))}l.childTokens&&(t.childTokens[l.name]=l.childTokens)}),n.extensions=t),a.renderer){const l=marked.defaults.renderer||new Renderer;for(const r in a.renderer){const s=l[r];l[r]=(...o)=>{let c=a.renderer[r].apply(l,o);return c===!1&&(c=s.apply(l,o)),c}}n.renderer=l}if(a.tokenizer){const l=marked.defaults.tokenizer||new Tokenizer;for(const r in a.tokenizer){const s=l[r];l[r]=(...o)=>{let c=a.tokenizer[r].apply(l,o);return c===!1&&(c=s.apply(l,o)),c}}n.tokenizer=l}if(a.hooks){const l=marked.defaults.hooks||new Hooks;for(const r in a.hooks){const s=l[r];Hooks.passThroughHooks.has(r)?l[r]=o=>{if(marked.defaults.async)return Promise.resolve(a.hooks[r].call(l,o)).then(u=>s.call(l,u));const c=a.hooks[r].call(l,o);return s.call(l,c)}:l[r]=(...o)=>{let c=a.hooks[r].apply(l,o);return c===!1&&(c=s.apply(l,o)),c}}n.hooks=l}if(a.walkTokens){const l=marked.defaults.walkTokens;n.walkTokens=function(r){let s=[];return s.push(a.walkTokens.call(this,r)),l&&(s=s.concat(l.call(this,r))),s}}marked.setOptions(n)})},marked.walkTokens=function(e,t){let a=[];for(const n of e)switch(a=a.concat(t.call(marked,n)),n.type){case"table":{for(const l of n.header)a=a.concat(marked.walkTokens(l.tokens,t));for(const l of n.rows)for(const r of l)a=a.concat(marked.walkTokens(r.tokens,t));break}case"list":{a=a.concat(marked.walkTokens(n.items,t));break}default:marked.defaults.extensions&&marked.defaults.extensions.childTokens&&marked.defaults.extensions.childTokens[n.type]?marked.defaults.extensions.childTokens[n.type].forEach(function(l){a=a.concat(marked.walkTokens(n[l],t))}):n.tokens&&(a=a.concat(marked.walkTokens(n.tokens,t)))}return a},marked.parseInline=parseMarkdown(Lexer.lexInline,Parser.parseInline),marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.TextRenderer=TextRenderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.Tokenizer=Tokenizer,marked.Slugger=Slugger,marked.Hooks=Hooks,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,Parser.parse,Lexer.lex;function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(a,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}),a}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uniqid={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var pid=typeof process<"u"&&process.pid?process.pid.toString(36):"",address="";if(typeof __webpack_require__!="function"&&typeof commonjsRequire<"u"){var mac="",os=require$$0;if(os.networkInterfaces)var networkInterfaces=os.networkInterfaces();if(networkInterfaces){e:for(let e in networkInterfaces){const t=networkInterfaces[e],a=t.length;for(var i=0;i<a;i++)if(t[i]!==void 0&&t[i].mac&&t[i].mac!="00:00:00:00:00:00"){mac=t[i].mac;break e}}address=mac?parseInt(mac.replace(/\:|\D+/gi,"")).toString(36):""}}uniqid.exports=uniqid.exports.default=function(e,t){return(e||"")+address+pid+now().toString(36)+(t||"")},uniqid.exports.process=function(e,t){return(e||"")+pid+now().toString(36)+(t||"")},uniqid.exports.time=function(e,t){return(e||"")+now().toString(36)+(t||"")};function now(){var e=Date.now(),t=now.last||e;return now.last=e>t?e:t+1}function data_get(e,t,a=null){var n=Array.isArray(t)?t:t.split("."),l=n.reduce((r,s)=>r&&r[s],e);return l!==void 0?l:a}const isString=tagTester("String");var isArguments=tagTester("Arguments");(function(){isArguments(arguments)||(isArguments=function(e){return has(e,"callee")})})();const isArguments$1=isArguments;function isEmpty(e){if(e==null)return!0;var t=getLength(e);return typeof t=="number"&&(isArray(e)||isString(e)||isArguments$1(e))?t===0:getLength(keys(e))===0}function values(e){for(var t=keys(e),a=t.length,n=Array(a),l=0;l<a;l++)n[l]=e[t[l]];return n}function sortedIndex(e,t,a,n){a=cb(a,n,1);for(var l=a(t),r=0,s=getLength(e);r<s;){var o=Math.floor((r+s)/2);a(e[o])<l?r=o+1:s=o}return r}function createPredicateIndexFinder(e){return function(t,a,n){a=cb(a,n);for(var l=getLength(t),r=e>0?0:l-1;r>=0&&r<l;r+=e)if(a(t[r],r,t))return r;return-1}}const findIndex=createPredicateIndexFinder(1),isNumber=tagTester("Number");function isNaN$1(e){return isNumber(e)&&_isNaN(e)}function createIndexFinder(e,t,a){return function(n,l,r){var s=0,o=getLength(n);if(typeof r=="number")e>0?s=r>=0?r:Math.max(r+o,s):o=r>=0?Math.min(r+1,o):r+o+1;else if(a&&r&&o)return r=a(n,l),n[r]===l?r:-1;if(l!==l)return r=t(slice.call(n,s,o),isNaN$1),r>=0?r+s:-1;for(r=e>0?s:o-1;r>=0&&r<o;r+=e)if(n[r]===l)return r;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex);function contains(e,t,a,n){return isArrayLike(e)||(e=values(e)),(typeof a!="number"||n)&&(a=0),indexOf(e,t,a)>=0}function intersection(e){for(var t=[],a=arguments.length,n=0,l=getLength(e);n<l;n++){var r=e[n];if(!contains(t,r)){var s;for(s=1;s<a&&contains(arguments[s],r);s++);s===a&&t.push(r)}}return t}function negate(e){return function(){return!e.apply(this,arguments)}}function reject(e,t,a){return filter(e,negate(cb(t)),a)}function initial(e,t,a){return slice.call(e,0,Math.max(0,e.length-(t==null||a?1:t)))}function first(e,t,a){return e==null||e.length<1?t==null||a?void 0:[]:t==null||a?e[0]:initial(e,e.length-t)}mixin({chain,map,each,filter,reject,first,isEmpty});const NUMBER_SPECIFIC_COMPARISONS=[">",">=","<","<="];class Validator{constructor(e,t,a,n){this.field=e,this.values=t,this.rootValues=a?a.state.publish[n].values:!1,this.store=a,this.storeName=n,this.passOnAny=!1,this.showOnPass=!0,this.converter=new Converter}passesConditions(e){let t=e||this.getConditions();if(t===void 0)return!0;if(this.isCustomConditionWithoutTarget(t))return this.passesCustomCondition(this.prepareCondition(t));let a=this.passOnAny?this.passesAnyConditions(t):this.passesAllConditions(t);return this.showOnPass?a:!a}getConditions(){let e=chain(KEYS).filter(a=>this.field[a]).first().value();if(!e)return;e.includes("any")&&(this.passOnAny=!0),(e.includes("unless")||e.includes("hide_when"))&&(this.showOnPass=!1);let t=this.field[e];return this.isCustomConditionWithoutTarget(t)?t:this.converter.fromBlueprint(t,this.field.prefix)}isCustomConditionWithoutTarget(e){return isString(e)}passesAllConditions(e){return chain(e).map(t=>this.prepareCondition(t)).reject(t=>this.passesCondition(t)).isEmpty().value()}passesAnyConditions(e){return!chain(e).map(t=>this.prepareCondition(t)).filter(t=>this.passesCondition(t)).isEmpty().value()}prepareCondition(e){if(isString(e)||e.operator==="custom")return this.prepareCustomCondition(e);let t=this.prepareOperator(e.operator),a=this.prepareLhs(e.field,t),n=this.prepareRhs(e.value,t);return{lhs:a,operator:t,rhs:n}}prepareOperator(e){switch(e){case null:case"":case"is":case"equals":return"==";case"isnt":case"not":case"¯\\_(ツ)_/¯":return"!=";case"includes":case"contains":return"includes";case"includes_any":case"contains_any":return"includes_any"}return e}prepareLhs(e,t){let a=this.getFieldValue(e);return NUMBER_SPECIFIC_COMPARISONS.includes(t)?Number(a):t==="includes"&&!isObject(a)?a?a.toString():"":(isString(a)&&isEmpty(a)&&(a=null),isString(a)?JSON.stringify(a.trim()):a)}prepareRhs(e,t){switch(e){case"null":return null;case"true":return!0;case"false":return!1}return NUMBER_SPECIFIC_COMPARISONS.includes(t)?Number(e):e==="empty"||t==="includes"||t==="includes_any"?e:isString(e)?JSON.stringify(e.trim()):e}prepareCustomCondition(e){let t=this.prepareFunctionName(e.value||e),a=this.prepareParams(e.value||e),n=e.field?this.getFieldValue(e.field):null,l=e.field;return{functionName:t,params:a,target:n,targetHandle:l}}prepareFunctionName(e){return e.replace(new RegExp("^custom "),"").split(":")[0]}prepareParams(e){let t=e.split(":")[1];return t?t.split(",").map(a=>a.trim()):[]}getFieldValue(e){return e.startsWith("root.")?data_get(this.rootValues,e.replace(new RegExp("^root."),"")):data_get(this.values,e)}passesCondition(condition){return condition.functionName?this.passesCustomCondition(condition):condition.operator==="includes"?this.passesIncludesCondition(condition):condition.operator==="includes_any"?this.passesIncludesAnyCondition(condition):(condition.rhs==="empty"&&(condition.lhs=isEmpty(condition.lhs),condition.rhs=!0),isObject(condition.lhs)?!1:eval(`${condition.lhs} ${condition.operator} ${condition.rhs}`))}passesIncludesCondition(e){return e.lhs.includes(e.rhs)}passesIncludesAnyCondition(e){let t=e.rhs.split(",").map(a=>a.trim());return Array.isArray(e.lhs)?intersection(e.lhs,t).length:new RegExp(t.join("|")).test(e.lhs)}passesCustomCondition(e){let t=data_get(this.store.state.statamic.conditions,e.functionName);if(typeof t!="function")return console.error(`Statamic field condition [${e.functionName}] was not properly defined.`),!1;let a=t({params:e.params,target:e.target,targetHandle:e.targetHandle,values:this.values,root:this.rootValues,store:this.store,storeName:this.storeName});return this.showOnPass?a:!a}passesNonRevealerConditions(e){let t=this.getConditions();if(this.isCustomConditionWithoutTarget(t))return this.passesConditions(t);let a=data_get(this.store.state.publish[this.storeName],"revealerFields",[]),n=chain(this.getConditions()).reject(l=>a.includes(this.relativeLhsToAbsoluteFieldPath(l.field,e))).value();return this.passesConditions(n)}relativeLhsToAbsoluteFieldPath(e,t){return t?e.startsWith("root.")?e.replace(/^root\./,""):t+"."+e:e}}class FieldConditions{showField(t,a){return new Validator(t,a).passesConditions()}}const form=()=>({fields:{},sections:{},processForm(){this.fields=this.processFields(this.$wire.fields),this.sections=this.processSections(this.fields)},processFields(e){const t=Object.entries(e).reduce((a,[n,l])=>(a[n]=l.value,a),{});return Object.entries(e).reduce((a,[n,l])=>{const r=new FieldConditions().showField(l.properties.conditions,t);return a[n]={visible:r&&!l.properties.hidden,submittable:l.properties.always_save||r,section:l.section},this.$wire.submittableFields[n]=a[n].submittable,a},{})},processSections(e){const t=Object.entries(e).reduce((n,[l,r])=>(r.section&&(n[r.section]=n[r.section]||[],n[r.section].push(r.visible)),n),{}),a=Object.fromEntries(Object.entries(t).map(([n,l])=>[n,l.some(Boolean)]));return JSON.stringify(a)!==JSON.stringify(this.$wire.stepVisibility)&&(this.$wire.stepVisibility=a,this.$wire.$refresh()),a},showField(e){return this.fields[e].visible},showSection(e){return this.sections[e]},showStep(e){return this.sections[e]}});Alpine.data("filepond",filepond),Alpine.data("form",form)});
